<!DOCTYPE html>
<!-- Created by pdf2htmlEX (https://github.com/coolwanglu/pdf2htmlex) -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="utf-8"/>
<meta name="generator" content="pdf2htmlEX"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<link rel="stylesheet" href="base.min.css"/>
<link rel="stylesheet" href="fancy.min.css"/>
<link rel="stylesheet" href="Book_Online.css"/>
<script src="compatibility.min.js"></script>
<script src="pdf2htmlEX.min.js"></script>
<script>
try{
pdf2htmlEX.defaultViewer = new pdf2htmlEX.Viewer({});
}catch(e){}
</script>
<title></title>
</head>
<body>
<div id="sidebar">
<div id="outline">
</div>
</div>
<div id="page-container">
<div id="pf1" class="pf w0 h0" data-page-no="1"><div class="pc pc1 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg1.png"/><div class="t m0 x1 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">P<span class="_ _0"></span>y<span class="_ _0"></span>thon<span class="ls1 ws1"> <span class="ff2 ls2 ws2">旋风之旅</span></span></div><div class="t m0 x1 h3 y2 ff3 fs1 fc0 sc0 ls1 ws1">A Whirlwind T<span class="_ _1"></span>our of P<span class="_ _0"></span>ython</div><div class="t m0 x2 h4 y3 ff4 fs2 fc1 sc0 ls1 ws1">［<span class="ls3 ws3">美<span class="_ _2"> </span>］　<span class="_ _3"> </span></span><span class="ff5">Jak<span class="_ _4"></span>e V<span class="_ _4"></span>anderPlas<span class="ff4">　　著</span></span></div><div class="t m0 x3 h4 y4 ff6 fs2 fc1 sc0 ls1 ws1">同济大学苹果开发俱乐部<span class="ff4">　译校</span></div><div class="t m1 x4 h5 y5 ff7 fs3 fc2 sc0 ls4 ws4">软件学院</div><div class="t m1 x5 h6 y6 ff8 fs4 fc2 sc0 ls5 ws1">School of Software Engineering, T<span class="_ _4"></span>ongji University</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf2" class="pf w0 h0" data-page-no="2"><div class="pc pc2 w0 h0"><img class="bi x0 y7 w2 h7" alt="" src="bg2.png"/><div class="t m1 x6 h8 y8 ff9 fs5 fc2 sc0 ls6 ws5">软件学院</div><div class="t m2 x7 h9 y9 ffa fs6 fc2 sc0 ls7 ws1">School of Software Engineering, T<span class="_ _4"></span>ongji University</div><div class="t m3 x8 ha ya ffb fs7 fc2 sc0 ls1 ws1">ISBN 978-7-1<span class="_ _5"></span>15-42031-2</div><div class="t m3 x9 hb yb ff9 fs7 fc2 sc0 ls1 ws1">内部资料</div><div class="t m0 x0 hc yc ffc fs8 fc2 sc0 ls1 ws1">Py<span class="_ _0"></span>thon </div><div class="t m4 xa hd yc ffd fs8 fc2 sc0 ls1 ws1">旋风之旅</div><div class="t m0 x0 he yd ffe fs9 fc2 sc0 ls1 ws1">Python </div><div class="t m5 xb hf yd fff fs9 fc2 sc0 ls8 ws6">是一门有着近 <span class="_ _0"></span></div><div class="t m0 xc h10 yd ffa fs9 fc2 sc0 ls8 ws6">30 </div><div class="t m5 xd hf yd fff fs9 fc2 sc0 ls8 ws6">年历史的编程语言。</div><div class="t m0 xe he yd ffe fs9 fc2 sc0 ls1 ws1">Python </div><div class="t m5 xf hf yd fff fs9 fc2 sc0 ls8 ws6">在当今这个数</div><div class="t m5 x0 hf ye fff fs9 fc2 sc0 ls9 ws7">据科学和机器学习蓬勃发展的年代焕发了新的活力。<span class="fc3">对于每一个</span></div><div class="t m5 x0 hf yf fff fs9 fc3 sc0 ls9 ws7">想要接触这些领域的人，无论你是不是计算机专业出身，都应该</div><div class="t m5 x0 hf y10 fff fs9 fc3 sc0 ls8 ws6">从 <span class="_ _0"></span></div><div class="t m0 x10 he y11 ffe fs9 fc2 sc0 ls1 ws1">Python </div><div class="t m5 x11 hf y11 fff fs9 fc3 sc0 ls8 ws6">这门语言入手，借助无数成熟的第三方库来完成你的工</div><div class="t m5 x0 hf y12 fff fs9 fc3 sc0 ls8 ws6">作。</div><div class="t m5 x0 hf y13 fff fs9 fc3 sc0 ls8 ws6">这本仅仅</div><div class="t m0 x11 h10 y14 ffa fs9 fc2 sc0 ls8 ws8"> 100 </div><div class="t m5 x12 hf y14 fff fs9 fc3 sc0 ls8 ws6">余页的小册子是一本精简的</div><div class="t m0 x13 he y14 ffe fs9 fc2 sc0 ls1 ws9"> Python </div><div class="t m5 x14 hf y14 fff fs9 fc3 sc0 ls8 ws6">编程入门教程，</div><div class="t m5 x0 hf y15 fff fs9 fc3 sc0 ls8 ws6">介绍了</div><div class="t m0 x15 he y16 ffe fs9 fc2 sc0 ls1 wsa"> Python </div><div class="t m5 x12 hf y16 fff fs9 fc3 sc0 ls8 ws6">语言的核心特性以及数据科学领域内一些第三方扩</div><div class="t m5 x0 hf y17 fff fs9 fc3 sc0 ls8 ws6">展包的实际应用，它能帮助你快速上手</div><div class="t m0 x5 he y18 ffe fs9 fc2 sc0 ls1 wsa"> Python </div><div class="t m5 x16 hf y18 fff fs9 fc3 sc0 ls8 ws6">并进行数据科学的</div><div class="t m5 x0 hf y19 fff fs9 fc3 sc0 ls8 ws6">研究。</div><div class="t m0 x0 h11 y1a ff10 fs9 fc2 sc0 ls1 wsb">Jak<span class="_ _4"></span>e V<span class="_ _4"></span>anderPlas<span class="ff11 ws1"> </span></div><div class="t m5 x17 hf y1a fff fs9 fc2 sc0 ls1 ws1">是</div><div class="t m0 x18 h11 y1a ff12 fs9 fc2 sc0 ls1 ws1">Python</div><div class="t m5 x19 hf y1a fff fs9 fc2 sc0 ls8 ws6">科学栈的深度用户和开发者，目前是华</div><div class="t m5 x0 hf y1b fff fs9 fc2 sc0 lsa wsc">盛顿大学</div><div class="t m0 x11 h11 y1c ff12 fs9 fc2 sc0 lsb wsd">eScience</div><div class="t m5 x1a hf y1c fff fs9 fc2 sc0 lsa wsc">学院物理科学研究院院长。他的研究方向为天</div><div class="t m5 x0 hf y1d fff fs9 fc2 sc0 ls8 ws6">文学。同时，他还为很多领域的科学家提供建议和咨询。</div><div class="t m0 x1b h12 y1e ff9 fs9 fc4 sc0 ls1 ws1">“<span class="ff13">赞美<span class="ff12">Python</span>！</span>”</div><div class="t m0 x1c h13 y1f ff14 fs9 fc4 sc0 ls1 ws1">——蒋宇凯<span class="ff13">，</span></div><div class="t m0 x9 h14 y20 ff15 fs9 fc4 sc0 ls1 ws1">Python <span class="ff14">掉发开发者</span></div><div class="t m0 x0 h15 y21 ff9 fsa fc2 sc0 ls1 ws1">封面设计：李晗 朱彦樵</div><div class="t m0 x0 h15 y22 ff9 fsa fc2 sc0 ls1 ws1">原书在线阅读：<span class="ff15">https:/<span class="_ _5"></span>/<span class="_ _4"></span>github.<span class="_ _4"></span>com/jakevdp/WhirlwindT<span class="_ _5"></span>ourOfPython</span></div><div class="t m0 x0 h15 y23 ff9 fsa fc2 sc0 ls1 ws1">中文版在线阅读：<span class="ff15">https:/<span class="_ _5"></span>/<span class="_ _4"></span>github.<span class="_ _4"></span>com/SXKDZ/<span class="_ _4"></span>A<span class="_ _4"></span>-<span class="_ _4"></span>Whirlwind-<span class="_ _5"></span>T<span class="_ _5"></span>our-of-Python</span></div><div class="t m4 x1d hf y24 fff fs9 fc2 sc0 ls8 ws6">了解</div><div class="t m0 x1e he y24 ffe fs9 fc2 sc0 ls1 ws1"> Python </div><div class="t m4 x1f hf y24 fff fs9 fc2 sc0 ls8 ws6">核心语法、语义、运算符和功能</div><div class="t m0 x1b h12 y25 ff9 fs9 fc4 sc0 ls1 ws1">“<span class="ff13">您的<span class="ff12">Python</span>代码行数和您的</span></div><div class="t m0 x20 h12 y26 ff13 fs9 fc4 sc0 ls1 ws1">头发负相关。<span class="ff9">”</span></div><div class="t m0 x21 h13 y27 ff14 fs9 fc4 sc0 ls1 ws1">——李源<span class="ff13">，</span></div><div class="t m0 x9 h14 y28 ff15 fs9 fc4 sc0 ls1 ws1">Python <span class="ff14">脱发开发者</span></div><div class="t m0 x1b h12 y29 ff9 fs9 fc4 sc0 ls1 ws1">“噢！<span class="ff13">感谢您读完这本书，但</span></div><div class="t m0 x20 h13 y2a ff13 fs9 fc4 sc0 ls1 ws1">别再浪费时间读封底了，我</div><div class="t m0 x20 h13 y2b ff13 fs9 fc4 sc0 ls1 ws1">的老伙计！快去自己动手实</div><div class="t m0 x20 h12 y2c ff13 fs9 fc4 sc0 ls1 ws1">践吧！<span class="ff9">”</span></div><div class="t m0 x21 h13 y2d ff14 fs9 fc4 sc0 ls1 ws1">——梁琛<span class="ff13">，</span></div><div class="t m0 x9 h14 y2e ff15 fs9 fc4 sc0 ls1 ws1">Python <span class="ff14">长发开发者</span></div><div class="t m5 x0 h16 y2f ff12 fsa fc2 sc0 lsc ws1">PYTHON PROGRAMMING</div><div class="t m3 x22 h17 y30 ff9 fsb fc0 sc0 ls1 ws1">分类建议<span class="_ _6"> </span><span class="fc1">计算机/程序设计语言</span></div><div class="t m6 x0 h18 y31 ff16 fsa fc2 sc0 ls1 ws1">此简体中文版仅限于中国大陆（不包含中国香港、澳门特别行政区和中国台湾地区）发行</div><div class="t m0 x0 h19 y32 ff17 fsa fc2 sc0 ls1 wse">This Simplied Chinese Edition for dis<span class="_ _4"></span>tribution only in the territory of People’<span class="_ _4"></span>s Republic of China (ex<span class="_ _4"></span>cluding </div><div class="t m0 x0 h19 y33 ff17 fsa fc2 sc0 ls1 ws1">Hong Kon<span class="_ _4"></span>g, Macao, and T<span class="_ _5"></span>aiwan)</div><div class="t m4 x1d hf y34 fff fs9 fc2 sc0 ls8 ws6">掌握</div><div class="t m0 x1e he y34 ffe fs9 fc2 sc0 ls1 ws1"> Python </div><div class="t m4 x1f hf y34 fff fs9 fc2 sc0 ls8 ws6">开发环境的配置</div><div class="t m4 x1d hf y35 fff fs9 fc2 sc0 ls8 ws6">熟悉</div><div class="t m0 x1e he y35 ffe fs9 fc2 sc0 ls1 ws1"> Python </div><div class="t m4 x1f hf y35 fff fs9 fc2 sc0 ls8 ws6">内置数据类型与数据结构</div><div class="t m4 x1d hf y36 fff fs9 fc2 sc0 ls8 ws6">为探索数据科学打下坚实的</div><div class="t m0 x23 he y36 ffe fs9 fc2 sc0 ls1 ws1"> Python </div><div class="t m4 x24 hf y36 fff fs9 fc2 sc0 ls8 ws6">语法基础</div><div class="t m4 x1d hf y37 fff fs9 fc2 sc0 ls8 ws6">了解数据科学领域中</div><div class="t m0 x19 he y37 ffe fs9 fc2 sc0 ls1 ws1"> Python </div><div class="t m4 x25 hf y37 fff fs9 fc2 sc0 ls8 ws6">核心的第三方库</div><div class="t m0 x1b h12 y38 ff9 fs9 fc4 sc0 ls1 ws1">“<span class="ff12">Python <span class="ff13">简单、易读，<span class="_ _5"></span>应用广</span></span></div><div class="t m0 x20 h1a y39 ff13 fs9 fc4 sc0 ls1 ws1">泛。<span class="ff12">E<span class="_ _4"></span>veryone can code<span class="ff18">!<span class="ff9">”</span></span></span></div><div class="t m0 x21 h13 y3a ff14 fs9 fc4 sc0 ls1 ws1">——李阳<span class="ff13">，</span></div><div class="t m0 x9 h14 y3b ff15 fs9 fc4 sc0 ls1 ws1">Python <span class="ff14">短发开发者</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf3" class="pf w3 h1b" data-page-no="3"><div class="pc pc3 w3 h1b"><div class="t m0 x26 h1c y3c ff19 fsc fc5 sc0 ls1 ws1">Python<span class="_ _7"> </span><span class="ff1a">旋风之旅</span></div><div class="t m0 x27 h1d y3d ff1b fsd fc5 sc0 ls1 ws1">A<span class="_ _8"> </span>Whirlwind<span class="_ _8"> </span>T<span class="_ _9"></span>our<span class="_ _8"> </span>of<span class="_ _8"> </span>Python</div><div class="t m0 x28 h1e y3e ff1c fse fc5 sc0 ls1 ws1">[<span class="ff1d">美</span>]<span class="_ _a"> </span>Jak<span class="_ _4"></span>e<span class="_ _a"> </span>V<span class="_ _9"></span>anderPlas<span class="_ _a"> </span><span class="ff1d">　著<span class="_ _b"> </span><span class="ff1e">同济大学苹果开发俱乐部</span>　译校</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf4" class="pf w3 h1b" data-page-no="4"><div class="pc pc4 w3 h1b"><div class="t m0 x29 h1c y3f ff1a fsc fc5 sc0 ls1 ws1">译者序</div><div class="t m0 x1a h1f y40 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _a"> </span><span class="ff1d">官方教程的<span class="_ _0"></span>开头是这样写<span class="_ _0"></span>的：<span class="_ _c"></span>“<span class="ff1f">Python<span class="_ _a"> </span></span>是一门既容<span class="_ _0"></span>易上手又强大<span class="_ _0"></span>的编程语言。<span class="_ _d"></span>”随</span></div><div class="t m0 x2a h1f y41 ff1d fsf fc5 sc0 ls1 ws1">着大数据、<span class="_ _5"></span>机器学习与人工智能的兴起，<span class="_ _4"></span><span class="ff1f">Python<span class="_ _e"> </span><span class="ff1d">语言正在受到越来越广泛的关注和应用。<span class="_ _5"></span>对爱</span></span></div><div class="t m0 x2a h1f y42 ff1d fsf fc5 sc0 ls1 ws1">好<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>的人来说，人生苦短，<span class="_ _4"></span><span class="ff1f">Python<span class="_ _a"> </span><span class="ff1d">当歌！<span class="_ _4"></span>简洁轻松的语法，开箱即用的模块，强大快乐</span></span></div><div class="t m0 x2a h1f y43 ff1d fsf fc5 sc0 ls1 ws1">的社<span class="_ _0"></span>区，总可<span class="_ _0"></span>以快速构<span class="_ _0"></span>建出简<span class="_ _0"></span>单高效<span class="_ _0"></span>的解决<span class="_ _0"></span>方案。对<span class="_ _0"></span>于希望快<span class="_ _0"></span>速入门<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>语言<span class="_ _0"></span>的读者<span class="_ _0"></span>们来</div><div class="t m0 x2a h1f y44 ff1d fsf fc5 sc0 ls1 ws1">说，市<span class="_ _0"></span>面上<span class="_ _0"></span>众多像<span class="_ _0"></span>字典<span class="_ _0"></span>一般<span class="_ _0"></span>厚厚的<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>书<span class="_ _0"></span>籍常<span class="_ _0"></span>常让<span class="_ _0"></span>人感到<span class="_ _0"></span>头皮<span class="_ _0"></span>发麻。为<span class="_ _0"></span>了让<span class="_ _0"></span>对<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>语</div><div class="t m0 x2a h1f y45 ff1d fsf fc5 sc0 ls1 ws1">言感<span class="_ _0"></span>兴趣的<span class="_ _0"></span>读者能快<span class="_ _0"></span>速入门<span class="_ _0"></span>这门语<span class="_ _0"></span>言，而非<span class="_ _0"></span>过分纠<span class="_ _0"></span>结于<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>细枝末<span class="_ _0"></span>节之处，<span class="_ _0"></span>我们选择<span class="_ _0"></span>并翻</div><div class="t m0 x2a h1f y46 ff1d fsf fc5 sc0 ls1 ws1">译了这本<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>教程：<span class="ff20">A<span class="_ _a"> </span>Whirlwind<span class="_ _a"> </span>T<span class="_ _9"></span>our<span class="_ _a"> </span>of<span class="_ _a"> </span>Python<span class="_ _f"></span><span class="ff1d">。</span></span></div><div class="t m0 x1a h1f y47 ff1d fsf fc5 sc0 ls1 ws1">本书作者<span class="_ _a"> </span><span class="ff1f">Jak<span class="_ _4"></span>e<span class="_ _a"> </span>V<span class="_ _9"></span>anderPlas<span class="_ _a"> </span><span class="ff1d">目前是华盛顿大<span class="_ _0"></span>学<span class="_ _e"> </span></span>eScience<span class="_ _a"> </span><span class="ff1d">学院物理科学研<span class="_ _0"></span>究院院长。他既是</span></span></div><div class="t m0 x2a h1f y48 ff1d fsf fc5 sc0 ls1 ws1">一位<span class="_ _0"></span>天文学<span class="_ _0"></span>家，也是<span class="_ _0"></span>一位会<span class="_ _0"></span>议演讲<span class="_ _0"></span>达人，活跃<span class="_ _0"></span>于历年<span class="_ _0"></span>的<span class="_ _a"> </span><span class="ff1f">PyData<span class="_ _a"> </span></span>会议，尤<span class="_ _0"></span>其擅长<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>科学</div><div class="t m0 x2a h1f y49 ff1d fsf fc5 sc0 ls1 ws1">计算与数据可视化。<span class="_ _9"></span><span class="ff1f">Jake<span class="_ _e"> </span><span class="ff1d">在数据可视化方面颇有建树，<span class="_ _9"></span>创建了<span class="_ _e"> </span><span class="ff1f">altair</span>、<span class="_ _5"></span><span class="ff1f">mpld3<span class="ff1d">、<span class="_ _5"></span><span class="ff1f">JSAnimation<span class="_ _e"> </span><span class="ff1d">可</span></span></span></span></span></span></div><div class="t m0 x2a h1f y4a ff1d fsf fc5 sc0 ls1 ws1">视化程序库，<span class="_ _5"></span>同时为<span class="_ _e"> </span><span class="ff1f">NumPy</span>、<span class="_ _5"></span><span class="ff1f">Scikit-Learn<span class="ff1d">、<span class="_ _5"></span><span class="ff1f">Scipy<span class="ff1d">、<span class="_ _9"></span><span class="ff1f">Matplotlib<span class="ff1d">、<span class="_ _5"></span><span class="ff1f">IPython<span class="_ _e"> </span><span class="ff1d">等著名<span class="_ _a"> </span></span>Python<span class="_ _e"> </span><span class="ff1d">程序</span></span></span></span></span></span></span></span></div><div class="t m0 x2a h1f y4b ff1d fsf fc5 sc0 ls1 ws1">库做了大量贡献。</div><div class="t m0 x1a h1f y4c ff1d fsf fc5 sc0 ls1 ws1">这本<span class="_ _0"></span>仅<span class="_ _a"> </span><span class="ff1f">100<span class="_ _e"> </span></span>余<span class="_ _0"></span>页的小<span class="_ _0"></span>册子是<span class="_ _0"></span>一本精<span class="_ _0"></span>简的<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>编程入<span class="_ _0"></span>门教程，<span class="_ _0"></span>介绍了<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>语言<span class="_ _0"></span>的核</div><div class="t m0 x2a h1f y4d ff1d fsf fc5 sc0 ls1 ws1">心特<span class="_ _0"></span>性以及数<span class="_ _0"></span>据科学<span class="_ _0"></span>领域内<span class="_ _0"></span>一些<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>第三方<span class="_ _0"></span>扩展包<span class="_ _0"></span>的实际应<span class="_ _0"></span>用，目的<span class="_ _0"></span>是让熟<span class="_ _0"></span>悉其他编<span class="_ _0"></span>程语</div><div class="t m0 x2a h1f y4e ff1d fsf fc5 sc0 ls1 ws1">言的数据科学家快速学习<span class="_ _e"> </span><span class="ff1f">Python</span>。本书适合从未接触过<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>语言但对其他编程语言有一定</div><div class="t m0 x2a h1f y4f ff1d fsf fc5 sc0 ls1 ws1">了解的读者，建议读者跟随本书亲自动手完成每一个例子。</div><div class="t m0 x1a h1f y50 ff1d fsf fc5 sc0 ls1 ws1">本书<span class="_ _0"></span>翻译力<span class="_ _0"></span>求在原<span class="_ _0"></span>版基础<span class="_ _0"></span>上做到<span class="_ _0"></span>精炼、全<span class="_ _0"></span>面、准确<span class="_ _0"></span>地介绍<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>语<span class="_ _0"></span>言。在书<span class="_ _0"></span>中难于<span class="_ _0"></span>理解</div><div class="t m0 x2a h1f y51 ff1d fsf fc5 sc0 ls1 ws1">的部分我们添加了译者注，希望能便于读者理解。</div><div class="t m0 x1a h1f y52 ff1d fsf fc5 sc0 ls1 ws1">本<span class="_ _0"></span>书<span class="_ _0"></span>由<span class="_ _0"></span>同<span class="_ _0"></span>济<span class="_ _0"></span>大学<span class="_ _0"></span>苹<span class="_ _0"></span>果<span class="_ _0"></span>开<span class="_ _0"></span>发<span class="_ _0"></span>俱<span class="_ _0"></span>乐<span class="_ _0"></span>部<span class="_ _0"></span>翻<span class="_ _0"></span>译、<span class="_ _0"></span>审<span class="_ _0"></span>校，其<span class="_ _0"></span>中<span class="_ _0"></span>朱<span class="_ _0"></span>彦<span class="_ _0"></span>樵<span class="_ _0"></span>负<span class="_ _0"></span>责<span class="_ _0"></span>全<span class="_ _0"></span>书<span class="_ _0"></span>统<span class="_ _0"></span>稿工<span class="_ _0"></span>作；<span class="_ _0"></span>朱<span class="_ _0"></span>彦<span class="_ _0"></span>樵<span class="_ _0"></span>负</div><div class="t m0 x2a h1f y53 ff1d fsf fc5 sc0 ls1 ws1">责<span class="_ _0"></span>翻译<span class="_ _0"></span>第<span class="_ _a"> </span><span class="ff1f">5</span>、<span class="ff1f">11–13</span>、<span class="ff1f">15–17<span class="_ _10"> </span></span>章<span class="_ _0"></span>和附<span class="_ _0"></span>录，<span class="_ _0"></span>蒋宇<span class="_ _0"></span>凯<span class="_ _0"></span>负责<span class="_ _0"></span>翻译<span class="_ _0"></span>第<span class="_ _a"> </span><span class="ff1f">6–9<span class="_ _10"> </span></span>章，<span class="_ _0"></span>李晗<span class="_ _0"></span>负<span class="_ _0"></span>责翻<span class="_ _0"></span>译<span class="_ _0"></span>第<span class="_ _a"> </span><span class="ff1f">1–4</span>、<span class="ff1f">10</span>、</div><div class="t m0 x2a h1f y54 ff1f fsf fc5 sc0 ls1 ws1">14<span class="_ _e"> </span><span class="ff1d">章；朱<span class="_ _0"></span>彦樵、李晗、李阳、梁琛、阿思亘负责审稿、校对与润色；朱彦樵、李源完成了全书</span></div><div class="t m0 x2a h1f y55 ff1d fsf fc5 sc0 ls1 ws1">的编辑排版工作。</div><div class="t m0 x1a h1f y56 ff1d fsf fc5 sc0 ls1 ws1">本书的出版工作得到了同济大学软件学院出版基金的大力支持，在此一并感谢。</div><div class="t m0 x1a h1f y57 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _a"> </span><span class="ff1d">语<span class="_ _0"></span>言以<span class="_ _0"></span>及其<span class="_ _0"></span>他<span class="_ _0"></span>第三<span class="_ _0"></span>方包<span class="_ _0"></span>发展<span class="_ _0"></span>迅<span class="_ _0"></span>速，限<span class="_ _0"></span>于译<span class="_ _0"></span>者的<span class="_ _0"></span>水平<span class="_ _0"></span>与<span class="_ _0"></span>功底，<span class="_ _0"></span>本书<span class="_ _0"></span>错谬<span class="_ _0"></span>之处<span class="_ _0"></span>在<span class="_ _0"></span>所难</span></div><div class="t m0 x2a h1f y58 ff1d fsf fc5 sc0 ls1 ws1">免。希望读者能够不吝赐教，帮助本书更加完善。</div><div class="t m0 x2b h20 y59 ff1a fsf fc5 sc0 ls1 ws1">本书译者</div><div class="t m0 x2b h21 y5a ff1e fsf fc5 sc0 ls1 ws1">上海嘉定</div><div class="t m0 x2c h21 y5b ff1f fsf fc5 sc0 ls1 ws1">2018<span class="_ _e"> </span><span class="ff1e">年<span class="_ _a"> </span></span>4<span class="_ _e"> </span><span class="ff1e">月</span></div><div class="t m0 x2d h22 y5c ff1f fsf fc5 sc0 ls1 ws1">i</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf5" class="pf w3 h1b" data-page-no="5"><div class="pc pc5 w3 h1b"></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf6" class="pf w3 h1b" data-page-no="6"><div class="pc pc6 w3 h1b"><div class="t m0 x2e h1c y5d ff1a fsc fc5 sc0 ls1 ws1">目录</div><div class="t m0 x2a h20 y5e ff21 fsf fc6 sc0 ls1 ws1">1<span class="_ _11"> </span>Python<span class="_ _10"> </span><span class="ff1a">介绍<span class="_ _12"> </span></span><span class="fc5">1</span></div><div class="t m0 x2f h1f y5f ff1f fsf fc6 sc0 ls1 ws1">1.1<span class="_ _13"> </span><span class="ff1d">使用示例代码<span class="_ _14"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _15"> </span>1</span></div><div class="t m0 x2f h1f y60 ff1f fsf fc6 sc0 ls1 ws1">1.2<span class="_ _13"> </span><span class="ff1d">安装和练习的注意事项<span class="_ _8"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _15"> </span>2</span></div><div class="t m0 x30 h1f y61 ff1f fsf fc6 sc0 ls1 ws1">1.2.1<span class="_ _16"> </span>Python<span class="_ _e"> </span>2<span class="_ _a"> </span><span class="ff1d">还是<span class="_ _e"> </span></span>Python<span class="_ _a"> </span>3<span class="_ _10"> </span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _15"> </span>2</span></div><div class="t m0 x30 h1f y62 ff1f fsf fc6 sc0 ls1 ws1">1.2.2<span class="_ _16"> </span><span class="ff1d">使用<span class="_ _e"> </span></span>Conda<span class="_ _a"> </span><span class="ff1d">安装<span class="_ _3"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _15"> </span>2</span></div><div class="t m0 x2f h1f y63 ff1f fsf fc6 sc0 ls1 ws1">1.3<span class="_ _13"> </span>Python<span class="_ _e"> </span><span class="ff1d">之禅<span class="_ _13"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _15"> </span>3</span></div><div class="t m0 x2a h20 y64 ff21 fsf fc6 sc0 ls1 ws1">2<span class="_ _11"> </span><span class="ff1a">如何运行<span class="_ _10"> </span></span>Python<span class="_ _10"> </span><span class="ff1a">代码<span class="_ _17"> </span></span><span class="fc5">5</span></div><div class="t m0 x2f h1f y65 ff1f fsf fc6 sc0 ls1 ws1">2.1<span class="_ _13"> </span>Python<span class="_ _e"> </span><span class="ff1d">解释器<span class="_ _18"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _15"> </span>5</span></div><div class="t m0 x2f h1f y66 ff1f fsf fc6 sc0 ls1 ws1">2.2<span class="_ _13"> </span>IPython<span class="_ _e"> </span><span class="ff1d">解释器<span class="_ _8"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _15"> </span>5</span></div><div class="t m0 x2f h1f y67 ff1f fsf fc6 sc0 ls1 ws1">2.3<span class="_ _13"> </span><span class="ff1d">自包含<span class="_ _e"> </span></span>Python<span class="_ _a"> </span><span class="ff1d">脚本<span class="_ _19"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _15"> </span>6</span></div><div class="t m0 x2f h22 y68 ff1f fsf fc6 sc0 ls1 ws1">2.4<span class="_ _13"> </span>Jup<span class="_ _4"></span>yter<span class="_ _a"> </span>Notebo<span class="_ _0"></span>ok<span class="_ _1a"> </span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _15"> </span>7</span></div><div class="t m0 x2a h20 y69 ff21 fsf fc6 sc0 ls1 ws1">3<span class="_ _11"> </span>Python<span class="_ _10"> </span><span class="ff1a">语法速览<span class="_ _1b"> </span></span><span class="fc5">9</span></div><div class="t m0 x2f h1f y6a ff1f fsf fc6 sc0 ls1 ws1">3.1<span class="_ _13"> </span><span class="ff1d">用<span class="_ _e"> </span><span class="ff22">#<span class="_ _a"> </span></span>标记注释<span class="_ _a"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _15"> </span>9</span></div><div class="t m0 x2f h1f y6b ff1f fsf fc6 sc0 ls1 ws1">3.2<span class="_ _13"> </span><span class="ff1d">用换行符结束语句<span class="_ _1c"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1a"> </span>10</span></div><div class="t m0 x2f h1f y6c ff1f fsf fc6 sc0 ls1 ws1">3.3<span class="_ _13"> </span><span class="ff1d">用分号结束语句<span class="_ _a"> </span></span><span class="fc5">.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>10</span></div><div class="t m0 x2f h1f y6d ff1f fsf fc6 sc0 ls1 ws1">3.4<span class="_ _13"> </span><span class="ff1d">缩进：空白字符有意义<span class="_ _8"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>11</span></div><div class="t m0 x2f h1f y6e ff1f fsf fc6 sc0 ls1 ws1">3.5<span class="_ _13"> </span><span class="ff1d">行内空白字符无意义<span class="_ _1e"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>12</span></div><div class="t m0 x2f h1f y6f ff1f fsf fc6 sc0 ls1 ws1">3.6<span class="_ _13"> </span><span class="ff1d">小括号用于表达式分组或函数调用<span class="_ _1c"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>12</span></div><div class="t m0 x2f h1f y70 ff1f fsf fc6 sc0 ls1 ws1">3.7<span class="_ _13"> </span><span class="ff1d">完成并更进一步<span class="_ _a"> </span></span><span class="fc5">.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>13</span></div><div class="t m0 x2a h20 y71 ff21 fsf fc6 sc0 ls1 ws1">4<span class="_ _11"> </span><span class="ff1a">基础<span class="_ _10"> </span></span>Python<span class="_ _10"> </span><span class="ff1a">语义：变量和对象<span class="_ _1f"> </span></span><span class="fc5">15</span></div><div class="t m0 x2f h1f y72 ff1f fsf fc6 sc0 ls1 ws1">4.1<span class="_ _13"> </span><span class="ff1d">变量是指针<span class="_ _19"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>15</span></div><div class="t m0 x2f h1f y73 ff1f fsf fc6 sc0 ls1 ws1">4.2<span class="_ _13"> </span><span class="ff1d">一切皆对象<span class="_ _19"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>17</span></div><div class="t m0 x2a h20 y74 ff21 fsf fc6 sc0 ls1 ws1">5<span class="_ _11"> </span><span class="ff1a">基础<span class="_ _10"> </span></span>Python<span class="_ _10"> </span><span class="ff1a">语法：运算符<span class="_ _20"> </span></span><span class="fc5">19</span></div><div class="t m0 x2f h1f y75 ff1f fsf fc6 sc0 ls1 ws1">5.1<span class="_ _13"> </span><span class="ff1d">算术运算符<span class="_ _19"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>19</span></div><div class="t m0 x2f h1f y76 ff1f fsf fc6 sc0 ls1 ws1">5.2<span class="_ _13"> </span><span class="ff1d">位运算符 </span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>20</span></div><div class="t m0 x2f h1f y77 ff1f fsf fc6 sc0 ls1 ws1">5.3<span class="_ _13"> </span><span class="ff1d">赋值运算符<span class="_ _19"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>21</span></div><div class="t m0 x2f h1f y78 ff1f fsf fc6 sc0 ls1 ws1">5.4<span class="_ _13"> </span><span class="ff1d">比较运算符<span class="_ _19"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>22</span></div><div class="t m0 x2f h1f y79 ff1f fsf fc6 sc0 ls1 ws1">5.5<span class="_ _13"> </span><span class="ff1d">布尔运算符<span class="_ _19"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>23</span></div><div class="t m0 x2f h1f y7a ff1f fsf fc6 sc0 ls1 ws1">5.6<span class="_ _13"> </span><span class="ff1d">身份和成员运算符<span class="_ _1c"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>23</span></div><div class="t m0 x30 h1f y7b ff1f fsf fc6 sc0 ls1 ws1">5.6.1<span class="_ _16"> </span><span class="ff1d">身份运算符<span class="_ _1e"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>24</span></div><div class="t m0 x30 h1f y7c ff1f fsf fc6 sc0 ls1 ws1">5.6.2<span class="_ _16"> </span><span class="ff1d">成员运算符<span class="_ _1e"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>24</span></div><div class="t m0 x2d h22 y5c ff1f fsf fc5 sc0 ls1 ws1">i</div><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:606.768000px;width:82.651000px;height:12.273000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,170.61,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:589.692000px;width:90.545000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",72,636,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:573.254000px;width:134.181000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",72,548.91,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:556.816000px;width:152.182000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",72,388.35,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:540.379000px;width:116.726000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:523.941000px;width:85.545000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe" data-dest-detail='[14,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:497.115000px;width:130.470000px;height:12.272000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe" data-dest-detail='[14,"XYZ",72,536.94,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:480.038000px;width:96.454000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe" data-dest-detail='[14,"XYZ",72,186.77,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:463.600000px;width:100.394000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff" data-dest-detail='[15,"XYZ",72,334.93,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:447.163000px;width:121.909000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10" data-dest-detail='[16,"XYZ",72,741.07,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:431.715000px;width:111.334000px;height:9.636000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf12" data-dest-detail='[18,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:403.899000px;width:104.470000px;height:12.272000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf12" data-dest-detail='[18,"XYZ",72,118.47,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:386.822000px;width:92.636000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf13" data-dest-detail='[19,"XYZ",72,595.21,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:370.384000px;width:112.363000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf13" data-dest-detail='[19,"XYZ",72,274.02,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:353.947000px;width:101.454000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf14" data-dest-detail='[20,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:337.509000px;width:134.181000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf15" data-dest-detail='[21,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:321.072000px;width:123.272000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf15" data-dest-detail='[21,"XYZ",72,438.95,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:304.634000px;width:188.727000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf16" data-dest-detail='[22,"XYZ",72,275.96,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:288.196000px;width:101.454000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf18" data-dest-detail='[24,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:261.370000px;width:174.106000px;height:12.273000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf18" data-dest-detail='[24,"XYZ",72,538.11,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:244.293000px;width:79.636000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1a" data-dest-detail='[26,"XYZ",72,674.07,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:227.856000px;width:79.636000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1c" data-dest-detail='[28,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:201.029000px;width:152.288000px;height:12.273000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1c" data-dest-detail='[28,"XYZ",72,569.24,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:183.952000px;width:79.636000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1d" data-dest-detail='[29,"XYZ",72,591.95,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:167.515000px;width:68.727000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1e" data-dest-detail='[30,"XYZ",72,625.31,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:151.077000px;width:79.636000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1f" data-dest-detail='[31,"XYZ",72,724.81,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:134.640000px;width:79.636000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf20" data-dest-detail='[32,"XYZ",72,692.72,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:118.202000px;width:79.636000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf20" data-dest-detail='[32,"XYZ",72,147.69,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:101.764000px;width:112.363000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf21" data-dest-detail='[33,"XYZ",72,660.33,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:85.327000px;width:89.454000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf21" data-dest-detail='[33,"XYZ",72,127.42,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:68.889000px;width:89.454000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf7" class="pf w3 h1b" data-page-no="7"><div class="pc pc7 w3 h1b"><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">ii<span class="_ _21"> </span><span class="ff1e">目录</span></div><div class="t m0 x2a h20 y7e ff21 fsf fc6 sc0 ls1 ws1">6<span class="_ _11"> </span><span class="ff1a">内置类型：简单变量类型<span class="_ _22"> </span></span><span class="fc5">27</span></div><div class="t m0 x2f h1f y7f ff1f fsf fc6 sc0 ls1 ws1">6.1<span class="_ _13"> </span><span class="ff1d">整数<span class="_ _1e"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>27</span></div><div class="t m0 x2f h1f y80 ff1f fsf fc6 sc0 ls1 ws1">6.2<span class="_ _13"> </span><span class="ff1d">浮点数<span class="_ _8"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>28</span></div><div class="t m0 x30 h1f y81 ff1f fsf fc6 sc0 ls1 ws1">6.2.1<span class="_ _16"> </span><span class="ff1d">浮点数精度<span class="_ _1e"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>29</span></div><div class="t m0 x2f h1f y82 ff1f fsf fc6 sc0 ls1 ws1">6.3<span class="_ _13"> </span><span class="ff1d">复数<span class="_ _1e"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>30</span></div><div class="t m0 x2f h1f y83 ff1f fsf fc6 sc0 ls1 ws1">6.4<span class="_ _13"> </span><span class="ff1d">字符串类型<span class="_ _19"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>30</span></div><div class="t m0 x2f h1f y84 ff1f fsf fc6 sc0 ls1 ws1">6.5<span class="_ _13"> </span><span class="ff22">None<span class="_ _e"> </span><span class="ff1d">类型<span class="_ _23"> </span></span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>31</span></div><div class="t m0 x2f h1f y85 ff1f fsf fc6 sc0 ls1 ws1">6.6<span class="_ _13"> </span><span class="ff1d">布尔类型 </span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>32</span></div><div class="t m0 x2a h20 y86 ff21 fsf fc6 sc0 ls1 ws1">7<span class="_ _11"> </span><span class="ff1a">内置数据结构<span class="_ _24"> </span></span><span class="fc5">35</span></div><div class="t m0 x2f h1f y87 ff1f fsf fc6 sc0 ls1 ws1">7.1<span class="_ _13"> </span><span class="ff1d">列表<span class="_ _1e"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>35</span></div><div class="t m0 x30 h1f y88 ff1f fsf fc6 sc0 ls1 ws1">7.1.1<span class="_ _16"> </span><span class="ff1d">列表索引与切片<span class="_ _13"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>36</span></div><div class="t m0 x2f h1f y89 ff1f fsf fc6 sc0 ls1 ws1">7.2<span class="_ _13"> </span><span class="ff1d">元组<span class="_ _1e"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>38</span></div><div class="t m0 x2f h1f y8a ff1f fsf fc6 sc0 ls1 ws1">7.3<span class="_ _13"> </span><span class="ff1d">字典<span class="_ _1e"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>40</span></div><div class="t m0 x2f h1f y8b ff1f fsf fc6 sc0 ls1 ws1">7.4<span class="_ _13"> </span><span class="ff1d">集合<span class="_ _1e"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>41</span></div><div class="t m0 x2f h1f y8c ff1f fsf fc6 sc0 ls1 ws1">7.5<span class="_ _13"> </span><span class="ff1d">其他专用数据结构<span class="_ _1c"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>41</span></div><div class="t m0 x2a h20 y8d ff21 fsf fc6 sc0 ls1 ws1">8<span class="_ _11"> </span><span class="ff1a">控制流<span class="_ _25"> </span></span><span class="fc5">43</span></div><div class="t m0 x2f h1f y8e ff1f fsf fc6 sc0 ls1 ws1">8.1<span class="_ _13"> </span><span class="ff1d">条件语句：<span class="ff22">if</span></span>-<span class="ff22">elif</span>-<span class="ff22">else<span class="_ _e"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>43</span></div><div class="t m0 x2f h1f y8f ff1f fsf fc6 sc0 ls1 ws1">8.2<span class="_ _13"> </span><span class="ff22">for<span class="_ _e"> </span><span class="ff1d">循环<span class="_ _a"> </span></span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>43</span></div><div class="t m0 x2f h1f y90 ff1f fsf fc6 sc0 ls1 ws1">8.3<span class="_ _13"> </span><span class="ff22">while<span class="_ _e"> </span><span class="ff1d">循环<span class="_ _6"> </span></span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>44</span></div><div class="t m0 x2f h1f y91 ff1f fsf fc6 sc0 ls1 ws1">8.4<span class="_ _13"> </span><span class="ff1d">调整循环执行：<span class="ff22">break<span class="_ _e"> </span></span>和<span class="_ _a"> </span><span class="ff22">continue<span class="_ _10"> </span></span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>45</span></div><div class="t m0 x2f h1f y92 ff1f fsf fc6 sc0 ls1 ws1">8.5<span class="_ _13"> </span><span class="ff1d">带有<span class="_ _e"> </span><span class="ff22">else<span class="_ _a"> </span></span>块的循环<span class="_ _1c"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>45</span></div><div class="t m0 x2a h20 y93 ff21 fsf fc6 sc0 ls1 ws1">9<span class="_ _11"> </span><span class="ff1a">定义和使用函数<span class="_ _26"> </span></span><span class="fc5">47</span></div><div class="t m0 x2f h1f y94 ff1f fsf fc6 sc0 ls1 ws1">9.1<span class="_ _13"> </span><span class="ff1d">使用函数 </span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>47</span></div><div class="t m0 x2f h1f y95 ff1f fsf fc6 sc0 ls1 ws1">9.2<span class="_ _13"> </span><span class="ff1d">定义函数 </span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>47</span></div><div class="t m0 x2f h1f y96 ff1f fsf fc6 sc0 ls1 ws1">9.3<span class="_ _13"> </span><span class="ff1d">默认参数 </span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>48</span></div><div class="t m0 x2f h1f y97 ff1f fsf fc6 sc0 ls1 ws1">9.4<span class="_ _13"> </span><span class="ff1d">可变参数：<span class="ff22">*args<span class="_ _e"> </span></span>和<span class="_ _a"> </span><span class="ff22">**kwargs<span class="_ _6"> </span></span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>49</span></div><div class="t m0 x2f h1f y98 ff1f fsf fc6 sc0 ls1 ws1">9.5<span class="_ _13"> </span><span class="ff1d">匿名（</span>Lam<span class="_ _4"></span>b<span class="_ _0"></span>da<span class="ff1d">）函数<span class="_ _27"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>50</span></div><div class="t m0 x2a h20 y99 ff21 fsf fc6 sc0 ls1 ws1">10<span class="_ _a"> </span><span class="ff1a">错误和异常<span class="_ _28"> </span></span><span class="fc5">53</span></div><div class="t m0 x2f h1f y9a ff1f fsf fc6 sc0 ls1 ws1">10.1<span class="_ _3"> </span><span class="ff1d">运行时错误<span class="_ _19"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>53</span></div><div class="t m0 x2f h1f y9b ff1f fsf fc6 sc0 ls1 ws1">10.2<span class="_ _3"> </span><span class="ff1d">捕获异常：<span class="ff22">try<span class="_ _e"> </span></span>和<span class="_ _a"> </span><span class="ff22">except<span class="_ _23"> </span></span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>55</span></div><div class="t m0 x2f h1f y9c ff1f fsf fc6 sc0 ls1 ws1">10.3<span class="_ _3"> </span><span class="ff1d">抛出异常：<span class="ff22">raise<span class="_ _2"> </span></span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>57</span></div><div class="t m0 x2f h1f y9d ff1f fsf fc6 sc0 ls1 ws1">10.4<span class="_ _3"> </span><span class="ff1d">深入探究异常<span class="_ _14"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>58</span></div><div class="t m0 x30 h1f y9e ff1f fsf fc6 sc0 ls1 ws1">10.4.1<span class="_ _29"> </span><span class="ff1d">访问错误信息<span class="_ _8"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>58</span></div><div class="t m0 x30 h1f y9f ff1f fsf fc6 sc0 ls1 ws1">10.4.2<span class="_ _29"> </span><span class="ff1d">定义自定义异常<span class="_ _13"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>59</span></div><div class="t m0 x2f h22 ya0 ff1f fsf fc6 sc0 ls1 ws1">10.5<span class="_ _3"> </span><span class="ff22">try</span>...<span class="ff22">except</span>...<span class="ff22">else</span>...<span class="ff22">finally<span class="_ _14"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>60</span></div><div class="t m0 x2a h20 ya1 ff21 fsf fc6 sc0 ls1 ws1">11<span class="_ _a"> </span><span class="ff1a">迭代器<span class="_ _25"> </span></span><span class="fc5">61</span></div><div class="t m0 x2f h1f ya2 ff1f fsf fc6 sc0 ls1 ws1">11.1<span class="_ _3"> </span><span class="ff1d">遍历列表 </span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>61</span></div><div class="t m0 x2f h1f ya3 ff1f fsf fc6 sc0 ls1 ws1">11.2<span class="_ _3"> </span><span class="ff1d">不总是列表的列表：<span class="ff22">range()<span class="_ _27"> </span></span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>62</span></div><div class="t m0 x2f h1f y7c ff1f fsf fc6 sc0 ls1 ws1">11.3<span class="_ _3"> </span><span class="ff1d">实用迭代器介绍<span class="_ _e"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>63</span></div><a class="l" href="#pf24" data-dest-detail='[36,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:756.459000px;width:136.364000px;height:12.273000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf24" data-dest-detail='[36,"XYZ",72,383.64,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:739.209000px;width:46.909000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf25" data-dest-detail='[37,"XYZ",72,450.69,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:722.598000px;width:57.818000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf26" data-dest-detail='[38,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:705.987000px;width:89.454000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf27" data-dest-detail='[39,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:689.377000px;width:46.909000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf27" data-dest-detail='[39,"XYZ",72,202.48,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:672.766000px;width:79.636000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf28" data-dest-detail='[40,"XYZ",72,240.42,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:656.155000px;width:73.454000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf29" data-dest-detail='[41,"XYZ",72,585.49,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:639.544000px;width:68.727000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2c" data-dest-detail='[44,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:612.429000px;width:81.818000px;height:12.272000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2c" data-dest-detail='[44,"XYZ",72,435.51,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:595.179000px;width:46.909000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2d" data-dest-detail='[45,"XYZ",72,399.91,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:578.568000px;width:111.272000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2f" data-dest-detail='[47,"XYZ",72,284.81,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:561.957000px;width:46.909000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf31" data-dest-detail='[49,"XYZ",72,530.2,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:545.346000px;width:46.909000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf32" data-dest-detail='[50,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:528.735000px;width:46.909000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf32" data-dest-detail='[50,"XYZ",72,150.69,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:512.124000px;width:112.363000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf34" data-dest-detail='[52,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:485.009000px;width:49.091000px;height:12.273000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf34" data-dest-detail='[52,"XYZ",72,528.9,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:467.759000px;width:144.181000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf34" data-dest-detail='[52,"XYZ",72,138.4,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:451.148000px;width:67.727000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf35" data-dest-detail='[53,"XYZ",72,233.58,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:434.537000px;width:79.181000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf36" data-dest-detail='[54,"XYZ",72,741.54,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:417.926000px;width:194.090000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf36" data-dest-detail='[54,"XYZ",72,151.7,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:401.316000px;width:120.727000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf38" data-dest-detail='[56,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:374.200000px;width:92.727000px;height:12.273000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf38" data-dest-detail='[56,"XYZ",72,553.75,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:356.950000px;width:68.727000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf38" data-dest-detail='[56,"XYZ",72,179.32,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:340.339000px;width:68.727000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf39" data-dest-detail='[57,"XYZ",72,358.1,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:323.729000px;width:68.727000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf3a" data-dest-detail='[58,"XYZ",72,586.65,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:307.118000px;width:172.272000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf3b" data-dest-detail='[59,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:290.507000px;width:129.484000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf3e" data-dest-detail='[62,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:263.391000px;width:70.909000px;height:12.273000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf3e" data-dest-detail='[62,"XYZ",72,434.55,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:246.141000px;width:79.636000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf40" data-dest-detail='[64,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:229.531000px;width:149.363000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf42" data-dest-detail='[66,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:212.920000px;width:108.272000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf43" data-dest-detail='[67,"XYZ",72,210.31,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:196.309000px;width:90.545000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf43" data-dest-detail='[67,"XYZ",72,127.42,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:179.698000px;width:100.363000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf44" data-dest-detail='[68,"XYZ",72,580.1,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:163.087000px;width:111.272000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf45" data-dest-detail='[69,"XYZ",72,741.07,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:147.163000px;width:166.908000px;height:9.294000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf46" data-dest-detail='[70,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:119.361000px;width:49.091000px;height:12.273000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf46" data-dest-detail='[70,"XYZ",72,423.75,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:102.111000px;width:68.727000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf47" data-dest-detail='[71,"XYZ",72,480.69,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:85.500000px;width:163.363000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf48" data-dest-detail='[72,"XYZ",72,371.13,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:68.889000px;width:101.454000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf8" class="pf w3 h1b" data-page-no="8"><div class="pc pc8 w3 h1b"><div class="t m0 x2a h21 y7d ff1e fsf fc5 sc0 ls1 ws1">目录<span class="_ _2a"> </span><span class="ff1f">iii</span></div><div class="t m0 x30 h22 y7e ff1f fsf fc6 sc0 ls1 ws1">11.3.1<span class="_ _29"> </span><span class="ff22">enumerate<span class="_ _1d"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>63</span></div><div class="t m0 x30 h22 y7f ff1f fsf fc6 sc0 ls1 ws1">11.3.2<span class="_ _29"> </span><span class="ff22">zip<span class="_ _13"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _1d"> </span>64</span></div><div class="t m0 x30 h1f y80 ff1f fsf fc6 sc0 ls1 ws1">11.3.3<span class="_ _29"> </span><span class="ff22">map<span class="_ _e"> </span><span class="ff1d">和<span class="_ _a"> </span></span>filter<span class="_ _6"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _11"> </span>64</span></div><div class="t m0 x30 h1f y81 ff1f fsf fc6 sc0 ls1 ws1">11.3.4<span class="_ _29"> </span><span class="ff1d">迭代器作为函数参数<span class="_ _14"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>65</span></div><div class="t m0 x2f h1f y82 ff1f fsf fc6 sc0 ls1 ws1">11.4<span class="_ _3"> </span><span class="ff1d">专用迭代器：<span class="ff22">itertools<span class="_ _2"> </span></span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>66</span></div><div class="t m0 x2a h20 ya4 ff21 fsf fc6 sc0 ls1 ws1">12<span class="_ _a"> </span><span class="ff1a">列表推导<span class="_ _2b"> </span></span><span class="fc5">67</span></div><div class="t m0 x2f h1f ya5 ff1f fsf fc6 sc0 ls1 ws1">12.1<span class="_ _3"> </span><span class="ff1d">基础列表推导<span class="_ _14"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>67</span></div><div class="t m0 x2f h1f ya6 ff1f fsf fc6 sc0 ls1 ws1">12.2<span class="_ _3"> </span><span class="ff1d">多重迭代 </span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>68</span></div><div class="t m0 x2f h1f y86 ff1f fsf fc6 sc0 ls1 ws1">12.3<span class="_ _3"> </span><span class="ff1d">条件控制迭代<span class="_ _14"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>68</span></div><div class="t m0 x2f h1f y87 ff1f fsf fc6 sc0 ls1 ws1">12.4<span class="_ _3"> </span><span class="ff1d">条件控制值<span class="_ _19"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>68</span></div><div class="t m0 x2a h20 ya7 ff21 fsf fc6 sc0 ls1 ws1">13<span class="_ _a"> </span><span class="ff1a">生成器<span class="_ _25"> </span></span><span class="fc5">71</span></div><div class="t m0 x2f h1f ya8 ff1f fsf fc6 sc0 ls1 ws1">13.1<span class="_ _3"> </span><span class="ff1d">生成器表达式<span class="_ _14"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>71</span></div><div class="t m0 x30 h1f ya9 ff1f fsf fc6 sc0 ls1 ws1">13.1.1<span class="_ _29"> </span><span class="ff1d">列表推导使用方括号，而生成器表达式使用圆括号<span class="_ _19"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>71</span></div><div class="t m0 x30 h1f yaa ff1f fsf fc6 sc0 ls1 ws1">13.1.2<span class="_ _29"> </span><span class="ff1d">列表是值的集合，而生成器是生成值的方法<span class="_ _1e"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>71</span></div><div class="t m0 x30 h1f yab ff1f fsf fc6 sc0 ls1 ws1">13.1.3<span class="_ _29"> </span><span class="ff1d">列表可以被迭代多次，而生成器表达式是一次性的<span class="_ _19"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>73</span></div><div class="t m0 x2f h1f y8d ff1f fsf fc6 sc0 ls1 ws1">13.2<span class="_ _3"> </span><span class="ff1d">生成器函数：使用关键字<span class="_ _e"> </span><span class="ff22">yield<span class="_ _10"> </span></span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>74</span></div><div class="t m0 x2f h1f y8e ff1f fsf fc6 sc0 ls1 ws1">13.3<span class="_ _3"> </span><span class="ff1d">案例学习：素数生成器<span class="_ _8"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>74</span></div><div class="t m0 x2a h20 yac ff21 fsf fc6 sc0 ls1 ws1">14<span class="_ _a"> </span><span class="ff1a">模块和包<span class="_ _2b"> </span></span><span class="fc5">77</span></div><div class="t m0 x2f h1f yad ff1f fsf fc6 sc0 ls1 ws1">14.1<span class="_ _3"> </span><span class="ff1d">导入模块：<span class="ff22">import<span class="_ _e"> </span></span>语句<span class="_ _2c"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>77</span></div><div class="t m0 x30 h1f yae ff1f fsf fc6 sc0 ls1 ws1">14.1.1<span class="_ _29"> </span><span class="ff1d">显式模块导入<span class="_ _8"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>77</span></div><div class="t m0 x30 h1f yaf ff1f fsf fc6 sc0 ls1 ws1">14.1.2<span class="_ _29"> </span><span class="ff1d">显式模块导入并取别名<span class="_ _a"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>77</span></div><div class="t m0 x30 h1f y93 ff1f fsf fc6 sc0 ls1 ws1">14.1.3<span class="_ _29"> </span><span class="ff1d">显式导入模块内容<span class="_ _19"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>78</span></div><div class="t m0 x30 h1f y94 ff1f fsf fc6 sc0 ls1 ws1">14.1.4<span class="_ _29"> </span><span class="ff1d">隐式导入模块内容<span class="_ _19"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>78</span></div><div class="t m0 x2f h1f y95 ff1f fsf fc6 sc0 ls1 ws1">14.2<span class="_ _3"> </span><span class="ff1d">导入<span class="_ _e"> </span></span>Python<span class="_ _a"> </span><span class="ff1d">标准库<span class="_ _19"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>79</span></div><div class="t m0 x2f h1f y96 ff1f fsf fc6 sc0 ls1 ws1">14.3<span class="_ _3"> </span><span class="ff1d">导入第三方模块<span class="_ _e"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>79</span></div><div class="t m0 x2a h20 yb0 ff21 fsf fc6 sc0 ls1 ws1">15<span class="_ _a"> </span><span class="ff1a">字符串处理和正则表达式<span class="_ _22"> </span></span><span class="fc5">81</span></div><div class="t m0 x2f h1f yb1 ff1f fsf fc6 sc0 ls1 ws1">15.1<span class="_ _3"> </span>Python<span class="_ _e"> </span><span class="ff1d">简易字符串操作<span class="_ _7"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>81</span></div><div class="t m0 x30 h1f y99 ff1f fsf fc6 sc0 ls1 ws1">15.1.1<span class="_ _29"> </span><span class="ff1d">字符串格式化：大小写转换<span class="_ _1e"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>81</span></div><div class="t m0 x30 h1f y9a ff1f fsf fc6 sc0 ls1 ws1">15.1.2<span class="_ _29"> </span><span class="ff1d">格式化字符串：添加和删除空格<span class="_ _13"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>82</span></div><div class="t m0 x30 h1f y9b ff1f fsf fc6 sc0 ls1 ws1">15.1.3<span class="_ _29"> </span><span class="ff1d">查找和替换子字符串<span class="_ _14"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>84</span></div><div class="t m0 x30 h1f y9c ff1f fsf fc6 sc0 ls1 ws1">15.1.4<span class="_ _29"> </span><span class="ff1d">拆分和分割字符串<span class="_ _19"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>85</span></div><div class="t m0 x2f h1f y9d ff1f fsf fc6 sc0 ls1 ws1">15.2<span class="_ _3"> </span><span class="ff1d">格式化字符串<span class="_ _14"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>86</span></div><div class="t m0 x2f h1f y9e ff1f fsf fc6 sc0 ls1 ws1">15.3<span class="_ _3"> </span><span class="ff1d">使用正则表达式灵活地匹配字符串模式<span class="_ _8"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>88</span></div><div class="t m0 x30 h1f y9f ff1f fsf fc6 sc0 ls1 ws1">15.3.1<span class="_ _29"> </span><span class="ff1d">一个更复杂的例子<span class="_ _19"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>89</span></div><div class="t m0 x30 h1f ya0 ff1f fsf fc6 sc0 ls1 ws1">15.3.2<span class="_ _29"> </span><span class="ff1d">正则表达式语法基础<span class="_ _14"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>90</span></div><div class="t m0 x30 h1f yb2 ff1f fsf fc6 sc0 ls1 ws1">15.3.3<span class="_ _29"> </span><span class="ff1d">关于正则表达式的更多资源<span class="_ _1e"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>94</span></div><div class="t m0 x2a h20 ya2 ff21 fsf fc6 sc0 ls1 ws1">16<span class="_ _a"> </span><span class="ff1a">数据科学工具概览<span class="_ _2d"> </span></span><span class="fc5">95</span></div><div class="t m0 x2f h1f ya3 ff1f fsf fc6 sc0 ls1 ws1">16.1<span class="_ _3"> </span>NumPy<span class="ff1d">：</span>Python<span class="_ _e"> </span><span class="ff1d">数值计算<span class="_ _1c"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>95</span></div><div class="t m0 x2f h1f y7c ff1f fsf fc6 sc0 ls1 ws1">16.2<span class="_ _3"> </span>P<span class="_ _4"></span>andas<span class="ff1d">：标签化的面向行数据存储<span class="_ _2e"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _11"> </span>97</span></div><a class="l" href="#pf48" data-dest-detail='[72,"XYZ",72,290.39,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:758.931000px;width:86.454000px;height:6.870000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf49" data-dest-detail='[73,"XYZ",72,548.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:739.896000px;width:52.090000px;height:9.294000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf49" data-dest-detail='[73,"XYZ",72,236.57,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:722.598000px;width:104.636000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf4a" data-dest-detail='[74,"XYZ",72,511.6,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:705.987000px;width:133.090000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf4b" data-dest-detail='[75,"XYZ",72,622.16,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:689.377000px;width:142.091000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf4c" data-dest-detail='[76,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:662.261000px;width:60.000000px;height:12.273000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf4c" data-dest-detail='[76,"XYZ",72,457.08,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:645.011000px;width:90.545000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf4d" data-dest-detail='[77,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:628.400000px;width:68.727000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf4d" data-dest-detail='[77,"XYZ",72,558.94,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:611.790000px;width:90.545000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf4d" data-dest-detail='[77,"XYZ",72,175.88,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:595.179000px;width:79.636000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf50" data-dest-detail='[80,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:568.063000px;width:49.091000px;height:12.273000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf50" data-dest-detail='[80,"XYZ",72,583.79,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:550.813000px;width:90.545000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf50" data-dest-detail='[80,"XYZ",72,502.68,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:534.202000px;width:274.909000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf50" data-dest-detail='[80,"XYZ",72,145.28,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:517.592000px;width:242.181000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf52" data-dest-detail='[82,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:500.981000px;width:274.909000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf53" data-dest-detail='[83,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:484.370000px;width:177.363000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf53" data-dest-detail='[83,"XYZ",72,153.5,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:467.759000px;width:134.181000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf56" data-dest-detail='[86,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:440.644000px;width:60.000000px;height:12.272000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf56" data-dest-detail='[86,"XYZ",72,549.63,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:423.394000px;width:139.454000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf56" data-dest-detail='[86,"XYZ",72,464.72,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:406.783000px;width:100.363000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf56" data-dest-detail='[86,"XYZ",72,285.19,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:390.172000px;width:143.999000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf57" data-dest-detail='[87,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:373.561000px;width:122.181000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf57" data-dest-detail='[87,"XYZ",72,607.99,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:356.950000px;width:122.181000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf58" data-dest-detail='[88,"XYZ",72,581.32,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:340.339000px;width:121.909000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf58" data-dest-detail='[88,"XYZ",72,305.69,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:323.729000px;width:101.454000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5a" data-dest-detail='[90,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:296.613000px;width:136.364000px;height:12.273000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5a" data-dest-detail='[90,"XYZ",72,273.01,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:279.363000px;width:140.091000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5a" data-dest-detail='[90,"XYZ",72,161.69,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:262.752000px;width:165.818000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5b" data-dest-detail='[91,"XYZ",72,334.76,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:246.141000px;width:187.636000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5d" data-dest-detail='[93,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:229.531000px;width:133.090000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5e" data-dest-detail='[94,"XYZ",72,366,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:212.920000px;width:122.181000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5f" data-dest-detail='[95,"XYZ",72,282.06,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:196.309000px;width:90.545000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf61" data-dest-detail='[97,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:179.698000px;width:210.545000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf62" data-dest-detail='[98,"XYZ",72,176.53,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:163.087000px;width:122.181000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf63" data-dest-detail='[99,"XYZ",72,272.94,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:146.476000px;width:133.090000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf67" data-dest-detail='[103,"XYZ",72,546.13,null]'><div class="d m7" style="border-style:none;position:absolute;left:113.455000px;bottom:129.865000px;width:165.818000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf68" data-dest-detail='[104,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:102.750000px;width:103.636000px;height:12.273000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf68" data-dest-detail='[104,"XYZ",72,492.28,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:85.500000px;width:154.787000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6a" data-dest-detail='[106,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:68.889000px;width:190.454000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf9" class="pf w3 h1b" data-page-no="9"><div class="pc pc9 w3 h1b"><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">iv<span class="_ _2f"> </span><span class="ff1e">目录</span></div><div class="t m0 x2f h1f y7e ff1f fsf fc6 sc0 ls1 ws1">16.3<span class="_ _3"> </span>Matplotlib<span class="ff1d">：</span>MatLab<span class="_ _e"> </span><span class="ff1d">风格的科学可视化<span class="_ _19"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _1d"> </span>98</span></div><div class="t m0 x2f h1f yb3 ff1f fsf fc6 sc0 ls1 ws1">16.4<span class="_ _3"> </span>SciPy<span class="ff1d">：</span>Python<span class="_ _e"> </span><span class="ff1d">科学计算 </span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _1d"> </span>99</span></div><div class="t m0 x2f h1f yb4 ff1f fsf fc6 sc0 ls1 ws1">16.5<span class="_ _3"> </span><span class="ff1d">其他数据科学库<span class="_ _e"> </span></span><span class="fc5">.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _8"> </span>100</span></div><div class="t m0 x2a h20 yb5 ff21 fsf fc6 sc0 ls1 ws1">17<span class="_ _a"> </span><span class="ff1a">更多学习资源<span class="_ _30"> </span></span><span class="fc5">101</span></div><div class="t m0 x2a h20 yb6 ff21 fsf fc6 sc0 ls1 ws1">A<span class="_ _29"> </span><span class="ff1a">附录：插图代码<span class="_ _31"> </span></span><span class="fc5">103</span></div><div class="t m0 x2f h1f yb7 ff1f fsf fc6 sc0 ls1 ws1">A.1<span class="_ _2c"> </span><span class="ff1d">第<span class="_ _a"> </span></span>7<span class="_ _e"> </span><span class="ff1d">章：列表索引<span class="_ _2e"> </span></span><span class="fc5">.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _8"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _2"> </span>.<span class="_ _3"> </span>.<span class="_ _2"> </span>.<span class="_ _8"> </span>103</span></div><div class="t m0 x2a h20 yb8 ff1a fsf fc6 sc0 ls1 ws1">中英文术语对照表<span class="_ _32"> </span><span class="ff21 fc5">105</span></div><a class="l" href="#pf6b" data-dest-detail='[107,"XYZ",72,413.5,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:755.820000px;width:215.546000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6c" data-dest-detail='[108,"XYZ",72,490.64,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:739.561000px;width:145.394000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6d" data-dest-detail='[109,"XYZ",72,428.69,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:723.302000px;width:101.454000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:696.773000px;width:81.818000px;height:12.273000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf70" data-dest-detail='[112,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:669.605000px;width:92.727000px;height:12.273000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf70" data-dest-detail='[112,"XYZ",72,493.2,null]'><div class="d m7" style="border-style:none;position:absolute;left:88.364000px;bottom:652.707000px;width:114.181000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf72" data-dest-detail='[114,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:626.178000px;width:87.273000px;height:12.273000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfa" class="pf w3 h1b" data-page-no="a"><div class="pc pca w3 h1b"><div class="t m0 x31 h1c yb9 ff1a fsc fc5 sc0 ls1 ws1">第<span class="_ _7"> </span><span class="ff19">1<span class="_ _7"> </span></span>章<span class="_ _33"> </span><span class="ff19">Python<span class="_ _7"> </span></span>介绍</div><div class="t m0 x1a h1f yba ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _a"> </span><span class="ff1f">20<span class="_ _a"> </span></span>世纪<span class="_ _a"> </span><span class="ff1f">80<span class="_ _a"> </span></span>年代<span class="_ _0"></span>后期，<span class="ff1f">Python<span class="_ _a"> </span></span>作为<span class="_ _0"></span>一种适<span class="_ _0"></span>合教学<span class="_ _0"></span>使用的<span class="_ _0"></span>脚本语<span class="_ _0"></span>言，已经<span class="_ _0"></span>成为学<span class="_ _0"></span>术界和</div><div class="t m0 x2a h1f ybb ff1d fsf fc5 sc0 ls1 ws1">工业界<span class="_ _0"></span>中许多程<span class="_ _0"></span>序员、工程师、<span class="_ _0"></span>研究人员<span class="_ _0"></span>和数据科学<span class="_ _0"></span>家们必不<span class="_ _0"></span>可少的工<span class="_ _0"></span>具。作为一名<span class="_ _0"></span>专注于构</div><div class="t m0 x2a h1f ybc ff1d fsf fc5 sc0 ls1 ws1">建和推<span class="_ _0"></span>广适合数据<span class="_ _0"></span>密集型科<span class="_ _0"></span>学研究开放<span class="_ _0"></span>工具的天文<span class="_ _0"></span>学家，我发<span class="_ _0"></span>现无论是从<span class="_ _0"></span>海量天文数<span class="_ _0"></span>据中抽取</div><div class="t m0 x2a h1f ybd ff1d fsf fc5 sc0 ls1 ws1">出有意义的信息、<span class="_ _5"></span>在网络上爬取数据并进行清洗，<span class="_ _4"></span>还是自动化地处理日常的工作，<span class="_ _5"></span><span class="ff1f">Python<span class="_ _e"> </span><span class="ff1d">几乎</span></span></div><div class="t m0 x2a h1f ybe ff1d fsf fc5 sc0 ls1 ws1">都可以完美地解决我每天遇到的各种各样的问题。</div><div class="t m0 x1a h1f ybf ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _e"> </span><span class="ff1d">的魅力在于它的语法简洁但不失优雅，以及<span class="_ _e"> </span></span>Python<span class="_ _e"> </span><span class="ff1d">庞大的生态环境可在不同领域</span></div><div class="t m0 x2a h1f yc0 ff1d fsf fc5 sc0 ls1 ws1">都发<span class="_ _0"></span>挥作用<span class="_ _0"></span>所带来的<span class="_ _0"></span>便利。比<span class="_ _0"></span>如，大部<span class="_ _0"></span>分在科<span class="_ _0"></span>学计算<span class="_ _0"></span>和数据科<span class="_ _0"></span>学中用<span class="_ _0"></span>到的<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>代码都<span class="_ _0"></span>使用</div><div class="t m0 x2a h1f yc1 ff1d fsf fc5 sc0 ls1 ws1">到了几种功能强大且成熟的第三方<span class="ff1e">包</span>（<span class="ff1f">pac<span class="_ _4"></span>kage<span class="ff1d">）<span class="_ _c"></span>：</span></span></div><div class="t m0 x1a h1f yc2 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1f fc7">NumPy</span><span class="ff1d">：提供对多维数据矩阵进行高效计算和存储的方法。</span></div><div class="t m0 x1a h1f yc3 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1f fc7">SciPy</span><span class="ff1d">：包含一系列数学工具，比如数值积分和数值插值计算。</span></div><div class="t m0 x1a h1f yc4 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1f fc7">Pandas</span><span class="ff1d">：提供数据帧对象以及一组强大的方法来处理、过滤、分组和转换数据。</span></div><div class="t m0 x1a h1f yc5 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1f fc7">Matplotlib</span><span class="ff1d">：提供创建高品质数据图表的接口。</span></div><div class="t m0 x1a h1f yc6 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1f fc7">Scikit-Learn</span><span class="ff1d">：提供一个用于常用机器学习算法的通用工具包。</span></div><div class="t m0 x1a h1f yc7 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1f fc7">IPython<span class="_ _a"> </span>/<span class="_ _e"> </span>Jupyter</span><span class="ff1d">：提供一种交互式笔记本环境，对于科研分析以及创建交互式可执行</span></div><div class="t m0 x32 h1f yc8 ff1d fsf fc5 sc0 ls1 ws1">文档非常有用。例如，这本书的手稿完全由<span class="_ _e"> </span><span class="ff1f">Jupyter<span class="_ _e"> </span>Noteb<span class="_ _0"></span>o ok<span class="_ _a"> </span></span>写成。</div><div class="t m0 x1a h1f yc9 ff1d fsf fc5 sc0 ls1 ws1">有了这<span class="_ _0"></span>些强大的包<span class="_ _0"></span>作为支持，<span class="_ _0"></span>其他工具包<span class="_ _0"></span>好像没有<span class="_ _0"></span>什么必要<span class="_ _0"></span>了。如果你<span class="_ _0"></span>需要完成<span class="_ _0"></span>一项科学</div><div class="t m0 x2a h1f yca ff1d fsf fc5 sc0 ls1 ws1">分析或者数据分析的任务，一般来说都有人已经写了这样一个工具。</div><div class="t m0 x1a h1f ycb ff1d fsf fc5 sc0 ls1 ws1">为了能更好的感受到<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>在数据科学领域的力量，<span class="_ _1"></span>首先要熟悉<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>的语法。<span class="_ _1"></span>我常常</div><div class="t m0 x2a h1f ycc ff1d fsf fc5 sc0 ls1 ws1">遇到一些有着<span class="_ _34"></span>（有时是广泛的）<span class="_ _34"></span>其他编程语言背景<span class="_ _34"></span>（比如<span class="_ _35"> </span><span class="ff1f">MA<span class="_ _9"></span>TLAB<span class="ff1d">、<span class="_ _36"></span><span class="ff1f">IDL<span class="ff1d">、<span class="_ _36"></span><span class="ff1f">R<span class="ff1d">、<span class="_ _37"></span><span class="ff1f">Ja<span class="_ _4"></span>v<span class="_ _5"></span>a<span class="_ _35"> </span><span class="ff1d">和<span class="_ _35"> </span></span>C++<span class="_ _38"> </span><span class="ff1d">等）</span></span></span></span></span></span></span></span></div><div class="t m0 x2a h1f ycd ff1d fsf fc5 sc0 ls1 ws1">的学<span class="_ _0"></span>生和同<span class="_ _0"></span>事一直在<span class="_ _0"></span>寻找一<span class="_ _0"></span>份简洁、<span class="_ _0"></span>全面，并<span class="_ _0"></span>且符合<span class="_ _0"></span>他们的水<span class="_ _0"></span>平而不<span class="_ _0"></span>是从零<span class="_ _0"></span>开始的<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>教</div><div class="t m0 x2a h1f yce ff1d fsf fc5 sc0 ls1 ws1">程，这份教程就试图填补这个空白。</div><div class="t m0 x1a h1f ycf ff1d fsf fc5 sc0 ls1 ws1">因此，本书不是为了全面地介绍编程，也不是一份完整的<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>语言说明。<span class="_ _39"></span>（如果你对此</div><div class="t m0 x2a h1f yd0 ff1d fsf fc5 sc0 ls1 ws1">有需求，<span class="_ _0"></span>可以看看第<span class="_ _a"> </span><span class="ff1f fc6">17<span class="_ _a"> </span></span>章<span class="fc6">更多学习<span class="_ _0"></span>资源</span>。<span class="_ _c"></span>）<span class="_ _0"></span>相对地，这本书<span class="_ _0"></span>为你提供了<span class="_ _0"></span>一场<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>的<span class="_ _0"></span>旋风之</div><div class="t m0 x2a h1f yd1 ff1d fsf fc5 sc0 ls1 ws1">旅，它<span class="_ _0"></span>涉及<span class="_ _0"></span>到<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>核心的语<span class="_ _0"></span>法、语义、内<span class="_ _0"></span>置的<span class="_ _0"></span>数据类<span class="_ _0"></span>型和<span class="_ _0"></span>数据结<span class="_ _0"></span>构、函数<span class="_ _0"></span>定义、控制<span class="_ _0"></span>流语</div><div class="t m0 x2a h1f yd2 ff1d fsf fc5 sc0 ls1 ws1">句和这门语言的其他方面。我希望读者能顺着这本书走下去，为探索数据科学打下坚实的基础。</div><div class="t m0 x2a h23 yd3 ff19 fsd fc5 sc0 ls1 ws1">1.1<span class="_ _15"> </span><span class="ff1a">使用示例代码</span></div><div class="t m0 x1a h1f yd4 ff1d fsf fc5 sc0 ls1 ws1">本书中使用到的一些补充资料<span class="_ _34"></span>（示例代码或者练习等）<span class="_ _9"></span>可以从这里下载：<span class="_ _36"></span><span class="ff22 fc7">https://github.</span></div><div class="t m0 x2a h1f yd5 ff22 fsf fc7 sc0 ls1 ws1">com/jakevdp/WhirlwindTourOfPython/<span class="ff1d fc5">。<span class="_ _0"></span>本书<span class="_ _0"></span>是要<span class="_ _0"></span>帮<span class="_ _0"></span>你完<span class="_ _0"></span>成工<span class="_ _0"></span>作的。<span class="_ _0"></span>一<span class="_ _0"></span>般来<span class="_ _0"></span>说，如<span class="_ _0"></span>果<span class="_ _0"></span>本书<span class="_ _0"></span>提</span></div><div class="t m0 x2a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">供<span class="_ _0"></span>了<span class="_ _0"></span>示<span class="_ _0"></span>例代<span class="_ _0"></span>码，<span class="_ _0"></span>你<span class="_ _0"></span>可<span class="_ _0"></span>以<span class="_ _0"></span>把<span class="_ _0"></span>它用<span class="_ _0"></span>在<span class="_ _0"></span>你<span class="_ _0"></span>的<span class="_ _0"></span>程<span class="_ _0"></span>序<span class="_ _0"></span>或<span class="_ _0"></span>文档<span class="_ _0"></span>中。<span class="_ _0"></span>除<span class="_ _0"></span>非<span class="_ _0"></span>你<span class="_ _0"></span>使<span class="_ _0"></span>用了<span class="_ _0"></span>很<span class="_ _0"></span>大<span class="_ _0"></span>一<span class="_ _0"></span>部<span class="_ _0"></span>分<span class="_ _0"></span>代码，<span class="_ _0"></span>否<span class="_ _0"></span>则<span class="_ _0"></span>无</div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">须<span class="_ _0"></span>联<span class="_ _0"></span>系<span class="_ _0"></span>我们<span class="_ _0"></span>获<span class="_ _0"></span>得<span class="_ _0"></span>许<span class="_ _0"></span>可。<span class="_ _0"></span>比<span class="_ _0"></span>如，用<span class="_ _0"></span>本<span class="_ _0"></span>书<span class="_ _0"></span>的<span class="_ _0"></span>几<span class="_ _0"></span>个<span class="_ _0"></span>代<span class="_ _0"></span>码片<span class="_ _0"></span>段<span class="_ _0"></span>写<span class="_ _0"></span>一<span class="_ _0"></span>个<span class="_ _0"></span>程<span class="_ _0"></span>序就<span class="_ _0"></span>无<span class="_ _0"></span>须<span class="_ _0"></span>获<span class="_ _0"></span>得<span class="_ _0"></span>许<span class="_ _0"></span>可，销<span class="_ _0"></span>售<span class="_ _0"></span>或<span class="_ _0"></span>分</div><div class="t m0 x33 h22 y5c ff1f fsf fc5 sc0 ls1 ws1">1</div><a class="l" href="http://numpy.org"><div class="d m7" style="border-style:none;position:absolute;left:107.758000px;bottom:468.967000px;width:36.515000px;height:9.636000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://scipy.org"><div class="d m7" style="border-style:none;position:absolute;left:107.758000px;bottom:452.708000px;width:27.121000px;height:9.636000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://pandas.pydata.org"><div class="d m7" style="border-style:none;position:absolute;left:107.758000px;bottom:438.570000px;width:34.454000px;height:7.515000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://matplotlib.org"><div class="d m7" style="border-style:none;position:absolute;left:107.758000px;bottom:420.190000px;width:50.606000px;height:9.636000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://scikit-learn.org"><div class="d m7" style="border-style:none;position:absolute;left:107.758000px;bottom:406.052000px;width:58.061000px;height:7.515000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://jupyter.org"><div class="d m7" style="border-style:none;position:absolute;left:107.758000px;bottom:387.066000px;width:88.215000px;height:10.909000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:174.607000px;bottom:225.223000px;width:10.909000px;height:6.870000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:200.193000px;bottom:222.112000px;width:65.924000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://github.com/jakevdp/WhirlwindTourOfPython/"><div class="d m7" style="border-style:none;position:absolute;left:437.367000px;bottom:118.353000px;width:85.909000px;height:10.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://github.com/jakevdp/WhirlwindTourOfPython/"><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:102.094000px;width:194.727000px;height:10.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfb" class="pf w3 h1b" data-page-no="b"><div class="pc pcb w3 h1b"><img class="bi x2a yd7 w4 h24" alt="" src="bgb.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">2<span class="_ _3a"> </span><span class="ff24">1.<span class="_ _2c"> </span>PYTHON<span class="_ _a"> </span><span class="ff1e">介绍</span></span></div><div class="t m0 x2a h1f y7e ff1d fsf fc5 sc0 ls1 ws1">发<span class="_ _a"> </span><span class="ff1f">O’Reilly<span class="_ _a"> </span></span>图<span class="_ _0"></span>书的<span class="_ _0"></span>示例<span class="_ _0"></span>光盘<span class="_ _0"></span>则需<span class="_ _0"></span>要获<span class="_ _0"></span>得许<span class="_ _0"></span>可；引<span class="_ _0"></span>用本<span class="_ _0"></span>书中<span class="_ _0"></span>的示<span class="_ _0"></span>例代<span class="_ _0"></span>码回<span class="_ _0"></span>答问<span class="_ _0"></span>题无<span class="_ _0"></span>须获<span class="_ _0"></span>得许<span class="_ _0"></span>可，</div><div class="t m0 x2a h1f yb3 ff1d fsf fc5 sc0 ls1 ws1">将书中大量的代码放到你的产品文档中则需要获得许可。</div><div class="t m0 x1a h1f yd8 ff1d fsf fc5 sc0 ls1 ws1">我<span class="_ _0"></span>们很<span class="_ _0"></span>希望<span class="_ _0"></span>但<span class="_ _0"></span>并不<span class="_ _0"></span>强制<span class="_ _0"></span>要<span class="_ _0"></span>求你<span class="_ _0"></span>在<span class="_ _0"></span>引用<span class="_ _0"></span>本书<span class="_ _0"></span>内<span class="_ _0"></span>容时<span class="_ _0"></span>加上<span class="_ _0"></span>引<span class="_ _0"></span>用说<span class="_ _0"></span>明。引<span class="_ _0"></span>用<span class="_ _0"></span>说明<span class="_ _0"></span>一般<span class="_ _0"></span>包<span class="_ _0"></span>括书<span class="_ _0"></span>名、</div><div class="t m0 x2a h1f yd9 ff1d fsf fc5 sc0 ls1 ws1">作<span class="_ _0"></span>者、<span class="_ _0"></span>出<span class="_ _0"></span>版<span class="_ _0"></span>社<span class="_ _0"></span>和<span class="_ _3b"> </span><span class="ff1f">ISBN</span>，<span class="_ _0"></span>比<span class="_ _0"></span>如：<span class="ff20">A<span class="_ _3b"> </span>Whirlwind<span class="_ _3b"> </span>T<span class="_ _5"></span>our<span class="_ _3b"> </span>of<span class="_ _3b"> </span>Python<span class="_ _8"> </span><span class="ff1f">b<span class="_ _4"></span>y<span class="_ _10"> </span>Jake<span class="_ _a"> </span>V<span class="_ _5"></span>anderPlas<span class="_ _10"> </span>(O’Reilly).</span></span></div><div class="t m0 x2a h1f yda ff1f fsf fc5 sc0 ls1 ws1">Cop<span class="_ _4"></span>yright<span class="_ _e"> </span>2016<span class="_ _e"> </span>O’Reilly<span class="_ _a"> </span>Media,<span class="_ _e"> </span>Inc.,<span class="_ _a"> </span>978-1-491-96465-1<span class="ff1d">。</span></div><div class="t m0 x1a h1f ydb ff1d fsf fc5 sc0 ls1 ws1">如<span class="_ _38"> </span>果<span class="_ _38"> </span>你<span class="_ _38"> </span>觉<span class="_ _38"> </span>得<span class="_ _38"> </span>你<span class="_ _38"> </span>使<span class="_ _38"> </span>用<span class="_ _38"> </span>代<span class="_ _38"> </span>码<span class="_ _38"> </span>示<span class="_ _38"> </span>例<span class="_ _38"> </span>的<span class="_ _38"> </span>场<span class="_ _38"> </span>景<span class="_ _38"> </span>不<span class="_ _38"> </span>符<span class="_ _38"> </span>合<span class="_ _38"> </span>上<span class="_ _38"> </span>述<span class="_ _38"> </span>规<span class="_ _38"> </span>定，<span class="_ _e"> </span>请<span class="_ _35"> </span>随<span class="_ _38"> </span>时<span class="_ _38"> </span>通<span class="_ _38"> </span>过<span class="_ _2e"> </span><span class="ff1f fc7">p<span class="_ _0"></span>ermis-</span></div><div class="t m0 x2a h1f ydc ff1f fsf fc7 sc0 ls1 ws1">sions@oreilly<span class="_ _9"></span>.com<span class="_ _a"> </span><span class="ff1d fc5">与我们联系。</span></div><div class="t m0 x2a h23 ydd ff19 fsd fc5 sc0 ls1 ws1">1.2<span class="_ _15"> </span><span class="ff1a">安装和练习的注意事项</span></div><div class="t m0 x1a h1f yde ff1d fsf fc5 sc0 ls1 ws1">无论是使用<span class="_ _e"> </span><span class="ff1f">Windows</span>、<span class="_ _5"></span><span class="ff1f">Linux<span class="_ _38"> </span><span class="ff1d">还是<span class="_ _a"> </span></span>macOS<span class="ff1d">，<span class="_ _5"></span>安装<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>和使用科学计算的库套件都非常</span></span></div><div class="t m0 x2a h1f ydf ff1d fsf fc5 sc0 ls1 ws1">简单。本节将简要介绍配置你的环境时的一些注意事项。</div><div class="t m0 x2a h25 ye0 ff19 fse fc5 sc0 ls1 ws1">1.2.1<span class="_ _3c"> </span>Python<span class="_ _3b"> </span>2<span class="_ _10"> </span><span class="ff1a">还是<span class="_ _3b"> </span></span>Python<span class="_ _3b"> </span>3</div><div class="t m0 x1a h1f ye1 ff1d fsf fc5 sc0 ls1 ws1">这本书使用了<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _e"> </span>3<span class="_ _a"> </span></span>的语法，其中包含与<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span>2.<span class="ff25">x<span class="_ _e"> </span></span></span>系列不兼容<span class="_ _0"></span>的语言增强功能。虽</div><div class="t m0 x2a h1f ye2 ff1d fsf fc5 sc0 ls1 ws1">然<span class="_ _10"> </span><span class="ff1f">Python<span class="_ _3b"> </span>3.0<span class="_ _10"> </span></span>在<span class="_ _3b"> </span><span class="ff1f">2008<span class="_ _10"> </span></span>年<span class="_ _0"></span>首<span class="_ _0"></span>次<span class="_ _0"></span>发<span class="_ _f"></span>布，<span class="_ _0"></span>但<span class="_ _0"></span>采<span class="_ _0"></span>用<span class="_ _0"></span>的<span class="_ _f"></span>速<span class="_ _0"></span>度<span class="_ _0"></span>相<span class="_ _0"></span>对<span class="_ _0"></span>较<span class="_ _f"></span>慢，<span class="_ _0"></span>特<span class="_ _0"></span>别<span class="_ _0"></span>是<span class="_ _0"></span>在<span class="_ _f"></span>科<span class="_ _0"></span>学<span class="_ _0"></span>研<span class="_ _0"></span>究<span class="_ _0"></span>和<span class="_ _3b"> </span><span class="ff1f">W<span class="_ _9"></span>eb<span class="_ _3b"> </span><span class="ff1d">开</span></span></div><div class="t m0 x2a h1f ye3 ff1d fsf fc5 sc0 ls1 ws1">发<span class="_ _0"></span>领<span class="_ _f"></span>域。<span class="_ _0"></span>这<span class="_ _f"></span>主<span class="_ _f"></span>要<span class="_ _0"></span>是<span class="_ _f"></span>因<span class="_ _f"></span>为<span class="_ _0"></span>许<span class="_ _f"></span>多<span class="_ _f"></span>基<span class="_ _0"></span>本<span class="_ _f"></span>软<span class="_ _0"></span>件包<span class="_ _f"></span>和<span class="_ _f"></span>工<span class="_ _0"></span>具包<span class="_ _f"></span>需<span class="_ _f"></span>要<span class="_ _0"></span>一<span class="_ _f"></span>些<span class="_ _f"></span>时<span class="_ _0"></span>间<span class="_ _f"></span>才<span class="_ _0"></span>能<span class="_ _f"></span>与<span class="_ _f"></span>新<span class="_ _0"></span>的<span class="_ _f"></span>语<span class="_ _f"></span>言<span class="_ _0"></span>兼<span class="_ _f"></span>容。<span class="_ _0"></span>然<span class="_ _f"></span>而，</div><div class="t m0 x2a h1f ye4 ff1d fsf fc5 sc0 ls1 ws1">自<span class="_ _e"> </span><span class="ff1f">2014<span class="_ _e"> </span></span>年初以来，<span class="_ _5"></span>数据科学生态中一些最重要的工具的稳定版本已经与<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _e"> </span>2<span class="_ _a"> </span></span>和<span class="_ _38"> </span><span class="ff1f">3<span class="_ _e"> </span></span>完全兼</div><div class="t m0 x2a h1f ye5 ff1d fsf fc5 sc0 ls1 ws1">容，因<span class="_ _0"></span>此本<span class="_ _0"></span>书将<span class="_ _0"></span>使用较<span class="_ _0"></span>新的<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span>3<span class="_ _a"> </span></span>语<span class="_ _0"></span>法。即<span class="_ _0"></span>使是<span class="_ _0"></span>在这种<span class="_ _0"></span>情况<span class="_ _0"></span>下，本书<span class="_ _0"></span>中绝<span class="_ _0"></span>大多<span class="_ _0"></span>数的代<span class="_ _0"></span>码片</div><div class="t m0 x2a h1f ye6 ff1d fsf fc5 sc0 ls1 ws1">段也<span class="_ _0"></span>可以在<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span>2<span class="_ _a"> </span></span>中<span class="_ _0"></span>不加修<span class="_ _0"></span>改地运<span class="_ _0"></span>行。在使<span class="_ _0"></span>用<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span>2<span class="_ _a"> </span></span>不兼容<span class="_ _0"></span>的语法的<span class="_ _0"></span>情况下</div><div class="t m0 x34 h26 ye7 ff26 fs10 fc6 sc0 ls1 ws1">1</div><div class="t m0 x35 h1f ye6 ff1d fsf fc5 sc0 ls1 ws1">，我<span class="_ _0"></span>将尽</div><div class="t m0 x2a h1f ye8 ff1d fsf fc5 sc0 ls1 ws1">力明确地注明。</div><div class="t m0 x2a h25 ye9 ff19 fse fc5 sc0 ls1 ws1">1.2.2<span class="_ _3c"> </span><span class="ff1a">使用<span class="_ _3b"> </span></span>Conda<span class="_ _10"> </span><span class="ff1a">安装</span></div><div class="t m0 x1a h1f yea ff1d fsf fc5 sc0 ls1 ws1">虽然有很多种<span class="_ _0"></span>方法安装<span class="_ _e"> </span><span class="ff1f">Python</span>，<span class="_ _0"></span>但是我较为推荐跨平台的<span class="_ _a"> </span><span class="ff1f">Anaconda</span>，特别是如<span class="_ _0"></span>果你希望</div><div class="t m0 x2a h1f yeb ff1d fsf fc5 sc0 ls1 ws1">最终使用前面提到的数据科学工具的话。<span class="ff1f">Anaconda<span class="_ _e"> </span></span>的发行版有下面两种版本：</div><div class="t m0 x1a h1f yec ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1f fc7">Miniconda<span class="_ _10"> </span></span><span class="ff1d">提<span class="_ _0"></span>供<span class="_ _0"></span>了<span class="_ _0"></span>一个<span class="_ _10"> </span><span class="ff1f">Python<span class="_ _10"> </span></span>解<span class="_ _0"></span>释<span class="_ _0"></span>器<span class="_ _0"></span>和<span class="_ _0"></span>一个<span class="_ _0"></span>叫<span class="_ _0"></span>做<span class="_ _10"> </span><span class="ff22">conda<span class="_ _10"> </span></span>的<span class="_ _0"></span>命<span class="_ _0"></span>令行<span class="_ _0"></span>工<span class="_ _0"></span>具，<span class="_ _0"></span>它<span class="_ _0"></span>提供<span class="_ _0"></span>了<span class="_ _0"></span>面</span></div><div class="t m0 x32 h1f yed ff1d fsf fc5 sc0 ls1 ws1">向<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>包的跨平台包管理功能，就像<span class="_ _e"> </span><span class="ff1f">Linux<span class="_ _e"> </span></span>用户熟悉的<span class="_ _a"> </span><span class="ff22">apt<span class="_ _e"> </span></span>或者<span class="_ _a"> </span><span class="ff22">yum</span>。</div><div class="t m0 x1a h1f yee ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1f fc7">Anaconda<span class="_ _a"> </span></span><span class="ff1d">包括<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff22">conda</span>，以及可添加的科学计算套件。</span></div><div class="t m0 x1a h1f yef ff1f fsf fc5 sc0 ls1 ws1">Anaconda<span class="_ _e"> </span><span class="ff1d">所包含的包都可以手动地安装在<span class="_ _e"> </span></span>Miniconda<span class="_ _e"> </span><span class="ff1d">中。<span class="_ _9"></span>出于这个原因，<span class="_ _9"></span>我推荐从<span class="_ _e"> </span><span class="ff1f">Mini-</span></span></div><div class="t m0 x2a h1f yf0 ff1f fsf fc5 sc0 ls1 ws1">conda<span class="_ _e"> </span><span class="ff1d">开始。要下载并安装<span class="_ _a"> </span></span>Miniconda<span class="ff1d">，<span class="_ _4"></span>确保你已经选择了<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span>3<span class="_ _e"> </span></span>版本，然后安装<span class="_ _e"> </span><span class="ff1f">IPython</span></span></div><div class="t m0 x2a h1f yf1 ff1f fsf fc5 sc0 ls1 ws1">Noteb<span class="_ _0"></span>ook<span class="_ _a"> </span><span class="ff1d">包：</span></div><div class="t m0 x36 h27 yf2 ff22 fsf fc5 sc0 ls1 ws1">[~]$<span class="_ _3"> </span>conda<span class="_ _3"> </span>install<span class="_ _3"> </span>ipython-notebook</div><div class="t m0 x1a h1f yf3 ff1d fsf fc5 sc0 ls1 ws1">想获得关于<span class="_ _a"> </span><span class="ff22">conda<span class="_ _e"> </span></span>的信息，<span class="_ _0"></span>例如如何创建或者使用<span class="_ _a"> </span><span class="ff22">conda<span class="_ _e"> </span></span>环境，请查看上<span class="_ _0"></span>面给出的<span class="_ _e"> </span><span class="ff1f">Mini-</span></div><div class="t m0 x2a h1f yf4 ff1f fsf fc5 sc0 ls1 ws1">conda<span class="_ _e"> </span><span class="ff1d">链接。</span></div><div class="t m0 x37 h28 yf5 ff27 fs11 fc5 sc0 ls1 ws1">1</div><div class="t m0 x2f h29 yf6 ff1d fs12 fc5 sc0 ls1 ws1">译者<span class="_ _0"></span>注：<span class="ff28">Python<span class="_ _35"> </span></span>核<span class="_ _0"></span>心团队计<span class="_ _0"></span>划在<span class="_ _38"> </span><span class="ff28">2020<span class="_ _e"> </span></span>年停<span class="_ _0"></span>止支持<span class="_ _38"> </span><span class="ff28">Python<span class="_ _e"> </span>2</span>。已<span class="_ _0"></span>经有许多<span class="_ _0"></span>开源项<span class="_ _0"></span>目，如<span class="_ _38"> </span><span class="ff28">Numpy</span>、<span class="ff28">sklearn<span class="_ _38"> </span></span>等</div><div class="t m0 x2a h29 y7c ff1d fs12 fc5 sc0 ls1 ws1">也已经发表声明将在<span class="_ _38"> </span><span class="ff28">2020<span class="_ _38"> </span></span>年以前放弃对于<span class="_ _35"> </span><span class="ff28">Python<span class="_ _38"> </span>2<span class="_ _38"> </span></span>的支持。</div><a class="l" href="mailto:permissions@oreilly.com"><div class="d m7" style="border-style:none;position:absolute;left:487.731000px;bottom:673.490000px;width:35.545000px;height:8.991000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="mailto:permissions@oreilly.com"><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:657.231000px;width:82.576000px;height:9.637000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",88.59,98.3,null]'><div class="d m7" style="border-style:none;position:absolute;left:474.401000px;bottom:429.866000px;width:4.234000px;height:5.136000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://conda.pydata.org/miniconda.html"><div class="d m7" style="border-style:none;position:absolute;left:107.758000px;bottom:297.028000px;width:50.000000px;height:7.515000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://www.continuum.io/downloads"><div class="d m7" style="border-style:none;position:absolute;left:107.758000px;bottom:264.510000px;width:47.575000px;height:7.515000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfc" class="pf w3 h1b" data-page-no="c"><div class="pc pcc w3 h1b"><img class="bi x2a y7c w4 h2a" alt="" src="bgc.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">1.3.<span class="_ _2c"> </span>PYTHON<span class="_ _a"> </span><span class="ff1e">之禅<span class="_ _3d"> </span><span class="ff1f">3</span></span></div><div class="t m0 x2a h23 yf7 ff19 fsd fc5 sc0 ls1 ws1">1.3<span class="_ _15"> </span>Python<span class="_ _3"> </span><span class="ff1a">之禅</span></div><div class="t m0 x1a h1f yf8 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _38"> </span><span class="ff1d">爱好者经常很快指出<span class="_ _38"> </span></span>Python<span class="_ _e"> </span><span class="ff1d">是多么<span class="_ _1"></span>“直观”<span class="_ _3e"></span>“美丽”<span class="_ _3f"></span>或<span class="_ _1"></span>“有趣”<span class="_ _39"></span>。<span class="_ _3f"></span>虽然我倾向于同意</span></div><div class="t m0 x2a h1f yf9 ff1d fsf fc5 sc0 ls1 ws1">这个观点，<span class="_ _1"></span>但我也认识到，<span class="_ _1"></span>美丽、<span class="_ _1"></span>直观和乐趣往往与对语言的熟悉并存，<span class="_ _1"></span>因此对于那些熟悉其他</div><div class="t m0 x2a h1f yfa ff1d fsf fc5 sc0 ls1 ws1">语言的人来说，<span class="_ _1"></span>这种绚丽的情感可能会显得有些沾沾自喜。<span class="_ _34"></span>不过，<span class="_ _1"></span>我希望如果你给<span class="_ _38"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>一个</div><div class="t m0 x2a h1f yfb ff1d fsf fc5 sc0 ls1 ws1">机会，<span class="_ _1"></span>你将会看到这样的印象可能来自哪里。<span class="_ _34"></span>并且，<span class="_ _1"></span>如果你真的想深入探究那些推动<span class="_ _38"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>高</div><div class="t m0 x2a h1f yfc ff1d fsf fc5 sc0 ls1 ws1">级<span class="_ _0"></span>用户<span class="_ _0"></span>编程<span class="_ _0"></span>实践<span class="_ _0"></span>的编<span class="_ _0"></span>程理<span class="_ _0"></span>念<span class="_ _0"></span>的话，<span class="ff1f">Python<span class="_ _a"> </span></span>解<span class="_ _0"></span>释器<span class="_ _0"></span>中<span class="_ _0"></span>就有<span class="_ _0"></span>一个<span class="_ _0"></span>很好<span class="_ _0"></span>的复<span class="_ _0"></span>活节<span class="_ _0"></span>小<span class="_ _0"></span>彩蛋<span class="_ _0"></span>——你<span class="_ _0"></span>只需</div><div class="t m0 x2a h1f yfd ff1d fsf fc5 sc0 ls1 ws1">闭上眼睛，冥想几分钟，然后运行<span class="_ _e"> </span><span class="ff22">import<span class="_ _3"> </span>this</span>：</div><div class="t m0 x36 h27 yfe ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[1]:<span class="_ _3"> </span><span class="ff29 fc9">import<span class="_ _3"> </span><span class="fca">this</span></span></div><div class="t m0 x36 h27 yff ff22 fsf fc5 sc0 ls1 ws1">The<span class="_ _3"> </span>Zen<span class="_ _3"> </span>of<span class="_ _3"> </span>Python,<span class="_ _3"> </span>by<span class="_ _2"> </span>Tim<span class="_ _3"> </span>Peters</div><div class="t m0 x36 h27 y100 ff22 fsf fc5 sc0 ls1 ws1">Beautiful<span class="_ _3"> </span>is<span class="_ _3"> </span>better<span class="_ _3"> </span>than<span class="_ _3"> </span>ugly.</div><div class="t m0 x36 h27 y101 ff22 fsf fc5 sc0 ls1 ws1">Explicit<span class="_ _3"> </span>is<span class="_ _3"> </span>better<span class="_ _3"> </span>than<span class="_ _3"> </span>implicit.</div><div class="t m0 x36 h27 y102 ff22 fsf fc5 sc0 ls1 ws1">Simple<span class="_ _3"> </span>is<span class="_ _3"> </span>better<span class="_ _3"> </span>than<span class="_ _3"> </span>complex.</div><div class="t m0 x36 h27 y103 ff22 fsf fc5 sc0 ls1 ws1">Complex<span class="_ _3"> </span>is<span class="_ _3"> </span>better<span class="_ _3"> </span>than<span class="_ _3"> </span>complicated.</div><div class="t m0 x36 h27 y104 ff22 fsf fc5 sc0 ls1 ws1">Flat<span class="_ _3"> </span>is<span class="_ _3"> </span>better<span class="_ _3"> </span>than<span class="_ _3"> </span>nested.</div><div class="t m0 x36 h27 y105 ff22 fsf fc5 sc0 ls1 ws1">Sparse<span class="_ _3"> </span>is<span class="_ _3"> </span>better<span class="_ _3"> </span>than<span class="_ _3"> </span>dense.</div><div class="t m0 x36 h27 y106 ff22 fsf fc5 sc0 ls1 ws1">Readability<span class="_ _3"> </span>counts.</div><div class="t m0 x36 h27 y107 ff22 fsf fc5 sc0 ls1 ws1">Special<span class="_ _3"> </span>cases<span class="_ _3"> </span>aren<span class="ff2a">&apos;</span>t<span class="_ _3"> </span>special<span class="_ _3"> </span>enough<span class="_ _2"> </span>to<span class="_ _3"> </span>break<span class="_ _3"> </span>the<span class="_ _3"> </span>rules.</div><div class="t m0 x36 h27 y108 ff22 fsf fc5 sc0 ls1 ws1">Although<span class="_ _3"> </span>practicality<span class="_ _3"> </span>beats<span class="_ _3"> </span>purity.</div><div class="t m0 x36 h27 y109 ff22 fsf fc5 sc0 ls1 ws1">Errors<span class="_ _3"> </span>should<span class="_ _3"> </span>never<span class="_ _3"> </span>pass<span class="_ _3"> </span>silently.</div><div class="t m0 x36 h27 y10a ff22 fsf fc5 sc0 ls1 ws1">Unless<span class="_ _3"> </span>explicitly<span class="_ _3"> </span>silenced.</div><div class="t m0 x36 h27 y10b ff22 fsf fc5 sc0 ls1 ws1">In<span class="_ _3"> </span>the<span class="_ _3"> </span>face<span class="_ _3"> </span>of<span class="_ _3"> </span>ambiguity,<span class="_ _2"> </span>refuse<span class="_ _3"> </span>the<span class="_ _3"> </span>temptation<span class="_ _3"> </span>to<span class="_ _3"> </span>guess.</div><div class="t m0 x36 h27 y10c ff22 fsf fc5 sc0 ls1 ws1">There<span class="_ _3"> </span>should<span class="_ _3"> </span>be<span class="_ _3"> </span>one--<span class="_ _3"> </span>and<span class="_ _2"> </span>preferably<span class="_ _3"> </span>only<span class="_ _3"> </span>one<span class="_ _3"> </span>--obvious<span class="_ _3"> </span>way<span class="_ _3"> </span>to<span class="_ _3"> </span>do<span class="_ _3"> </span>it.</div><div class="t m0 x36 h27 y10d ff22 fsf fc5 sc0 ls1 ws1">Although<span class="_ _3"> </span>that<span class="_ _3"> </span>way<span class="_ _3"> </span>may<span class="_ _3"> </span>not<span class="_ _2"> </span>be<span class="_ _3"> </span>obvious<span class="_ _3"> </span>at<span class="_ _3"> </span>first<span class="_ _3"> </span>unless<span class="_ _3"> </span>you<span class="ff2a">&apos;</span>re<span class="_ _3"> </span>Dutch.</div><div class="t m0 x36 h27 y10e ff22 fsf fc5 sc0 ls1 ws1">Now<span class="_ _3"> </span>is<span class="_ _3"> </span>better<span class="_ _3"> </span>than<span class="_ _3"> </span>never.</div><div class="t m0 x36 h27 y10f ff22 fsf fc5 sc0 ls1 ws1">Although<span class="_ _3"> </span>never<span class="_ _3"> </span>is<span class="_ _3"> </span>often<span class="_ _3"> </span>better<span class="_ _2"> </span>than<span class="_ _3"> </span>*right*<span class="_ _3"> </span>now.</div><div class="t m0 x36 h27 y110 ff22 fsf fc5 sc0 ls1 ws1">If<span class="_ _3"> </span>the<span class="_ _3"> </span>implementation<span class="_ _3"> </span>is<span class="_ _3"> </span>hard<span class="_ _2"> </span>to<span class="_ _3"> </span>explain,<span class="_ _3"> </span>it<span class="ff2a">&apos;</span>s<span class="_ _3"> </span>a<span class="_ _3"> </span>bad<span class="_ _3"> </span>idea.</div><div class="t m0 x36 h27 y111 ff22 fsf fc5 sc0 ls1 ws1">If<span class="_ _3"> </span>the<span class="_ _3"> </span>implementation<span class="_ _3"> </span>is<span class="_ _3"> </span>easy<span class="_ _2"> </span>to<span class="_ _3"> </span>explain,<span class="_ _3"> </span>it<span class="_ _3"> </span>may<span class="_ _3"> </span>be<span class="_ _3"> </span>a<span class="_ _3"> </span>good<span class="_ _3"> </span>idea.</div><div class="t m0 x36 h27 y112 ff22 fsf fc5 sc0 ls1 ws1">Namespaces<span class="_ _3"> </span>are<span class="_ _3"> </span>one<span class="_ _3"> </span>honking<span class="_ _3"> </span>great<span class="_ _2"> </span>idea<span class="_ _3"> </span>--<span class="_ _3"> </span>let<span class="ff2a">&apos;</span>s<span class="_ _3"> </span>do<span class="_ _3"> </span>more<span class="_ _3"> </span>of<span class="_ _3"> </span>those!</div><div class="t m0 x1a h1f y113 ff1d fsf fc5 sc0 ls1 ws1">伴随着《<span class="ff1f">Python<span class="_ _e"> </span></span>之禅》</div><div class="t m0 x27 h26 y114 ff26 fs10 fc6 sc0 ls1 ws1">2</div><div class="t m0 x14 h1f y113 ff1d fsf fc5 sc0 ls1 ws1">，让我们开始我们的<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>之旅！</div><div class="t m0 x37 h28 y115 ff27 fs11 fc5 sc0 ls1 ws1">2</div><div class="t m0 x2f h29 y116 ff1d fs12 fc5 sc0 ls1 ws1">译<span class="_ _0"></span>者<span class="_ _0"></span>注：<span class="_ _40"></span>《<span class="ff28">Python<span class="_ _a"> </span></span>之<span class="_ _0"></span>禅》<span class="_ _0"></span>是<span class="_ _e"> </span><span class="ff28">Python<span class="_ _a"> </span>2.2<span class="_ _a"> </span></span>及<span class="_ _0"></span>以<span class="_ _0"></span>后<span class="_ _0"></span>版<span class="_ _0"></span>本<span class="_ _0"></span>中<span class="_ _0"></span>的<span class="_ _0"></span>一<span class="_ _0"></span>个<span class="_ _0"></span>小<span class="_ _0"></span>彩<span class="_ _0"></span>蛋，<span class="_ _0"></span>是<span class="_ _a"> </span><span class="ff28">Tim<span class="_ _e"> </span>Peters<span class="_ _a"> </span></span>在<span class="_ _e"> </span><span class="ff28">1999<span class="_ _a"> </span></span>年<span class="_ _a"> </span><span class="ff28">6<span class="_ _a"> </span></span>月<span class="_ _0"></span>左<span class="_ _0"></span>右</div><div class="t m0 x2a h29 y117 ff1d fs12 fc5 sc0 ls1 ws1">所<span class="_ _0"></span>写的<span class="_ _a"> </span><span class="ff28">20<span class="_ _e"> </span></span>个<span class="_ _0"></span>影<span class="_ _0"></span>响<span class="_ _e"> </span><span class="ff28">Python<span class="_ _a"> </span></span>编程<span class="_ _0"></span>语<span class="_ _0"></span>言<span class="_ _0"></span>设计<span class="_ _0"></span>的<span class="_ _0"></span>原<span class="_ _0"></span>理组<span class="_ _0"></span>成<span class="_ _0"></span>的<span class="_ _0"></span>集<span class="_ _0"></span>合，其<span class="_ _0"></span>中<span class="_ _e"> </span><span class="ff28">19<span class="_ _a"> </span></span>个<span class="_ _0"></span>被包<span class="_ _0"></span>括<span class="_ _0"></span>在<span class="_ _0"></span>这里。<span class="_ _40"></span>《<span class="_ _4"></span><span class="ff28">Python<span class="_ _a"> </span><span class="ff1d">之禅》<span class="_ _0"></span>实<span class="_ _0"></span>际<span class="_ _0"></span>上</span></span></div><div class="t m0 x2a h29 yf6 ff1d fs12 fc5 sc0 ls1 ws1">是<span class="_ _35"> </span><span class="ff28">Python<span class="_ _38"> </span></span>增强提案（<span class="ff28">Python<span class="_ _35"> </span>Enhancemen<span class="_ _4"></span>t<span class="_ _35"> </span>Prop<span class="_ _0"></span>osals,<span class="_ _35"> </span>PEP<span class="ff1d">）中的第<span class="_ _35"> </span></span>20<span class="_ _35"> </span><span class="ff1d">号提案<span class="_ _35"> </span></span>PEP<span class="_ _38"> </span>20<span class="ff1d">。<span class="_ _5"></span>有意思的是，<span class="_ _4"></span>如果你查</span></span></div><div class="t m0 x2a h29 y7c ff1d fs12 fc5 sc0 ls1 ws1">看<span class="_ _38"> </span><span class="ff2b">this<span class="_ _38"> </span></span>模块的源代码，你会发现它完全违背了这些原则<span class="_ _23"> </span>。</div><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",88.59,124.6,null]'><div class="d m7" style="border-style:none;position:absolute;left:208.818000px;bottom:227.092000px;width:4.234000px;height:5.137000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfd" class="pf w3 h1b" data-page-no="d"><div class="pc pcd w3 h1b"></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfe" class="pf w3 h1b" data-page-no="e"><div class="pc pce w3 h1b"><img class="bi x2a y118 w4 h2b" alt="" src="bge.png"/><div class="t m0 x38 h1c y3f ff1a fsc fc5 sc0 ls1 ws1">第<span class="_ _7"> </span><span class="ff19">2<span class="_ _7"> </span></span>章<span class="_ _33"> </span>如何运行<span class="_ _7"> </span><span class="ff19">Python<span class="_ _7"> </span></span>代码</div><div class="t m0 x1a h1f y119 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _35"> </span><span class="ff1d">是一种灵活的语言，<span class="_ _41"></span>你可以根据你手中的任务选择不同的方法来使用它。<span class="_ _36"></span><span class="ff1f">Python<span class="_ _38"> </span><span class="ff1d">和</span></span></span></div><div class="t m0 x2a h1f y11a ff1d fsf fc5 sc0 ls1 ws1">其他编程语言的一个区别在于<span class="_ _35"> </span><span class="ff1f">Python<span class="_ _35"> </span></span>是<span class="ff1e">解释型<span class="_ _34"></span><span class="ff1d">（<span class="ff1f">interpreted</span>）<span class="_ _34"></span>而不是<span class="ff1e">编译型<span class="_ _34"></span><span class="ff1d">（<span class="ff1f">compiled</span>）<span class="_ _34"></span>语言。</span></span></span></span></div><div class="t m0 x2a h1f y11b ff1d fsf fc5 sc0 ls1 ws1">这意味着<span class="_ _35"> </span><span class="ff1f">Python<span class="_ _35"> </span></span>是一行一行执行的，<span class="_ _42"></span>因此它具有<span class="_ _35"> </span><span class="ff1f">F<span class="_ _9"></span>ortran<span class="ff1d">、<span class="_ _43"></span><span class="ff1f">C<span class="_ _35"> </span><span class="ff1d">或者<span class="_ _35"> </span></span>Ja<span class="_ _4"></span>v<span class="_ _5"></span>a</span></span></span></div><div class="t m0 x39 h26 y11c ff26 fs10 fc6 sc0 ls1 ws1">1</div><div class="t m0 x3a h1f y11b ff1d fsf fc5 sc0 ls1 ws1">这些编译型语言无法做</div><div class="t m0 x2a h1f y11d ff1d fsf fc5 sc0 ls1 ws1">到的<span class="_ _41"></span>“交互”<span class="_ _36"></span>特性。<span class="_ _36"></span>这一节会介绍</div><div class="t m0 x4 h22 y11e ff1f fsf fc5 sc0 ls1 ws1">4</div><div class="t m0 x3b h1f y11d ff1d fsf fc5 sc0 ls1 ws1">种运行</div><div class="t m0 x3c h22 y11e ff1f fsf fc5 sc0 ls1 ws1">Python</div><div class="t m0 x3d h1f y11d ff1d fsf fc5 sc0 ls1 ws1">代码的主要方法：<span class="_ _37"></span>使用</div><div class="t m0 x3e h22 y11e ff1f fsf fc5 sc0 ls1 ws1">Python</div><div class="t m0 x3f h1f y11d ff1d fsf fc5 sc0 ls1 ws1">或</div><div class="t m0 x2b h22 y11e ff1f fsf fc5 sc0 ls1 ws1">IPython</div><div class="t m0 x40 h21 y11d ff1e fsf fc5 sc0 ls1 ws1">解</div><div class="t m0 x2a h1f y11f ff1e fsf fc5 sc0 ls1 ws1">释器<span class="ff1d">（<span class="ff1f">in<span class="_ _4"></span>terpreter<span class="ff1d">）<span class="_ _39"></span>、运行<span class="ff1e">自包含脚本</span>（<span class="ff1f">self-contained<span class="_ _e"> </span>script</span>）或者使用<span class="_ _a"> </span><span class="ff1f">Jup<span class="_ _4"></span>yter<span class="_ _e"> </span>Noteb<span class="_ _0"></span>ook<span class="ff1d">。</span></span></span></span></span></div><div class="t m0 x2a h23 y120 ff19 fsd fc5 sc0 ls1 ws1">2.1<span class="_ _15"> </span>Python<span class="_ _3"> </span><span class="ff1a">解释器</span></div><div class="t m0 x1a h1f y121 ff1d fsf fc5 sc0 ls1 ws1">逐<span class="_ _0"></span>行运<span class="_ _0"></span>行<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>代<span class="_ _0"></span>码最<span class="_ _0"></span>基础<span class="_ _0"></span>的方<span class="_ _0"></span>法<span class="_ _0"></span>是在<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _10"> </span></span>解释<span class="_ _0"></span>器<span class="_ _0"></span>中运<span class="_ _0"></span>行。安<span class="_ _0"></span>装<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>语<span class="_ _0"></span>言运<span class="_ _0"></span>行</div><div class="t m0 x2a h1f y122 ff1d fsf fc5 sc0 ls1 ws1">时（在<span class="_ _0"></span>前面的一<span class="_ _0"></span>节提到过）<span class="_ _0"></span>然后在命<span class="_ _0"></span>令行中输<span class="_ _0"></span>入<span class="_ _a"> </span><span class="ff22">python</span>（在<span class="_ _e"> </span><span class="ff1f">macOS<span class="_ _a"> </span></span>和<span class="_ _a"> </span><span class="ff1f">Unix/Lin<span class="_ _4"></span>ux<span class="_ _a"> </span><span class="ff1d">中使<span class="_ _0"></span>用<span class="ff1e">终</span></span></span></div><div class="t m0 x2a h1f y123 ff1e fsf fc5 sc0 ls1 ws1">端<span class="ff1d">（<span class="ff1f">terminal</span>）<span class="_ _39"></span>，或者在<span class="_ _a"> </span><span class="ff1f">Windo<span class="_ _4"></span>ws<span class="_ _e"> </span><span class="ff1d">下使用<span class="_ _a"> </span></span>CMD<span class="ff1d">）<span class="_ _39"></span>：</span></span></span></div><div class="t m0 x36 h27 y124 ff22 fsf fc5 sc0 ls1 ws1">$<span class="_ _3"> </span>python</div><div class="t m0 x36 h27 y125 ff22 fsf fc5 sc0 ls1 ws1">Python<span class="_ _3"> </span>3.5.1<span class="_ _3"> </span>|Continuum<span class="_ _3"> </span>Analytics,<span class="_ _3"> </span>Inc.|<span class="_ _2"> </span>(default,<span class="_ _3"> </span>Dec<span class="_ _44"> </span>7<span class="_ _3"> </span>2015,<span class="_ _3"> </span>11:24:55)</div><div class="t m0 x36 h27 y126 ff22 fsf fc5 sc0 ls1 ws1">Type<span class="_ _3"> </span>&quot;help&quot;,<span class="_ _3"> </span>&quot;copyright&quot;,<span class="_ _3"> </span>&quot;credits&quot;<span class="_ _3"> </span>or<span class="_ _2"> </span>&quot;license&quot;<span class="_ _3"> </span>for<span class="_ _3"> </span>more<span class="_ _3"> </span>information.</div><div class="t m0 x36 h27 y127 ff22 fsf fc5 sc0 ls1 ws1">&gt;&gt;&gt;</div><div class="t m0 x1a h1f y128 ff1d fsf fc5 sc0 ls1 ws1">当解释器<span class="_ _0"></span>启动之后，<span class="_ _0"></span>你就可以<span class="_ _0"></span>开始输入<span class="_ _0"></span>并执行代<span class="_ _0"></span>码片段了。这<span class="_ _0"></span>里我们可<span class="_ _0"></span>以把它当<span class="_ _0"></span>作一个简</div><div class="t m0 x2a h1f y129 ff1d fsf fc5 sc0 ls1 ws1">单的计算器来用，执行一个计算过程并把结果赋给某个<span class="ff1e">变量</span>（<span class="ff1f">v<span class="_ _5"></span>ariable<span class="ff1d">）<span class="_ _c"></span>：</span></span></div><div class="t m0 x36 h27 y12a ff22 fsf fcb sc0 ls1 ws1">&gt;&gt;&gt;<span class="_ _3"> </span><span class="fcc">1<span class="_ _3"> </span></span>+<span class="_ _3"> </span><span class="fcc">1</span></div><div class="t m0 x36 h27 y12b ff22 fsf fcc sc0 ls1 ws1">2</div><div class="t m0 x36 h27 y12c ff22 fsf fcb sc0 ls1 ws1">&gt;&gt;&gt;<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span></span>=<span class="_ _3"> </span><span class="fcc">5</span></div><div class="t m0 x36 h27 y12d ff22 fsf fcb sc0 ls1 ws1">&gt;&gt;&gt;<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span></span>*<span class="_ _3"> </span><span class="fcc">3</span></div><div class="t m0 x36 h27 y12e ff22 fsf fcc sc0 ls1 ws1">15</div><div class="t m0 x1a h1f y12f ff1d fsf fc5 sc0 ls1 ws1">这个解释器让我们能方便地尝试一些<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>代码片段并尝试一些短的操作序列。</div><div class="t m0 x2a h23 y130 ff19 fsd fc5 sc0 ls1 ws1">2.2<span class="_ _15"> </span>IPython<span class="_ _3"> </span><span class="ff1a">解释器</span></div><div class="t m0 x1a h1f y131 ff1d fsf fc5 sc0 ls1 ws1">如果<span class="_ _0"></span>你在原<span class="_ _0"></span>始的<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>解释器<span class="_ _0"></span>上花费<span class="_ _0"></span>了很多<span class="_ _0"></span>时间，你<span class="_ _0"></span>会发现<span class="_ _0"></span>它缺少作<span class="_ _0"></span>为一个<span class="_ _0"></span>成熟的<span class="_ _0"></span>交互</div><div class="t m0 x2a h1f y132 ff1d fsf fc5 sc0 ls1 ws1">开发<span class="_ _0"></span>环境的<span class="_ _0"></span>许多功能。<span class="_ _0"></span>另一种<span class="_ _0"></span>可选的解<span class="_ _0"></span>释器叫<span class="_ _0"></span>做<span class="_ _a"> </span><span class="ff1f">IPython</span>（<span class="ff1f">In<span class="_ _5"></span>teractive<span class="_ _a"> </span>Python<span class="_ _a"> </span><span class="ff1d">的缩写）<span class="_ _45"></span>，它<span class="_ _0"></span>包</span></span></div><div class="t m0 x2a h1f y133 ff1d fsf fc5 sc0 ls1 ws1">含在<span class="_ _a"> </span><span class="ff1f">Anaconda<span class="_ _a"> </span></span>发行<span class="_ _0"></span>版中，而<span class="_ _0"></span>且它包<span class="_ _0"></span>含许多<span class="_ _0"></span>相对于<span class="_ _0"></span>基础<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>解释器<span class="_ _0"></span>更方便<span class="_ _0"></span>的增强<span class="_ _0"></span>功能。在</div><div class="t m0 x2a h1f y134 ff1d fsf fc5 sc0 ls1 ws1">命令行中输入<span class="_ _e"> </span><span class="ff22">ipython<span class="_ _a"> </span></span>可以开启它：</div><div class="t m0 x37 h28 y135 ff27 fs11 fc5 sc0 ls1 ws1">1</div><div class="t m0 x2f h29 y7c ff1d fs12 fc5 sc0 ls1 ws1">译者注：在最近推出的<span class="_ _38"> </span><span class="ff28">Ja<span class="_ _4"></span>v<span class="_ _4"></span>a<span class="_ _35"> </span>9<span class="_ _38"> </span><span class="ff1d">及以后的版本中，</span>Jav<span class="_ _5"></span>a<span class="_ _38"> </span><span class="ff1d">提供了<span class="_ _38"> </span></span>JShell<span class="_ _38"> </span><span class="ff1d">使得<span class="_ _38"> </span></span>Jav<span class="_ _5"></span>a<span class="_ _38"> </span><span class="ff1d">具有了交互的功能。</span></span></div><div class="t m0 x33 h22 y5c ff1f fsf fc5 sc0 ls1 ws1">5</div><a class="l" href="#pfe" data-dest-detail='[14,"XYZ",88.59,85.15,null]'><div class="d m7" style="border-style:none;position:absolute;left:406.734000px;bottom:591.738000px;width:4.234000px;height:5.136000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pff" class="pf w3 h1b" data-page-no="f"><div class="pc pcf w3 h1b"><img class="bi x2a y7c w4 h2c" alt="" src="bgf.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">6<span class="_ _46"> </span><span class="ff24">2.<span class="_ _2c"> </span><span class="ff1e">如何运行<span class="_ _a"> </span></span>PYTHON<span class="_ _e"> </span><span class="ff1e">代码</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc5 sc0 ls1 ws1">$<span class="_ _3"> </span>ipython</div><div class="t m0 x36 h27 y137 ff22 fsf fc5 sc0 ls1 ws1">Python<span class="_ _3"> </span>3.5.1<span class="_ _3"> </span>|Continuum<span class="_ _3"> </span>Analytics,<span class="_ _3"> </span>Inc.|<span class="_ _2"> </span>(default,<span class="_ _3"> </span>Dec<span class="_ _44"> </span>7<span class="_ _3"> </span>2015,<span class="_ _3"> </span>11:24:55)</div><div class="t m0 x36 h27 y138 ff22 fsf fc5 sc0 ls1 ws1">Type<span class="_ _3"> </span>&quot;copyright&quot;,<span class="_ _3"> </span>&quot;credits&quot;<span class="_ _3"> </span>or<span class="_ _3"> </span>&quot;license&quot;<span class="_ _2"> </span>for<span class="_ _3"> </span>more<span class="_ _3"> </span>information.</div><div class="t m0 x36 h27 y139 ff22 fsf fc5 sc0 ls1 ws1">IPython<span class="_ _3"> </span>4.0.0<span class="_ _3"> </span>--<span class="_ _3"> </span>An<span class="_ _3"> </span>enhanced<span class="_ _2"> </span>Interactive<span class="_ _3"> </span>Python.</div><div class="t m0 x36 h27 y13a ff22 fsf fc5 sc0 ls1 ws1">?<span class="_ _47"> </span>-&gt;<span class="_ _3"> </span>Introduction<span class="_ _3"> </span>and<span class="_ _3"> </span>overview<span class="_ _3"> </span>of<span class="_ _2"> </span>IPython<span class="ff2a">&apos;</span>s<span class="_ _3"> </span>features.</div><div class="t m0 x36 h27 y13b ff22 fsf fc5 sc0 ls1 ws1">%quickref<span class="_ _3"> </span>-&gt;<span class="_ _3"> </span>Quick<span class="_ _3"> </span>reference.</div><div class="t m0 x36 h27 y13c ff22 fsf fc5 sc0 ls1 ws1">help<span class="_ _48"> </span>-&gt;<span class="_ _3"> </span>Python<span class="ff2a">&apos;</span>s<span class="_ _3"> </span>own<span class="_ _3"> </span>help<span class="_ _3"> </span>system.</div><div class="t m0 x36 h27 y13d ff22 fsf fc5 sc0 ls1 ws1">object?<span class="_ _49"> </span>-&gt;<span class="_ _3"> </span>Details<span class="_ _3"> </span>about<span class="_ _3"> </span><span class="ff2a">&apos;</span>object<span class="ff2a">&apos;</span>,<span class="_ _3"> </span>use<span class="_ _2"> </span><span class="ff2a">&apos;</span>object??<span class="ff2a">&apos;<span class="_ _3"> </span></span>for<span class="_ _3"> </span>extra<span class="_ _3"> </span>details.</div><div class="t m0 x36 h27 y13e ff22 fsf fc5 sc0 ls1 ws1">In<span class="_ _3"> </span>[1]:</div><div class="t m0 x1a h1f y13f ff1d fsf fc5 sc0 ls1 ws1">原<span class="_ _4a"></span>始<span class="_ _8"> </span><span class="ff1f">Python<span class="_ _8"> </span></span>解<span class="_ _4a"></span>释<span class="_ _4a"></span>器<span class="_ _4a"></span>和<span class="_ _2"> </span><span class="ff1f">IPython<span class="_ _8"> </span></span>解<span class="_ _4a"></span>释<span class="_ _4a"></span>器<span class="_ _4a"></span>美<span class="_ _4a"></span>学<span class="_ _4a"></span>上<span class="_ _4a"></span>的<span class="_ _4a"></span>区<span class="_ _4a"></span>别<span class="_ _4a"></span>主<span class="_ _4a"></span>要<span class="_ _4a"></span>取<span class="_ _4a"></span>决<span class="_ _4a"></span>于<span class="_ _4a"></span>命<span class="_ _4a"></span>令<span class="_ _4a"></span>行<span class="_ _4a"></span>中<span class="_ _4a"></span>的<span class="_ _4a"></span>提<span class="_ _4a"></span>示<span class="_ _4a"></span>符：</div><div class="t m0 x2a h1f y140 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _a"> </span><span class="ff1d">默认使<span class="_ _0"></span>用<span class="_ _a"> </span><span class="ff22">&gt;&gt;&gt;<span class="_ _a"> </span></span>作为提示<span class="_ _0"></span>符，而<span class="_ _a"> </span></span>IPython<span class="_ _a"> </span><span class="ff1d">为每行<span class="_ _0"></span>命令进<span class="_ _0"></span>行了数<span class="_ _0"></span>字编号<span class="_ _0"></span>（比如<span class="_ _a"> </span><span class="ff22">In<span class="_ _3"> </span>[1]:</span>）<span class="_ _d"></span>。</span></div><div class="t m0 x2a h1f y141 ff1d fsf fc5 sc0 ls1 ws1">不管怎样，我们还是可以像前面那样逐行地执行代码。</div><div class="t m0 x36 h27 y142 ff22 fsf fc5 sc0 ls1 ws1">In<span class="_ _3"> </span>[1]:<span class="_ _3"> </span>1<span class="_ _3"> </span>+<span class="_ _3"> </span>1</div><div class="t m0 x36 h27 y143 ff22 fsf fc5 sc0 ls1 ws1">Out[1]:<span class="_ _3"> </span>2</div><div class="t m0 x36 h27 y144 ff22 fsf fc5 sc0 ls1 ws1">In<span class="_ _3"> </span>[2]:<span class="_ _3"> </span>x<span class="_ _3"> </span>=<span class="_ _3"> </span>5</div><div class="t m0 x36 h27 y145 ff22 fsf fc5 sc0 ls1 ws1">In<span class="_ _3"> </span>[3]:<span class="_ _3"> </span>x<span class="_ _3"> </span>*<span class="_ _3"> </span>3</div><div class="t m0 x36 h27 y146 ff22 fsf fc5 sc0 ls1 ws1">Out[3]:<span class="_ _3"> </span>15</div><div class="t m0 x1a h1f y147 ff1d fsf fc5 sc0 ls1 ws1">请注<span class="_ _0"></span>意，就像<span class="_ _0"></span>输入的<span class="_ _0"></span>命令被<span class="_ _0"></span>编号一<span class="_ _0"></span>样，每个<span class="_ _0"></span>命令的<span class="_ _0"></span>输出也<span class="_ _0"></span>被编号。<span class="ff1f">IPython<span class="_ _a"> </span></span>实<span class="_ _0"></span>现了很<span class="_ _0"></span>广泛</div><div class="t m0 x2a h1f y148 ff1d fsf fc5 sc0 ls1 ws1">的有用的功能，更多的资料可以参见第<span class="_ _e"> </span><span class="ff1f fc6">17<span class="_ _a"> </span></span>章<span class="fc6">更多学习资源</span>。</div><div class="t m0 x2a h23 y149 ff19 fsd fc5 sc0 ls1 ws1">2.3<span class="_ _15"> </span><span class="ff1a">自包含<span class="_ _3"> </span></span>Python<span class="_ _8"> </span><span class="ff1a">脚本</span></div><div class="t m0 x1a h1f y14a ff1d fsf fc5 sc0 ls1 ws1">在某<span class="_ _0"></span>些情况<span class="_ _0"></span>下，能够<span class="_ _0"></span>一行一<span class="_ _0"></span>行地运<span class="_ _0"></span>行<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>代<span class="_ _0"></span>码块确<span class="_ _0"></span>实很有<span class="_ _0"></span>用，但是<span class="_ _0"></span>对于更<span class="_ _0"></span>多复杂<span class="_ _0"></span>的程</div><div class="t m0 x2a h1f y14b ff1d fsf fc5 sc0 ls1 ws1">序，<span class="_ _5"></span>把代码保存到文件中并一次性执行是更明智的选择。<span class="_ _4"></span>按照惯例，<span class="_ _5"></span><span class="ff1f">Python<span class="_ _e"> </span><span class="ff1d">脚本会被保存在扩</span></span></div><div class="t m0 x2a h1f y14c ff1d fsf fc5 sc0 ls1 ws1">展名为<span class="_ _38"> </span><span class="ff22">.py<span class="_ _e"> </span></span>的文件中。<span class="_ _1"></span>比如，<span class="_ _1"></span>让我们创建一个名叫<span class="_ _e"> </span><span class="ff22">test.py<span class="_ _38"> </span></span>的文件，<span class="_ _1"></span>并把下面的内容写入进去。</div><div class="t m0 x36 h21 y14d ff2c fsf fcd sc0 ls1 ws1">#<span class="_ _3"> </span><span class="ff1e">文件：</span>test.py</div><div class="t m0 x36 h27 y14e ff22 fsf fc5 sc0 ls1 ws1">print(<span class="fce">&quot;Running<span class="_ _3"> </span>test.py&quot;</span>)</div><div class="t m0 x36 h27 y14f ff22 fsf fc5 sc0 ls1 ws1">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fcc">5</span></span></div><div class="t m0 x36 h27 y150 ff22 fsf fc5 sc0 ls1 ws1">print(<span class="fce">&quot;Result<span class="_ _3"> </span>is&quot;</span>,<span class="_ _3"> </span><span class="fcc">3<span class="_ _3"> </span><span class="fcb">*<span class="_ _3"> </span></span></span>x)</div><div class="t m0 x1a h1f y151 ff1d fsf fc5 sc0 ls1 ws1">为了运行这个文件，<span class="_ _4"></span>我们必须确保它在一个正确的目录下，<span class="_ _4"></span>然后在命令行中输入：<span class="_ _38"> </span><span class="ff22">python</span></div><div class="t m0 x2a h1f y152 ff2c fsf fc5 sc0 ls1 ws1">filename<span class="_ _4b"> </span><span class="ff1d">。</span></div><div class="t m0 x36 h27 y153 ff22 fsf fc5 sc0 ls1 ws1">$<span class="_ _3"> </span>python<span class="_ _3"> </span>test.py</div><div class="t m0 x36 h27 y154 ff22 fsf fc5 sc0 ls1 ws1">Running<span class="_ _3"> </span>test.py</div><div class="t m0 x36 h27 y155 ff22 fsf fc5 sc0 ls1 ws1">Result<span class="_ _3"> </span>is<span class="_ _3"> </span>15</div><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:261.091000px;bottom:351.880000px;width:10.909000px;height:6.869000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:286.545000px;bottom:348.769000px;width:65.455000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf10" class="pf w3 h1b" data-page-no="10"><div class="pc pc10 w3 h1b"><img class="bi x2a y156 w5 h2d" alt="" src="bg10.png"/><div class="t m0 x2a h22 y7d ff24 fsf fc5 sc0 ls1 ws1">2.4.<span class="_ _2c"> </span>JUPYTER<span class="_ _a"> </span>NOTEBOOK<span class="_ _4c"> </span><span class="ff1f">7</span></div><div class="t m0 x1a h1f y7e ff1d fsf fc5 sc0 ls1 ws1">对于更复杂的程序，创建像这样的自包含脚本</div><div class="t m0 x41 h26 y157 ff26 fs10 fc6 sc0 ls1 ws1">2</div><div class="t m0 x42 h1f y7e ff1d fsf fc5 sc0 ls1 ws1">是必须的。</div><div class="t m0 x2a h2e y158 ff19 fsd fc5 sc0 ls1 ws1">2.4<span class="_ _15"> </span>Jupyter<span class="_ _8"> </span>Noteb<span class="_ _0"></span>o<span class="_ _0"></span>ok</div><div class="t m0 x1a h1f y159 ff1f fsf fc5 sc0 ls1 ws1">Jup<span class="_ _4"></span>yter<span class="_ _a"> </span>Notebo<span class="_ _0"></span>ok<span class="_ _a"> </span><span class="ff1d">是一种很好用的工具，它融<span class="_ _0"></span>合了交互式命令行和自<span class="_ _0"></span>包含脚本的特点。它</span></div><div class="t m0 x2a h1f y15a ff1d fsf fc5 sc0 ls1 ws1">是一种<span class="_ _0"></span>文档格式，<span class="_ _0"></span>其中可以<span class="_ _0"></span>包含可执行<span class="_ _0"></span>代码、格式<span class="_ _0"></span>化的文本、<span class="_ _0"></span>图片等，甚至<span class="_ _0"></span>可以用交<span class="_ _0"></span>互功能组</div><div class="t m0 x2a h1f y15b ff1d fsf fc5 sc0 ls1 ws1">成整<span class="_ _0"></span>个文档。<span class="_ _0"></span>虽然这种<span class="_ _0"></span>特殊的<span class="_ _0"></span>记事本<span class="_ _0"></span>开始时<span class="_ _0"></span>只有<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>版本，但<span class="_ _0"></span>是它正<span class="_ _0"></span>在不断地<span class="_ _0"></span>被其他<span class="_ _0"></span>许多</div><div class="t m0 x2a h1f y15c ff1d fsf fc5 sc0 ls1 ws1">语言兼容。<span class="_ _5"></span>到了现在，它已经是<span class="_ _38"> </span><span class="ff1f fc7">Jupyter<span class="_ _e"> </span>Pro<span class="_ _0"></span>ject<span class="_ _e"> </span></span>的一部分。<span class="_ _5"></span>这种记事本不止是一种好用的开发</div><div class="t m0 x2a h1f y15d ff1d fsf fc5 sc0 ls1 ws1">环境，也<span class="_ _0"></span>是将代码、<span class="_ _0"></span>数字、数据<span class="_ _0"></span>和文本相结<span class="_ _0"></span>合，通过丰<span class="_ _0"></span>富的计算<span class="_ _0"></span>和数据驱动<span class="_ _0"></span>的叙述来<span class="_ _0"></span>共享工作</div><div class="t m0 x2a h1f y15e ff1d fsf fc5 sc0 ls1 ws1">的一种手段。</div><div class="t m0 x37 h28 y15f ff27 fs11 fc5 sc0 ls1 ws1">2</div><div class="t m0 x2f h29 y117 ff1d fs12 fc5 sc0 ls1 ws1">译者注：<span class="_ _9"></span>严格来说，<span class="_ _9"></span>自包含脚本意味着一个脚本不需要额外环境就可以运行。<span class="_ _9"></span>对于<span class="_ _35"> </span><span class="ff28">Python<span class="_ _35"> </span></span>这类解释型语言，<span class="_ _9"></span>虽</div><div class="t m0 x2a h29 yf6 ff1d fs12 fc5 sc0 ls1 ws1">然无<span class="_ _0"></span>法编译<span class="_ _38"> </span><span class="ff28">Python<span class="_ _e"> </span></span>脚本，但<span class="_ _0"></span>是可以使<span class="_ _0"></span>用第三方库<span class="_ _0"></span>如<span class="_ _38"> </span><span class="ff28">cxfreeze<span class="_ _e"> </span></span>和<span class="_ _38"> </span><span class="ff28">PyInstaller<span class="_ _e"> </span></span>等进行<span class="_ _0"></span><span class="ff1a">打包</span>。这里<span class="_ _0"></span>“自包含”<span class="_ _0"></span>的意义</div><div class="t m0 x2a h29 y7c ff1d fs12 fc5 sc0 ls1 ws1">主要在于一个脚本文件包含了全部需要执行的代码。</div><a class="l" href="#pf10" data-dest-detail='[16,"XYZ",88.59,111.45,null]'><div class="d m7" style="border-style:none;position:absolute;left:312.000000px;bottom:762.890000px;width:4.234000px;height:5.136000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://jupyter.org/"><div class="d m7" style="border-style:none;position:absolute;left:227.262000px;bottom:642.984000px;width:74.800000px;height:9.636000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf11" class="pf w3 h1b" data-page-no="11"><div class="pc pc11 w3 h1b"></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf12" class="pf w3 h1b" data-page-no="12"><div class="pc pc12 w3 h1b"><img class="bi x2a y160 w4 h2f" alt="" src="bg12.png"/><div class="t m0 x43 h1c y3f ff1a fsc fc5 sc0 ls1 ws1">第<span class="_ _7"> </span><span class="ff19">3<span class="_ _7"> </span></span>章<span class="_ _33"> </span><span class="ff19">Python<span class="_ _7"> </span></span>语法速览</div><div class="t m0 x1a h1f y119 ff1d fsf fc5 sc0 ls1 ws1">最开<span class="_ _0"></span>始<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>是<span class="_ _0"></span>被当作<span class="_ _0"></span>一门用<span class="_ _0"></span>来教学<span class="_ _0"></span>的语言<span class="_ _0"></span>来开发<span class="_ _0"></span>的，但是<span class="_ _0"></span>它的易<span class="_ _0"></span>用性和<span class="_ _0"></span>简洁的语<span class="_ _0"></span>法让</div><div class="t m0 x2a h1f y11a ff1d fsf fc5 sc0 ls1 ws1">它受到初学者和专家们的欢迎。</div><div class="t m0 x1a h1f y11b ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _a"> </span><span class="ff1d">语法的简<span class="_ _0"></span>洁性使得一<span class="_ _0"></span>些人将其称<span class="_ _0"></span>为“可执行伪<span class="_ _0"></span>代码”<span class="_ _c"></span>。<span class="_ _0"></span>并且，实际上<span class="_ _0"></span>我自己的经<span class="_ _0"></span>验</span></div><div class="t m0 x2a h1f y11d ff1d fsf fc5 sc0 ls1 ws1">是，阅读和理解</div><div class="t m0 x44 h22 y11e ff1f fsf fc5 sc0 ls1 ws1">Python</div><div class="t m0 x31 h1f y11d ff1d fsf fc5 sc0 ls1 ws1">脚本比阅读类似的<span class="_ _0"></span>代码（例如</div><div class="t m0 x9 h22 y11e ff1f fsf fc5 sc0 ls1 ws1">C</div><div class="t m0 x45 h1f y11d ff1d fsf fc5 sc0 ls1 ws1">语言）要容易得多。这<span class="_ _0"></span>里我们将开始</div><div class="t m0 x2a h1f y11f ff1d fsf fc5 sc0 ls1 ws1">讨论<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span><span class="ff1e">语法</span></span>（<span class="ff1f">syn<span class="_ _4"></span>tax<span class="ff1d">）的主要特性。</span></span></div><div class="t m0 x1a h1f y161 ff1d fsf fc5 sc0 ls1 ws1">语法指的是语言的结构（即构成正确构造的程序的内容）<span class="_ _39"></span>。<span class="_ _5"></span>在开始的时候，<span class="_ _5"></span>我们不会过分地</div><div class="t m0 x2a h1f y162 ff1d fsf fc5 sc0 ls1 ws1">纠结<span class="ff1e">语义</span>（<span class="ff1f">semantics</span>）——这个词指的是语<span class="_ _0"></span>法中词和符号的含<span class="_ _0"></span>义——但是我们在后面<span class="_ _0"></span>的学习中</div><div class="t m0 x2a h1f y163 ff1d fsf fc5 sc0 ls1 ws1">终究绕不开它。</div><div class="t m0 x1a h1f y164 ff1d fsf fc5 sc0 ls1 ws1">来看一下后面这个例子：</div><div class="t m0 x36 h21 y165 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[1]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">设置中点</span></span></div><div class="t m0 x46 h27 y166 ff22 fsf fc5 sc0 ls1 ws1">midpoint<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>5</span></div><div class="t m0 x46 h21 y167 ff2c fsf fcf sc0 ls1 ws1">#<span class="_ _3"> </span><span class="ff1e">创建两个空的列表</span></div><div class="t m0 x46 h27 y168 ff22 fsf fc5 sc0 ls1 ws1">lower<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[];<span class="_ _3"> </span>upper<span class="_ _3"> </span><span class="fcb">=<span class="_ _2"> </span></span>[]</div><div class="t m0 x46 h21 y169 ff2c fsf fcf sc0 ls1 ws1">#<span class="_ _3"> </span><span class="ff1e">把数字分为大的一半和小的一半</span></div><div class="t m0 x46 h27 y16a ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">i<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span></span><span class="ff22">range<span class="fc5">(<span class="fcb">10</span>):</span></span></div><div class="t m0 x38 h27 y16b ff29 fsf fc9 sc0 ls1 ws1">if<span class="_ _3"> </span><span class="ff22 fc5">(i<span class="_ _3"> </span><span class="fcb">&lt;<span class="_ _3"> </span></span>midpoint):</span></div><div class="t m0 x47 h27 y16c ff22 fsf fc5 sc0 ls1 ws1">lower<span class="fcb">.</span>append(i)</div><div class="t m0 x38 h27 y16d ff29 fsf fc9 sc0 ls1 ws1">else<span class="ff22 fc5">:</span></div><div class="t m0 x47 h27 y16e ff22 fsf fc5 sc0 ls1 ws1">upper<span class="fcb">.</span>append(i)</div><div class="t m0 x46 h27 y16f ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;lower:&quot;</span>,<span class="_ _3"> </span>lower)</span></div><div class="t m0 x46 h27 y170 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;upper:&quot;</span>,<span class="_ _3"> </span>upper)</span></div><div class="t m0 x36 h27 y171 ff22 fsf fc5 sc0 ls1 ws1">lower:<span class="_ _3"> </span>[0,<span class="_ _3"> </span>1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3,<span class="_ _2"> </span>4]</div><div class="t m0 x36 h27 y172 ff22 fsf fc5 sc0 ls1 ws1">upper:<span class="_ _3"> </span>[5,<span class="_ _3"> </span>6,<span class="_ _3"> </span>7,<span class="_ _3"> </span>8,<span class="_ _2"> </span>9]</div><div class="t m0 x1a h1f y173 ff1d fsf fc5 sc0 ls1 ws1">这段<span class="_ _0"></span>代码看<span class="_ _0"></span>起来有<span class="_ _0"></span>点傻，但<span class="_ _0"></span>是在短<span class="_ _0"></span>短几句<span class="_ _0"></span>中就展<span class="_ _0"></span>示了<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>语法中<span class="_ _0"></span>的几个<span class="_ _0"></span>重要部<span class="_ _0"></span>分。现</div><div class="t m0 x2a h1f y174 ff1d fsf fc5 sc0 ls1 ws1">在让我们一点点来看，探讨一下<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>的语法特性。</div><div class="t m0 x2a h23 y175 ff19 fsd fc5 sc0 ls1 ws1">3.1<span class="_ _15"> </span><span class="ff1a">用<span class="_ _3"> </span><span class="ff29">#<span class="_ _8"> </span></span>标记注释</span></div><div class="t m0 x1a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">这段脚本是由一句注释开始的：</div><div class="t m0 x33 h22 y5c ff1f fsf fc5 sc0 ls1 ws1">9</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf13" class="pf w3 h1b" data-page-no="13"><div class="pc pc13 w3 h1b"><img class="bi x2a y176 w4 h30" alt="" src="bg13.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">10<span class="_ _4d"> </span><span class="ff24">3.<span class="_ _2c"> </span>PYTHON<span class="_ _a"> </span><span class="ff1e">语法速览</span></span></div><div class="t m0 x36 h21 y136 ff2c fsf fcd sc0 ls1 ws1">#<span class="_ _3"> </span><span class="ff1e">设置中点</span></div><div class="t m0 x1a h1f y177 ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>中，注释是用一<span class="_ _0"></span>个<span class="_ _e"> </span><span class="ff22">#<span class="_ _a"> </span></span>字符来表示的，一行中跟在<span class="_ _a"> </span><span class="ff22">#<span class="_ _e"> </span></span>字<span class="_ _0"></span>符后面的东西都会被解释</div><div class="t m0 x2a h1f y178 ff1d fsf fc5 sc0 ls1 ws1">器忽略<span class="_ _0"></span>掉。这意味<span class="_ _0"></span>着，比如你可<span class="_ _0"></span>以像刚才<span class="_ _0"></span>那样将注释<span class="_ _0"></span>独立成行，<span class="_ _0"></span>也可以将<span class="_ _0"></span>注释写在语<span class="_ _0"></span>句后的同</div><div class="t m0 x2a h1f y179 ff1d fsf fc5 sc0 ls1 ws1">一行内。例如，你可以像下面这样写一个注释：</div><div class="t m0 x36 h21 y17a ff22 fsf fc5 sc0 ls1 ws1">x<span class="_ _3"> </span><span class="fcb">+=<span class="_ _3"> </span><span class="fcc">2<span class="_ _13"> </span><span class="ff2c fcd">#<span class="_ _3"> </span>x<span class="_ _3"> </span>=<span class="_ _3"> </span>x<span class="_ _3"> </span>+<span class="_ _3"> </span>2<span class="_ _3"> </span><span class="ff1e">的简写形式</span></span></span></span></div><div class="t m0 x1a h1f y17b ff1d fsf fc5 sc0 ls1 ws1">虽然多行字<span class="_ _0"></span>符串经常被用来替代多<span class="_ _0"></span>行注释，但是<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>中并没有<span class="_ _0"></span>类似<span class="_ _e"> </span><span class="ff1f">C<span class="_ _a"> </span></span>和<span class="_ _a"> </span><span class="ff1f">C++<span class="_ _e"> </span></span>中使用</div><div class="t m0 x2a h1f y17c ff1d fsf fc5 sc0 ls1 ws1">的</div><div class="t m0 x17 h27 y17d ff22 fsf fc5 sc0 ls1 ws1">/*<span class="_ _3"> </span>...<span class="_ _3"> </span>*/</div><div class="t m0 x48 h1f y17c ff1d fsf fc5 sc0 ls1 ws1">的多行注释的语法。关于这个问题可以参阅第<span class="_ _e"> </span><span class="ff1f fc6">15<span class="_ _a"> </span></span>章<span class="fc6">字符串处理和正则表达式</span>。</div><div class="t m0 x2a h23 y17e ff19 fsd fc5 sc0 ls1 ws1">3.2<span class="_ _15"> </span><span class="ff1a">用换行符结束语句</span></div><div class="t m0 x1a h1f y17f ff1d fsf fc5 sc0 ls1 ws1">脚本的下一行是：</div><div class="t m0 x36 h27 y180 ff22 fsf fc5 sc0 ls1 ws1">midpoint<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fcc">5</span></span></div><div class="t m0 x1a h1f y181 ff1d fsf fc5 sc0 ls1 ws1">这是一个<span class="ff1e">赋值<span class="_ _0"></span>运算符</span>（<span class="ff1f">assignmen<span class="_ _4"></span>t<span class="_ _a"> </span>operator<span class="ff1d">）<span class="_ _d"></span>。我们创建<span class="_ _0"></span>了一个叫做<span class="_ _a"> </span><span class="ff22">midpoint<span class="_ _e"> </span></span>的变量，<span class="_ _0"></span>并</span></span></div><div class="t m0 x2a h1f y182 ff1d fsf fc5 sc0 ls1 ws1">且把<span class="_ _0"></span>它的值<span class="_ _0"></span>赋为<span class="_ _a"> </span><span class="ff2d">5</span>。注意<span class="_ _0"></span>到，在句<span class="_ _0"></span>子末尾<span class="_ _0"></span>我们简<span class="_ _0"></span>单地使<span class="_ _0"></span>用了换<span class="_ _0"></span>行来标<span class="_ _0"></span>识一行<span class="_ _0"></span>的结束。<span class="_ _0"></span>这和必<span class="_ _0"></span>须</div><div class="t m0 x2a h1f y183 ff1d fsf fc5 sc0 ls1 ws1">使用分号（<span class="ff22">;</span>）结束一个句子的的<span class="_ _e"> </span><span class="ff1f">C<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff1f">C++<span class="_ _a"> </span></span>等语言正好相反。</div><div class="t m0 x1a h1f y184 ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中，如果你想要在下一行继续一个语句，你可以使用<span class="_ _e"> </span><span class="ff22">\<span class="_ _a"> </span></span>字符来来指示这一点：</div><div class="t m0 x36 h27 y185 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[2]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>1<span class="_ _2"> </span>+<span class="_ _3"> </span>2<span class="_ _3"> </span>+<span class="_ _3"> </span>3<span class="_ _3"> </span>+<span class="_ _3"> </span>4<span class="_ _3"> </span>+</span>\</span></div><div class="t m0 x38 h27 y186 ff22 fsf fcb sc0 ls1 ws1">5<span class="_ _3"> </span>+<span class="_ _3"> </span>6<span class="_ _3"> </span>+<span class="_ _3"> </span>7<span class="_ _2"> </span>+<span class="_ _3"> </span>8</div><div class="t m0 x1a h1f y187 ff1d fsf fc5 sc0 ls1 ws1">用一对小括号把一个语句括起来也可以让一个表达式换行：</div><div class="t m0 x36 h27 y188 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[3]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>(<span class="fcb">1<span class="_ _2"> </span>+<span class="_ _3"> </span>2<span class="_ _3"> </span>+<span class="_ _3"> </span>3<span class="_ _3"> </span>+<span class="_ _3"> </span>4<span class="_ _3"> </span>+</span></span></div><div class="t m0 x25 h27 y189 ff22 fsf fcb sc0 ls1 ws1">5<span class="_ _3"> </span>+<span class="_ _3"> </span>6<span class="_ _3"> </span>+<span class="_ _3"> </span>7<span class="_ _2"> </span>+<span class="_ _3"> </span>8<span class="fc5">)</span></div><div class="t m0 x1a h1f y18a ff1d fsf fc5 sc0 ls1 ws1">大部<span class="_ _0"></span>分<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>代<span class="_ _0"></span>码风<span class="_ _0"></span>格指<span class="_ _0"></span>南都<span class="_ _0"></span>建议<span class="_ _0"></span>第二<span class="_ _0"></span>种方<span class="_ _0"></span>法（使<span class="_ _0"></span>用括<span class="_ _0"></span>号）<span class="_ _45"></span>，<span class="_ _0"></span>而不<span class="_ _0"></span>是第<span class="_ _0"></span>一种<span class="_ _0"></span>（使用<span class="_ _a"> </span><span class="ff22">\<span class="_ _a"> </span></span>字</div><div class="t m0 x2a h1f y18b ff1d fsf fc5 sc0 ls1 ws1">符）<span class="_ _39"></span>。</div><div class="t m0 x2a h23 y18c ff19 fsd fc5 sc0 ls1 ws1">3.3<span class="_ _15"> </span><span class="ff1a">用分号结束语句</span></div><div class="t m0 x1a h1f y18d ff1d fsf fc5 sc0 ls1 ws1">有时候把多个语句放在一行上可能会很有用。脚本中下一行代码是：</div><div class="t m0 x36 h27 y18e ff22 fsf fc5 sc0 ls1 ws1">lower<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[]<span class="fcb">;<span class="_ _3"> </span></span>upper<span class="_ _3"> </span><span class="fcb">=<span class="_ _2"> </span></span>[]</div><div class="t m0 x1a h1f y18f ff1d fsf fc5 sc0 ls1 ws1">这里展示了如何像<span class="_ _38"> </span><span class="ff1f">C<span class="_ _e"> </span></span>语言中那样在<span class="_ _38"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>中使用分号<span class="_ _5"></span>（<span class="ff22">;</span>）<span class="_ _5"></span>把两个语句放到同一行里。<span class="_ _1"></span>从</div><div class="t m0 x2a h1f y190 ff1d fsf fc5 sc0 ls1 ws1">功能上来说，下面这种写法和上面是等价的：</div><div class="t m0 x36 h27 y191 ff22 fsf fc5 sc0 ls1 ws1">lower<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[]</div><div class="t m0 x36 h27 y192 ff22 fsf fc5 sc0 ls1 ws1">upper<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[]</div><div class="t m0 x1a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">尽管偶<span class="_ _0"></span>尔使用这<span class="_ _0"></span>种方法能带<span class="_ _0"></span>来一定的<span class="_ _0"></span>便利，使用分<span class="_ _0"></span>号来把两<span class="_ _0"></span>个语句放<span class="_ _0"></span>到同一行中<span class="_ _0"></span>并不被大</div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">部分的<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>代码风格指南所推荐。</div><a class="l" href="#pf5a" data-dest-detail='[90,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:363.545000px;bottom:612.031000px;width:10.909000px;height:6.870000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5a" data-dest-detail='[90,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:389.000000px;bottom:608.920000px;width:120.000000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf14" class="pf w3 h1b" data-page-no="14"><div class="pc pc14 w3 h1b"><img class="bi x2a y193 w4 h31" alt="" src="bg14.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">3.4.<span class="_ _2c"> </span><span class="ff1e">缩进：空白字符有意义<span class="_ _4e"> </span><span class="ff1f">11</span></span></div><div class="t m0 x2a h23 yf7 ff19 fsd fc5 sc0 ls1 ws1">3.4<span class="_ _15"> </span><span class="ff1a">缩进：空白字符有意义</span></div><div class="t m0 x1a h1f yf8 ff1d fsf fc5 sc0 ls1 ws1">接下来让我们来看看代码里主要的部分：</div><div class="t m0 x36 h27 y194 ff29 fsf fc12 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">i<span class="_ _3"> </span></span>in<span class="_ _3"> </span><span class="ff22 fc5">range(<span class="fcc">10</span>):</span></div><div class="t m0 x49 h27 y195 ff29 fsf fc12 sc0 ls1 ws1">if<span class="_ _3"> </span><span class="ff22 fc5">i<span class="_ _3"> </span><span class="fcb">&lt;<span class="_ _3"> </span></span>midpoint:</span></div><div class="t m0 x46 h27 y196 ff22 fsf fc5 sc0 ls1 ws1">lower.append(i)</div><div class="t m0 x49 h27 y197 ff29 fsf fc12 sc0 ls1 ws1">else<span class="ff22 fc5">:</span></div><div class="t m0 x46 h27 y198 ff22 fsf fc5 sc0 ls1 ws1">upper.append(i)</div><div class="t m0 x1a h1f y199 ff1d fsf fc5 sc0 ls1 ws1">这是<span class="_ _0"></span>一个复<span class="_ _0"></span>合<span class="ff1e">控制<span class="_ _0"></span>流语句<span class="_ _0"></span></span>（<span class="ff1f">con<span class="_ _4"></span>trol<span class="_ _a"> </span>ﬂo<span class="_ _4"></span>w<span class="_ _a"> </span>statemen<span class="_ _4"></span>t<span class="ff1d">）<span class="_ _45"></span>，它<span class="_ _0"></span>包含了<span class="_ _0"></span>一个<span class="ff1e">循<span class="_ _0"></span>环语句<span class="_ _0"></span></span>（<span class="ff1f">loop<span class="_ _a"> </span>state-</span></span></span></div><div class="t m0 x2a h1f y19a ff1f fsf fc5 sc0 ls1 ws1">men<span class="_ _4"></span>t<span class="ff1d">）和<span class="_ _0"></span>一个<span class="ff1e">条件<span class="_ _0"></span>语句<span class="_ _0"></span></span>（</span>conditional<span class="_ _e"> </span>statement<span class="ff1d">）——我们<span class="_ _0"></span>等一下<span class="_ _0"></span>再来<span class="_ _0"></span>讨论这<span class="_ _0"></span>两种语<span class="_ _0"></span>句。现在，</span></div><div class="t m0 x2a h1f y19b ff1d fsf fc5 sc0 ls1 ws1">先来看看下面展示出的可能是<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>语法中最有争议的一个特性：空白字符是<span class="ff1a">有意义</span>的！</div><div class="t m0 x1a h1f y19c ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _0"></span>编程<span class="_ _0"></span>语言<span class="_ _0"></span>中，一<span class="_ _0"></span>个<span class="ff1e">代码<span class="_ _0"></span>块</span>（<span class="ff1f">blo<span class="_ _0"></span>c<span class="_ _4"></span>k<span class="ff1d">）<span class="_ _0"></span>指的<span class="_ _0"></span>是可<span class="_ _0"></span>以看<span class="_ _0"></span>作一<span class="_ _0"></span>个<span class="_ _0"></span>单元<span class="_ _0"></span>的几<span class="_ _0"></span>个语<span class="_ _0"></span>句的<span class="_ _0"></span>集合。<span class="_ _0"></span>比如，</span></span></div><div class="t m0 x2a h1f y19d ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _e"> </span><span class="ff1f">C<span class="_ _a"> </span></span>语言中代码块被大括号包裹起来：</div><div class="t m0 x36 h21 y19e ff2c fsf fcd sc0 ls1 ws1">//<span class="_ _3"> </span>C<span class="_ _3"> </span><span class="ff1e">代码</span></div><div class="t m0 x36 h27 y19f ff29 fsf fc12 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">(<span class="fc13">int<span class="_ _3"> </span></span>i<span class="_ _3"> </span>=<span class="_ _3"> </span><span class="fcc">0</span>;<span class="_ _2"> </span>i<span class="_ _3"> </span>&lt;<span class="_ _3"> </span><span class="fcc">100</span>;<span class="_ _3"> </span>i++)</span></div><div class="t m0 x36 h27 y1a0 ff22 fsf fc5 sc0 ls1 ws1">{</div><div class="t m0 x4a h21 y1a1 ff2c fsf fcd sc0 ls1 ws1">//<span class="_ _3"> </span><span class="ff1e">大括号标识代码块</span></div><div class="t m0 x4a h27 y1a2 ff22 fsf fc5 sc0 ls1 ws1">total<span class="_ _3"> </span>+=<span class="_ _3"> </span>i;</div><div class="t m0 x36 h27 y1a3 ff22 fsf fc5 sc0 ls1 ws1">}</div><div class="t m0 x1a h1f y1a4 ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中，代码块使用<span class="ff1e">缩进</span>（<span class="ff1f">inden<span class="_ _4"></span>tation<span class="ff1d">）来标识：</span></span></div><div class="t m0 x36 h27 y1a5 ff29 fsf fc12 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">i<span class="_ _3"> </span></span>in<span class="_ _3"> </span><span class="ff22 fc5">range(<span class="fcc">100</span>):</span></div><div class="t m0 x49 h21 y1a6 ff2c fsf fcd sc0 ls1 ws1">#<span class="_ _3"> </span><span class="ff1e">缩进标识代码块</span></div><div class="t m0 x49 h27 y1a7 ff22 fsf fc5 sc0 ls1 ws1">total<span class="_ _3"> </span><span class="fcb">+=<span class="_ _3"> </span></span>i</div><div class="t m0 x1a h1f y1a8 ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中，缩进的代码块的前一行末尾经常有一个冒号（<span class="ff22">:</span>）<span class="_ _39"></span>。</div><div class="t m0 x1a h1f y1a9 ff1d fsf fc5 sc0 ls1 ws1">使用缩<span class="_ _0"></span>进可以<span class="_ _0"></span>强制规<span class="_ _0"></span>范出一<span class="_ _0"></span>种在大<span class="_ _0"></span>多数<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>代码<span class="_ _0"></span>中统一<span class="_ _0"></span>的、可读<span class="_ _0"></span>性高的<span class="_ _0"></span>代码风<span class="_ _0"></span>格。但</div><div class="t m0 x2a h1f y1aa ff1d fsf fc5 sc0 ls1 ws1">是也可能让初学者觉得很困惑，后面两个代码片段会产生不同的结果：</div><div class="t m0 x36 h27 y1ab ff22 fsf fcb sc0 ls1 ws1">&gt;&gt;&gt;<span class="_ _3"> </span><span class="ff29 fc12">if<span class="_ _3"> </span></span><span class="fc5">x<span class="_ _3"> </span></span>&lt;<span class="_ _3"> </span><span class="fcc">4<span class="fc5">:<span class="_ _47"> </span></span></span>&gt;&gt;&gt;<span class="_ _2"> </span><span class="ff29 fc12">if<span class="_ _3"> </span></span><span class="fc5">x<span class="_ _3"> </span></span>&lt;<span class="_ _3"> </span><span class="fcc">4<span class="fc5">:</span></span></div><div class="t m0 x36 h27 y1ac ff22 fsf fc5 sc0 ls1 ws1">...<span class="_ _4f"> </span>y<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>x<span class="_ _3"> </span><span class="fcb">*<span class="_ _3"> </span><span class="fcc">2<span class="_ _4f"> </span></span></span>...<span class="_ _4f"> </span>y<span class="_ _2"> </span><span class="fcb">=<span class="_ _3"> </span></span>x<span class="_ _3"> </span><span class="fcb">*<span class="_ _3"> </span><span class="fcc">2</span></span></div><div class="t m0 x36 h27 y1ad ff22 fsf fc5 sc0 ls1 ws1">...<span class="_ _4f"> </span>print(x)<span class="_ _48"> </span>...<span class="_ _3"> </span>print(x)</div><div class="t m0 x1a h1f y1ae ff1d fsf fc5 sc0 ls1 ws1">左边<span class="_ _0"></span>的代码<span class="_ _0"></span>片段中，<span class="ff22">print(x)<span class="_ _a"> </span></span>在缩<span class="_ _0"></span>进块里<span class="_ _0"></span>面，所以<span class="_ _0"></span>只有<span class="_ _a"> </span><span class="ff22">x<span class="_ _a"> </span></span>小于<span class="_ _a"> </span><span class="ff2d">4<span class="_ _a"> </span></span>的<span class="_ _0"></span>时候才<span class="_ _0"></span>会被执<span class="_ _0"></span>行。右</div><div class="t m0 x2a h1f y1af ff1d fsf fc5 sc0 ls1 ws1">边的代码片段中，<span class="ff22">print(x)<span class="_ _e"> </span></span>在缩进块外面，所以不管<span class="_ _a"> </span><span class="ff22">x<span class="_ _e"> </span></span>的值为多少都会被执行！</div><div class="t m0 x1a h1f y1b0 ff1d fsf fc5 sc0 ls1 ws1">一<span class="_ _0"></span>些<span class="_ _0"></span>习<span class="_ _0"></span>惯<span class="_ _0"></span>其<span class="_ _0"></span>他<span class="_ _0"></span>编<span class="_ _0"></span>程<span class="_ _0"></span>语<span class="_ _0"></span>言<span class="_ _0"></span>的<span class="_ _0"></span>程<span class="_ _0"></span>序<span class="_ _0"></span>员<span class="_ _0"></span>对<span class="_ _10"> </span><span class="ff1f">Python<span class="_ _10"> </span></span>中<span class="_ _0"></span>有<span class="_ _0"></span>意<span class="_ _0"></span>义<span class="_ _0"></span>的<span class="_ _0"></span>空<span class="_ _0"></span>白<span class="_ _0"></span>字<span class="_ _0"></span>符<span class="_ _0"></span>很<span class="_ _0"></span>惊<span class="_ _0"></span>讶，<span class="_ _0"></span>但<span class="_ _0"></span>是<span class="_ _0"></span>从<span class="_ _0"></span>实<span class="_ _0"></span>践<span class="_ _0"></span>中</div><div class="t m0 x2a h1f y1b1 ff1d fsf fc5 sc0 ls1 ws1">来<span class="_ _f"></span>看，<span class="_ _0"></span>这<span class="_ _f"></span>样<span class="_ _f"></span>可<span class="_ _f"></span>以<span class="_ _f"></span>比<span class="_ _f"></span>那<span class="_ _f"></span>些<span class="_ _f"></span>不<span class="_ _f"></span>强<span class="_ _f"></span>制缩<span class="_ _f"></span>进<span class="_ _f"></span>的<span class="_ _f"></span>语<span class="_ _f"></span>言<span class="_ _0"></span>有<span class="_ _f"></span>更<span class="_ _f"></span>好<span class="_ _f"></span>的<span class="_ _f"></span>可<span class="_ _f"></span>读<span class="_ _f"></span>性<span class="_ _f"></span>和<span class="_ _f"></span>风<span class="_ _f"></span>格<span class="_ _f"></span>的<span class="_ _f"></span>一<span class="_ _f"></span>致<span class="_ _f"></span>性。<span class="_ _0"></span>如<span class="_ _f"></span>果<span class="_ _f"></span>你<span class="_ _f"></span>觉<span class="_ _f"></span>得<span class="_ _f"></span>使</div><div class="t m0 x2a h1f y1b2 ff1d fsf fc5 sc0 ls1 ws1">用<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>的空白字符很不舒服，我建议你去尝试一下，你会发现你将逐渐适应它。</div><div class="t m0 x1a h1f yd4 ff1d fsf fc5 sc0 ls1 ws1">最后，你<span class="_ _0"></span>应该注意<span class="_ _0"></span>到，用于缩<span class="_ _0"></span>进代码块的<span class="_ _0"></span>空格的<span class="ff1a">数<span class="_ _0"></span>量</span>取决于<span class="_ _0"></span>用户，只要<span class="_ _0"></span>它在整个<span class="_ _0"></span>脚本中是</div><div class="t m0 x2a h1f yd5 ff1d fsf fc5 sc0 ls1 ws1">一致的<span class="_ _0"></span>就好。按照<span class="_ _0"></span>惯例，大多<span class="_ _0"></span>数风格指<span class="_ _0"></span>南都建议<span class="_ _0"></span>将代码块缩进四<span class="_ _0"></span>个空格，这<span class="_ _0"></span>也是本书<span class="_ _0"></span>中遵循的</div><div class="t m0 x2a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">约定。<span class="_ _5"></span>请注意，<span class="_ _4"></span>许多文本编辑器（如<span class="_ _e"> </span><span class="ff1f">Emacs<span class="_ _e"> </span></span>和<span class="_ _e"> </span><span class="ff1f">Vim</span>）都包含<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>模式，<span class="_ _5"></span>能自动缩进四个空</div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">格。</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf15" class="pf w3 h1b" data-page-no="15"><div class="pc pc15 w3 h1b"><img class="bi x2a y1b3 w4 h32" alt="" src="bg15.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">12<span class="_ _4d"> </span><span class="ff24">3.<span class="_ _2c"> </span>PYTHON<span class="_ _a"> </span><span class="ff1e">语法速览</span></span></div><div class="t m0 x2a h23 yf7 ff19 fsd fc5 sc0 ls1 ws1">3.5<span class="_ _15"> </span><span class="ff1a">行内空白字符无意义</span></div><div class="t m0 x1a h1f yf8 ff1d fsf fc5 sc0 ls1 ws1">虽然<span class="_ _0"></span>在<span class="ff1a">行（代<span class="_ _0"></span>码块）之<span class="_ _0"></span>前的<span class="_ _0"></span>空格</span>是<span class="_ _0"></span>有意义<span class="_ _0"></span>的，但<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>行内<span class="_ _0"></span>的空<span class="_ _0"></span>格并不<span class="_ _0"></span>重要。例<span class="_ _0"></span>如，这</div><div class="t m0 x2a h1f yf9 ff1d fsf fc5 sc0 ls1 ws1">三个表达式是等价的：</div><div class="t m0 x36 h27 y1b4 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[4]:<span class="_ _3"> </span><span class="fc5">x<span class="fcb">=1+2</span></span></div><div class="t m0 x46 h27 y1b5 ff22 fsf fc5 sc0 ls1 ws1">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>1<span class="_ _3"> </span>+<span class="_ _3"> </span>2</span></div><div class="t m0 x46 h27 y1b6 ff22 fsf fc5 sc0 ls1 ws1">x<span class="_ _50"> </span><span class="fcb">=<span class="_ _51"> </span>1<span class="_ _52"> </span>+<span class="_ _53"> </span>2</span></div><div class="t m0 x1a h1f y1b7 ff1d fsf fc5 sc0 ls1 ws1">滥用这<span class="_ _0"></span>种灵活性<span class="_ _0"></span>可能会导致<span class="_ _0"></span>代码可读<span class="_ _0"></span>性的问题<span class="_ _0"></span>——实际上滥<span class="_ _0"></span>用空白字符<span class="_ _0"></span>通常是故<span class="_ _0"></span>意混淆的</div><div class="t m0 x2a h1f y1b8 ff1d fsf fc5 sc0 ls1 ws1">代码的主要手段之一（有些人常常以此为消遣）<span class="_ _39"></span>。<span class="_ _5"></span>有效地使用空白可以让代码可读性更好，<span class="_ _5"></span>特别</div><div class="t m0 x2a h1f y1b9 ff1d fsf fc5 sc0 ls1 ws1">是在操作符相连的情况下。比较以下两个求幂的表达式：</div><div class="t m0 x36 h27 y1ba ff22 fsf fc5 sc0 ls1 ws1">x<span class="fcb">=<span class="fcc">10</span>**-<span class="fcc">2</span></span></div><div class="t m0 x36 h27 y1bb ff22 fsf fc5 sc0 ls1 ws1">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fcc">10<span class="_ _3"> </span></span>**<span class="_ _3"> </span>-<span class="fcc">2</span></span></div><div class="t m0 x1a h1f y1bc ff1d fsf fc5 sc0 ls1 ws1">我觉得<span class="_ _0"></span>一眼看过<span class="_ _0"></span>去第二个<span class="_ _0"></span>版本更容易<span class="_ _0"></span>读懂。大多<span class="_ _0"></span>是的风格<span class="_ _0"></span>指南都推荐<span class="_ _0"></span>在二元运算<span class="_ _0"></span>符前后各</div><div class="t m0 x2a h1f y1bd ff1d fsf fc5 sc0 ls1 ws1">加一个<span class="_ _0"></span>空格，在一元<span class="_ _0"></span>运算符前后<span class="_ _0"></span>不加空格。<span class="_ _0"></span>我们会在<span class="_ _0"></span>第<span class="_ _e"> </span><span class="ff1f fc6">5<span class="_ _a"> </span></span>章<span class="fc6">基础<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>语法：运算<span class="_ _0"></span>符</span>中进一</div><div class="t m0 x2a h1f y1be ff1d fsf fc5 sc0 ls1 ws1">步讨论<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>的运算符。</div><div class="t m0 x2a h23 y1bf ff19 fsd fc5 sc0 ls1 ws1">3.6<span class="_ _15"> </span><span class="ff1a">小括号用于表达式分组或函数调用</span></div><div class="t m0 x1a h1f y1c0 ff1d fsf fc5 sc0 ls1 ws1">在前面<span class="_ _0"></span>的代码片<span class="_ _0"></span>段中，我们<span class="_ _0"></span>看到两种<span class="_ _0"></span>使用小括<span class="_ _0"></span>号的方式。首<span class="_ _0"></span>先，小括号<span class="_ _0"></span>可以用在<span class="_ _0"></span>为表达式</div><div class="t m0 x2a h1f y1c1 ff1d fsf fc5 sc0 ls1 ws1">或者数学运算的分组中：</div><div class="t m0 x36 h27 y1c2 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[5]:<span class="_ _3"> </span><span class="fcb">2<span class="_ _3"> </span>*<span class="_ _3"> </span><span class="fc5">(</span>3<span class="_ _2"> </span>+<span class="_ _3"> </span>4<span class="fc5">)</span></span></div><div class="t m0 x36 h27 y1c3 ff22 fsf fc14 sc0 ls1 ws1">Out[5]:<span class="_ _3"> </span><span class="fc5">14</span></div><div class="t m0 x1a h1f y1c4 ff1d fsf fc5 sc0 ls1 ws1">小括号还可以用于<span class="ff1e">函数<span class="_ _4"></span><span class="ff1d">（<span class="ff1f">function</span>）被调用的时候。<span class="_ _34"></span>在下面的代码片段中，<span class="_ _5"></span><span class="ff22">print()<span class="_ _e"> </span><span class="ff1d">函数用</span></span></span></span></div><div class="t m0 x2a h1f y1c5 ff1d fsf fc5 sc0 ls1 ws1">于显示一<span class="_ _0"></span>个变量的内容。下<span class="_ _0"></span>面这个例子中<span class="_ _0"></span>一对小括号将<span class="_ _0"></span>函数的<span class="ff1e">参数</span>（<span class="ff1f">argument</span>）括起来，这表</div><div class="t m0 x2a h1f y1c6 ff1d fsf fc5 sc0 ls1 ws1">示将这些参数传入这个函数来调用它。</div><div class="t m0 x36 h27 y1c7 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[6]:<span class="_ _3"> </span><span class="fc9">print<span class="fc5">(<span class="ff2a fc11">&apos;<span class="ff22">first<span class="_ _3"> </span>value:</span>&apos;</span>,<span class="_ _3"> </span><span class="fcb">1</span>)</span></span></div><div class="t m0 x36 h27 y1c8 ff22 fsf fc5 sc0 ls1 ws1">first<span class="_ _3"> </span>value:<span class="_ _3"> </span>1</div><div class="t m0 x36 h27 y1c9 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[7]:<span class="_ _3"> </span><span class="fc9">print<span class="fc5">(<span class="ff2a fc11">&apos;<span class="ff22">second<span class="_ _3"> </span>value:</span>&apos;</span>,<span class="_ _3"> </span><span class="fcb">2</span>)</span></span></div><div class="t m0 x36 h27 y1ca ff22 fsf fc5 sc0 ls1 ws1">second<span class="_ _3"> </span>value:<span class="_ _3"> </span>2</div><div class="t m0 x1a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">有<span class="_ _0"></span>的函<span class="_ _0"></span>数<span class="_ _0"></span>可<span class="_ _0"></span>以<span class="_ _0"></span>没<span class="_ _0"></span>有参<span class="_ _0"></span>数，<span class="_ _0"></span>这<span class="_ _0"></span>时<span class="_ _0"></span>候<span class="_ _0"></span>也<span class="_ _0"></span>必<span class="_ _0"></span>须<span class="_ _0"></span>使<span class="_ _0"></span>用<span class="_ _0"></span>小括<span class="_ _0"></span>号<span class="_ _0"></span>来<span class="_ _0"></span>表<span class="_ _0"></span>示<span class="_ _0"></span>调<span class="_ _0"></span>用<span class="_ _0"></span>这<span class="_ _0"></span>个函<span class="_ _0"></span>数。<span class="_ _0"></span>这<span class="_ _0"></span>里<span class="_ _0"></span>有<span class="_ _0"></span>一<span class="_ _0"></span>个<span class="_ _0"></span>使</div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">用列表的<span class="_ _e"> </span><span class="ff22">sort<span class="_ _a"> </span></span>方法的例子。</div><a class="l" href="#pf1c" data-dest-detail='[28,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:339.784000px;bottom:473.588000px;width:5.455000px;height:6.870000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1c" data-dest-detail='[28,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:359.936000px;bottom:470.478000px;width:130.395000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf16" class="pf w3 h1b" data-page-no="16"><div class="pc pc16 w3 h1b"><img class="bi x2a y1cb w4 h33" alt="" src="bg16.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">3.7.<span class="_ _2c"> </span><span class="ff1e">完成并更进一步<span class="_ _54"> </span><span class="ff1f">13</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[8]:<span class="_ _3"> </span><span class="fc5">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[<span class="fcb">4</span>,<span class="fcb">2</span>,<span class="fcb">3</span>,<span class="fcb">1</span>]</span></div><div class="t m0 x46 h27 y137 ff22 fsf fc5 sc0 ls1 ws1">L<span class="fcb">.</span>sort()</div><div class="t m0 x46 h27 y138 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(L)</span></div><div class="t m0 x36 h27 y139 ff22 fsf fc5 sc0 ls1 ws1">[1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>4]</div><div class="t m0 x1a h1f y1cc ff22 fsf fc5 sc0 ls1 ws1">sort<span class="_ _e"> </span><span class="ff1d">之后的括号（</span>()<span class="ff1d">）表示函数被执行。即使不需要传入参数，括号也是必不可少的。</span></div><div class="t m0 x4b h25 y1cd ff1a fse fc5 sc0 ls1 ws1">旁注：关于<span class="_ _3b"> </span><span class="ff29">print()<span class="_ _10"> </span></span>的一点说明</div><div class="t m0 x4c h1f y1ce ff1d fsf fc5 sc0 ls1 ws1">在上面我们是用了<span class="_ _35"> </span><span class="ff22">print()<span class="_ _38"> </span></span>函数做例子，<span class="_ _41"></span><span class="ff22">print()<span class="_ _38"> </span><span class="ff1d">函数是<span class="_ _38"> </span><span class="ff1f">Python<span class="_ _35"> </span>2.<span class="ff25">x<span class="_ _38"> </span></span></span>和<span class="_ _35"> </span><span class="ff1f">Python<span class="_ _38"> </span>3.<span class="ff25">x<span class="_ _38"> </span></span></span>中</span></span></div><div class="t m0 x4b h1f y1cf ff1d fsf fc5 sc0 ls1 ws1">变化的一部分。在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span>2<span class="_ _e"> </span></span>里，<span class="ff22">print<span class="_ _a"> </span></span>表现得像一个表达式——你可以这样写：</div><div class="t m0 x37 h21 y1d0 ff2c fsf fcd sc0 ls1 ws1">#<span class="_ _3"> </span>Python<span class="_ _3"> </span>2<span class="_ _3"> </span><span class="ff1e">才能这么做！</span></div><div class="t m0 x37 h27 y1d1 ff22 fsf fcb sc0 ls1 ws1">&gt;&gt;<span class="_ _3"> </span><span class="fc5">print<span class="_ _3"> </span><span class="fce">&quot;first<span class="_ _3"> </span>value:&quot;</span>,<span class="_ _3"> </span><span class="fcc">1</span></span></div><div class="t m0 x37 h27 y1d2 ff22 fsf fc5 sc0 ls1 ws1">first<span class="_ _3"> </span>value:<span class="_ _3"> </span><span class="fcc">1</span></div><div class="t m0 x4c h1f y1d3 ff1d fsf fc5 sc0 ls1 ws1">由于各种原因，<span class="_ _34"></span>这门语言的开发者决定在<span class="_ _38"> </span><span class="ff1f">Python<span class="_ _e"> </span>3<span class="_ _e"> </span></span>中<span class="_ _38"> </span><span class="ff22">print()<span class="_ _e"> </span></span>应该成为一个函数，<span class="_ _34"></span>所</div><div class="t m0 x4b h1f y1d4 ff1d fsf fc5 sc0 ls1 ws1">以我们现在这么写：</div><div class="t m0 x37 h21 y1d5 ff2c fsf fcd sc0 ls1 ws1">#<span class="_ _3"> </span><span class="ff1e">仅<span class="_ _3"> </span></span>Python<span class="_ _3"> </span>3<span class="_ _3"> </span><span class="ff1e">支持！</span></div><div class="t m0 x37 h27 y1d6 ff22 fsf fcb sc0 ls1 ws1">&gt;&gt;&gt;<span class="_ _3"> </span><span class="fc5">print(<span class="fce">&quot;first<span class="_ _3"> </span>value:&quot;</span>,<span class="_ _3"> </span><span class="fcc">1</span>)</span></div><div class="t m0 x37 h27 y1d7 ff22 fsf fc5 sc0 ls1 ws1">first<span class="_ _3"> </span>value:<span class="_ _3"> </span><span class="fcc">1</span></div><div class="t m0 x4c h1f y1d8 ff1d fsf fc5 sc0 ls1 ws1">这是<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _e"> </span>2<span class="_ _e"> </span></span>和<span class="_ _e"> </span><span class="ff1f">3<span class="_ _e"> </span></span>中不向后兼容的语法中的一条。<span class="_ _5"></span>在撰写本书时，<span class="_ _5"></span>你通常会发现以两</div><div class="t m0 x4b h1f y1d9 ff1d fsf fc5 sc0 ls1 ws1">个版本的<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>编写的示例。并且，存在<span class="_ _a"> </span><span class="ff22">print<span class="_ _a"> </span></span>语句，而不是<span class="_ _a"> </span><span class="ff22">print()<span class="_ _e"> </span></span>函数通<span class="_ _0"></span>常是你正</div><div class="t m0 x4b h1f y1da ff1d fsf fc5 sc0 ls1 ws1">在查看的代码是<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span>2<span class="_ _e"> </span></span>代码的第一迹象之一。</div><div class="t m0 x2a h23 y1db ff19 fsd fc5 sc0 ls1 ws1">3.7<span class="_ _15"> </span><span class="ff1a">完成并更进一步</span></div><div class="t m0 x1a h1f y1dc ff1d fsf fc5 sc0 ls1 ws1">这<span class="_ _4a"></span>一<span class="_ _55"></span>章<span class="_ _4a"></span>是<span class="_ _55"> </span>对<span class="_ _2"> </span><span class="ff1f">Python<span class="_ _2"> </span></span>语<span class="_ _4a"></span>法<span class="_ _55"></span>基<span class="_ _4a"></span>本<span class="_ _55"> </span>特<span class="_ _4a"></span>征<span class="_ _55"> </span>的<span class="_ _4a"></span>一<span class="_ _55"> </span>个<span class="_ _4a"></span>很<span class="_ _55"> </span>简<span class="_ _4a"></span>单<span class="_ _55"> </span>的<span class="_ _4a"></span>探<span class="_ _55"> </span>索。<span class="_ _4a"></span>它<span class="_ _55"> </span>的<span class="_ _4a"></span>目<span class="_ _55"> </span>的<span class="_ _4a"></span>是<span class="_ _55"> </span>当<span class="_ _4a"></span>你<span class="_ _55"> </span>在<span class="_ _4a"></span>阅<span class="_ _55"> </span>读<span class="_ _4a"></span>后</div><div class="t m0 x2a h1f y1dd ff1d fsf fc5 sc0 ls1 ws1">面<span class="_ _4a"></span>的<span class="_ _4a"></span>代<span class="_ _4a"></span>码<span class="_ _4a"></span>时，<span class="_ _4a"></span>给<span class="_ _4a"></span>你<span class="_ _4a"></span>一<span class="_ _4a"></span>个<span class="_ _4a"></span>很<span class="_ _4a"></span>好<span class="_ _4a"></span>的<span class="_ _4a"></span>参<span class="_ _4a"></span>考<span class="_ _4a"></span>框<span class="_ _4a"></span>架。<span class="_ _4a"></span>我<span class="_ _4a"></span>们<span class="_ _4a"></span>几<span class="_ _4a"></span>次<span class="_ _4a"></span>提<span class="_ _4a"></span>到<span class="_ _4a"></span>了<span class="_ _4a"></span>“<span class="ff1f">Python<span class="_ _8"> </span></span>风<span class="_ _4a"></span>格<span class="_ _4a"></span>指<span class="_ _4a"></span>南”<span class="_ _9"></span>，<span class="_ _4a"></span>它<span class="_ _4a"></span>可<span class="_ _4a"></span>以</div><div class="t m0 x2a h1f y1de ff1d fsf fc5 sc0 ls1 ws1">帮<span class="_ _4a"></span>助<span class="_ _55"> </span>团<span class="_ _55"> </span>队<span class="_ _55"></span>以<span class="_ _4a"></span>一<span class="_ _55"> </span>致<span class="_ _55"> </span>的<span class="_ _55"></span>风<span class="_ _4a"></span>格<span class="_ _55"> </span>编<span class="_ _55"> </span>写<span class="_ _55"></span>代<span class="_ _4a"></span>码。<span class="ff1f">Python<span class="_ _3"> </span></span>中<span class="_ _4a"></span>最<span class="_ _4a"></span>广<span class="_ _55"> </span>泛<span class="_ _55"> </span>使<span class="_ _55"> </span>用<span class="_ _4a"></span>的<span class="_ _55"> </span>风<span class="_ _55"> </span>格<span class="_ _55"></span>指<span class="_ _4a"></span>南<span class="_ _55"> </span>称<span class="_ _55"> </span>为<span class="_ _2"> </span><span class="ff1f">PEP<span class="_ _2"> </span>8</span>，<span class="_ _55"> </span>可<span class="_ _55"> </span>以</div><div class="t m0 x2a h1f y1df ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _10"> </span><span class="ff22 fc7">https://www.python.org/dev/peps/pep-<span class="_ _0"></span>0008/</span>找<span class="_ _0"></span>到。<span class="_ _0"></span>当<span class="_ _0"></span>你<span class="_ _0"></span>开始<span class="_ _0"></span>编<span class="_ _0"></span>写<span class="_ _0"></span>更<span class="_ _0"></span>多<span class="_ _0"></span>的<span class="_ _10"> </span><span class="ff1f">Python<span class="_ _10"> </span></span>代<span class="_ _0"></span>码</div><div class="t m0 x2a h1f y1e0 ff1d fsf fc5 sc0 ls1 ws1">时，阅<span class="_ _0"></span>读一下<span class="_ _0"></span>这份代<span class="_ _0"></span>码指南<span class="_ _0"></span>是很有用<span class="_ _0"></span>的！风格<span class="_ _0"></span>指南中<span class="_ _0"></span>包含许<span class="_ _0"></span>多<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>大师的智<span class="_ _0"></span>慧，大多<span class="_ _0"></span>数建</div><div class="t m0 x2a h1f y1e1 ff1d fsf fc5 sc0 ls1 ws1">议不仅<span class="_ _0"></span>仅是简单<span class="_ _0"></span>的教条：它们<span class="_ _0"></span>是基于无数<span class="_ _0"></span>经验的建<span class="_ _0"></span>议所写成，可<span class="_ _0"></span>以帮助你<span class="_ _0"></span>们避免代码<span class="_ _0"></span>中一些微</div><div class="t m0 x2a h1f y1e2 ff1d fsf fc5 sc0 ls1 ws1">妙的错误和<span class="_ _e"> </span><span class="ff1f">bug</span>。</div><a class="l" href="https://www.python.org/dev/peps/pep-0008/"><div class="d m7" style="border-style:none;position:absolute;left:87.136000px;bottom:176.165000px;width:235.316000px;height:10.001000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf17" class="pf w3 h1b" data-page-no="17"><div class="pc pc17 w3 h1b"></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf18" class="pf w3 h1b" data-page-no="18"><div class="pc pc18 w3 h1b"><img class="bi x2a yd7 w4 h34" alt="" src="bg18.png"/><div class="t m0 x4c h1c y3f ff1a fsc fc5 sc0 ls1 ws1">第<span class="_ _7"> </span><span class="ff19">4<span class="_ _7"> </span></span>章<span class="_ _33"> </span>基础<span class="_ _7"> </span><span class="ff19">Python<span class="_ _7"> </span></span>语义：变量和对象</div><div class="t m0 x1a h1f y40 ff1d fsf fc5 sc0 ls1 ws1">本<span class="_ _0"></span>节将<span class="_ _0"></span>开始<span class="_ _0"></span>介绍<span class="_ _10"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>语<span class="_ _0"></span>言的<span class="_ _0"></span>基<span class="_ _0"></span>本<span class="ff1e">语义<span class="_ _0"></span></span>（<span class="ff1f">seman<span class="_ _4"></span>tics<span class="ff1d">）<span class="_ _42"></span>。与<span class="_ _0"></span>上<span class="_ _0"></span>一节<span class="_ _0"></span>所述<span class="_ _0"></span>的语法<span class="_ _0"></span>不<span class="_ _0"></span>同，语<span class="_ _0"></span>言</span></span></div><div class="t m0 x2a h1f y41 ff1d fsf fc5 sc0 ls1 ws1">的语义<span class="_ _0"></span>涉及语<span class="_ _0"></span>句的含<span class="_ _0"></span>义。正如<span class="_ _0"></span>我们对语<span class="_ _0"></span>法的讨<span class="_ _0"></span>论一样，<span class="_ _0"></span>在这里<span class="_ _0"></span>我们大<span class="_ _0"></span>致浏览<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中一<span class="_ _0"></span>些基</div><div class="t m0 x2a h1f y42 ff1d fsf fc5 sc0 ls1 ws1">本的语义结构，为你提供一个更好的参考框架，以了解以后章节的代码。</div><div class="t m0 x1a h1f y43 ff1d fsf fc5 sc0 ls1 ws1">本节<span class="_ _0"></span>将介<span class="_ _0"></span>绍<span class="ff1e">变量</span>（<span class="ff1f">v<span class="_ _4"></span>ariable<span class="ff1d">）和<span class="ff1e">对<span class="_ _0"></span>象</span>（</span>ob<span class="_ _0"></span>ject<span class="ff1d">）的语<span class="_ _0"></span>义，这是<span class="_ _0"></span>你在<span class="_ _a"> </span></span>Python<span class="_ _a"> </span><span class="ff1d">脚<span class="_ _0"></span>本中存<span class="_ _0"></span>储、引</span></span></div><div class="t m0 x2a h1f y44 ff1d fsf fc5 sc0 ls1 ws1">用和操作数据的主要方式。</div><div class="t m0 x2a h23 y1e3 ff19 fsd fc5 sc0 ls1 ws1">4.1<span class="_ _15"> </span><span class="ff1a">变量是指针</span></div><div class="t m0 x1a h1f y1e4 ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中想要为变量赋值易如反掌，只需要把一个变量名放到等号（<span class="ff22">=</span>）的左边就好。</div><div class="t m0 x36 h21 y1e5 ff2c fsf fcd sc0 ls1 ws1">#<span class="_ _3"> </span><span class="ff1e">把<span class="_ _3"> </span></span>4<span class="_ _3"> </span><span class="ff1e">赋给变量<span class="_ _3"> </span></span>x</div><div class="t m0 x36 h27 y1e6 ff22 fsf fc5 sc0 ls1 ws1">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fcc">4</span></span></div><div class="t m0 x1a h1f y1e7 ff1d fsf fc5 sc0 ls1 ws1">这可<span class="_ _0"></span>能看起<span class="_ _0"></span>来很直<span class="_ _0"></span>接，但如<span class="_ _0"></span>果你心<span class="_ _0"></span>中对这<span class="_ _0"></span>个操作<span class="_ _0"></span>建立了<span class="_ _0"></span>错误的<span class="_ _0"></span>印象，那<span class="_ _0"></span>么<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>的<span class="_ _0"></span>工作</div><div class="t m0 x2a h1f y1e8 ff1d fsf fc5 sc0 ls1 ws1">方式可能会令你感到困惑。我们将在这里简要介绍一下。</div><div class="t m0 x1a h1f y1e9 ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _0"></span>许<span class="_ _0"></span>多<span class="_ _0"></span>编<span class="_ _0"></span>程<span class="_ _0"></span>语言<span class="_ _0"></span>中，变<span class="_ _0"></span>量<span class="_ _0"></span>一<span class="_ _0"></span>般<span class="_ _0"></span>被<span class="_ _0"></span>认<span class="_ _0"></span>为<span class="_ _0"></span>是<span class="_ _0"></span>存<span class="_ _0"></span>放<span class="_ _0"></span>数据<span class="_ _0"></span>的<span class="_ _0"></span>容<span class="_ _0"></span>器<span class="_ _0"></span>或<span class="_ _0"></span>一<span class="_ _0"></span>个<span class="_ _0"></span>桶<span class="_ _0"></span>一<span class="_ _0"></span>样<span class="_ _0"></span>的东<span class="_ _0"></span>西。<span class="_ _0"></span>所<span class="_ _0"></span>以<span class="_ _0"></span>比<span class="_ _0"></span>如</div><div class="t m0 x2a h1f y1ea ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _e"> </span><span class="ff1f">C<span class="_ _a"> </span></span>中，当你写：</div><div class="t m0 x36 h21 y1eb ff2c fsf fcd sc0 ls1 ws1">//<span class="_ _3"> </span>C<span class="_ _3"> </span><span class="ff1e">代码</span></div><div class="t m0 x36 h27 y1ec ff22 fsf fc13 sc0 ls1 ws1">int<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span>=<span class="_ _3"> </span><span class="fcc">4</span>;</span></div><div class="t m0 x1a h1f y1ed ff1d fsf fc5 sc0 ls1 ws1">本质上，<span class="_ _40"></span>你定义了一个名为<span class="_ _38"> </span><span class="ff22">x<span class="_ _38"> </span></span>的<span class="_ _3f"></span>“内存桶”<span class="_ _39"></span>，<span class="_ _40"></span>并将值<span class="_ _38"> </span><span class="ff2d">4<span class="_ _38"> </span></span>放入其中。<span class="_ _40"></span>相比之下，<span class="_ _40"></span>在<span class="_ _38"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>中变</div><div class="t m0 x2a h1f y1ee ff1d fsf fc5 sc0 ls1 ws1">量并不是作为容器，而是作为一个<span class="ff1e">指针</span>（<span class="ff1f">p<span class="_ _0"></span>oin<span class="_ _4"></span>ter<span class="ff1d">）</span></span></div><div class="t m0 x4d h26 y1ef ff26 fs10 fc6 sc0 ls1 ws1">1</div><div class="t m0 x4e h1f y1ee ff1d fsf fc5 sc0 ls1 ws1">。所以在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中，当你写：</div><div class="t m0 x36 h27 y1f0 ff22 fsf fc5 sc0 ls1 ws1">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fcc">4</span></span></div><div class="t m0 x1a h1f y1f1 ff1d fsf fc5 sc0 ls1 ws1">你本质上定义一个名为<span class="_ _e"> </span><span class="ff22">x<span class="_ _a"> </span></span>的指针，指向一些包含值<span class="_ _e"> </span><span class="ff2d">4<span class="_ _a"> </span></span>的内存中的位置。注意这么做的一个</div><div class="t m0 x2a h1f y1f2 ff1d fsf fc5 sc0 ls1 ws1">后果：<span class="_ _0"></span>因为</div><div class="t m0 x28 h22 y1f3 ff1f fsf fc5 sc0 ls1 ws1">Python</div><div class="t m0 x43 h1f y1f2 ff1d fsf fc5 sc0 ls1 ws1">的变量<span class="_ _0"></span>只是<span class="_ _0"></span>指向各<span class="_ _0"></span>种对象，所<span class="_ _0"></span>以不<span class="_ _0"></span>需要“声<span class="_ _0"></span>明”变量，<span class="_ _0"></span>甚至不<span class="_ _0"></span>需要<span class="_ _0"></span>要求变</div><div class="t m0 x2a h1f y1f4 ff1d fsf fc5 sc0 ls1 ws1">量总是指向相同类型的对象！<span class="_ _4"></span>这是人们所说的<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>的<span class="ff1e">动态类型<span class="_ _4"></span><span class="ff1d">（<span class="ff1f">dynamically<span class="_ _e"> </span>typed</span>）<span class="_ _c"></span>：变量</span></span></div><div class="t m0 x2a h1f y1f5 ff1d fsf fc5 sc0 ls1 ws1">名称可以指向任何类型的对象。所以在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中，你可以这样做：</div><div class="t m0 x36 h21 y1f6 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[1]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>1<span class="_ _56"> </span><span class="ff2c fcf">#<span class="_ _3"> </span>x<span class="_ _3"> </span><span class="ff1e">是一个整数类型</span></span></span></span></div><div class="t m0 x46 h21 y1f7 ff22 fsf fc5 sc0 ls1 ws1">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">hello</span>&apos;<span class="_ _4f"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">现在<span class="_ _3"> </span></span>x<span class="_ _2"> </span><span class="ff1e">是一个字符串</span></span></span></span></div><div class="t m0 x46 h21 y1f8 ff22 fsf fc5 sc0 ls1 ws1">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[<span class="fcb">1</span>,<span class="_ _3"> </span><span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">3</span>]<span class="_ _49"> </span><span class="ff2c fcf">#<span class="_ _2"> </span><span class="ff1e">现在<span class="_ _3"> </span></span>x<span class="_ _3"> </span><span class="ff1e">是一个列表</span></span></div><div class="t m0 x37 h28 yf5 ff27 fs11 fc5 sc0 ls1 ws1">1</div><div class="t m0 x2f h29 yf6 ff1d fs12 fc5 sc0 ls1 ws1">译者<span class="_ _0"></span>注：<span class="ff28">Python<span class="_ _38"> </span></span>中<span class="_ _0"></span>并没<span class="_ _0"></span>有<span class="_ _38"> </span><span class="ff28">C<span class="_ _e"> </span></span>语言<span class="_ _0"></span>那样<span class="_ _0"></span>的指针类<span class="_ _0"></span>型，它<span class="_ _0"></span>表现得<span class="_ _0"></span>更像<span class="_ _e"> </span><span class="ff28">C++<span class="_ _e"> </span></span>或者<span class="_ _e"> </span><span class="ff28">Jav<span class="_ _5"></span>a<span class="_ _e"> </span><span class="ff1d">中<span class="ff1e">引用<span class="_ _0"></span></span>（</span>reference<span class="ff1d">）的<span class="_ _0"></span>概</span></span></div><div class="t m0 x2a h29 y7c ff1d fs12 fc5 sc0 ls1 ws1">念，后文中的指针一般是使用这里的含义。</div><div class="t m0 x4f h22 y5c ff1f fsf fc5 sc0 ls1 ws1">15</div><a class="l" href="#pf18" data-dest-detail='[24,"XYZ",88.59,98.3,null]'><div class="d m7" style="border-style:none;position:absolute;left:313.242000px;bottom:279.924000px;width:4.235000px;height:5.137000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf19" class="pf w3 h1b" data-page-no="19"><div class="pc pc19 w3 h1b"><img class="bi x2a y1f9 w4 h35" alt="" src="bg19.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">16<span class="_ _57"> </span><span class="ff24">4.<span class="_ _2c"> </span><span class="ff1e">基础<span class="_ _a"> </span></span>PYTHON<span class="_ _e"> </span><span class="ff1e">语义：变量和对象</span></span></div><div class="t m0 x1a h1f y7e ff1d fsf fc5 sc0 ls1 ws1">然而<span class="ff1e">静态类<span class="_ _0"></span>型</span>（<span class="ff1f">statically<span class="_ _e"> </span>typed</span>）语<span class="_ _0"></span>言的用户可能会<span class="_ _0"></span>想念类似于<span class="_ _a"> </span><span class="ff1f">C<span class="_ _e"> </span></span>语<span class="_ _0"></span>言中的通过声明<span class="_ _0"></span>保证</div><div class="t m0 x2a h1f yb3 ff1d fsf fc5 sc0 ls1 ws1">的类型安全性。</div><div class="t m0 x36 h27 y1fa ff22 fsf fc13 sc0 ls1 ws1">int<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span>=<span class="_ _3"> </span><span class="fcc">4</span>;</span></div><div class="t m0 x1a h1f y1fb ff1d fsf fc5 sc0 ls1 ws1">这<span class="_ _0"></span>种动<span class="_ _0"></span>态<span class="_ _0"></span>类<span class="_ _0"></span>型<span class="_ _0"></span>是<span class="_ _0"></span>使<span class="_ _10"> </span><span class="ff1f">Python<span class="_ _3b"> </span></span>能<span class="_ _0"></span>够<span class="_ _0"></span>快<span class="_ _0"></span>速<span class="_ _0"></span>编<span class="_ _0"></span>写<span class="_ _0"></span>并<span class="_ _0"></span>易<span class="_ _0"></span>于<span class="_ _0"></span>阅<span class="_ _0"></span>读<span class="_ _0"></span>的<span class="_ _0"></span>原<span class="_ _0"></span>因<span class="_ _0"></span>之<span class="_ _0"></span>一。<span class="_ _0"></span>你<span class="_ _0"></span>需<span class="_ _0"></span>要<span class="_ _f"></span>注<span class="_ _0"></span>意<span class="_ _0"></span>使<span class="_ _0"></span>用<span class="_ _0"></span>这<span class="_ _0"></span>种</div><div class="t m0 x50 h1f y1fc ff1d fsf fc5 sc0 ls1 ws1">“指针<span class="_ _0"></span>类型变量”的<span class="_ _0"></span>后果：如果<span class="_ _0"></span>我们有<span class="_ _0"></span>两个变量名<span class="_ _0"></span>指向相同<span class="_ _0"></span>的<span class="ff1e">可变</span>（<span class="ff1f">mutable</span>）对象，那么<span class="_ _0"></span>更改</div><div class="t m0 x2a h1f y1fd ff1d fsf fc5 sc0 ls1 ws1">其中一个也会改变另一个！例如，我们来创建和修改列表：</div><div class="t m0 x36 h27 y1fe ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[2]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[<span class="fcb">1</span>,<span class="_ _2"> </span><span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">3</span>]</span></div><div class="t m0 x46 h27 y1ff ff22 fsf fc5 sc0 ls1 ws1">y<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>x</div><div class="t m0 x1a h1f y200 ff1d fsf fc5 sc0 ls1 ws1">我们创建的两个变量<span class="_ _e"> </span><span class="ff22">x<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff22">y<span class="_ _a"> </span></span>指向了同一个对象。因此，<span class="_ _4"></span>如果我们通过其中一个变量名来修</div><div class="t m0 x2a h1f y201 ff1d fsf fc5 sc0 ls1 ws1">改这个列表，我们会看到“另一个”列表也被同时改变了。</div><div class="t m0 x36 h27 y202 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[3]:<span class="_ _3"> </span><span class="fc9">print<span class="fc5">(y)</span></span></div><div class="t m0 x36 h27 y203 ff22 fsf fc5 sc0 ls1 ws1">[1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3]</div><div class="t m0 x36 h21 y204 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[4]:<span class="_ _3"> </span><span class="fc5">x<span class="fcb">.</span>append(<span class="fcb">4</span>)<span class="_ _13"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">把<span class="_ _3"> </span></span>4<span class="_ _3"> </span><span class="ff1e">加到<span class="_ _3"> </span></span>x<span class="_ _3"> </span><span class="ff1e">指向的列表</span></span></span></div><div class="t m0 x46 h21 y205 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(y)<span class="_ _4f"> </span><span class="ff2c fcf">#<span class="_ _3"> </span>y<span class="_ _3"> </span><span class="ff1e">指向的列表也被改变了</span></span></span></div><div class="t m0 x36 h27 y206 ff22 fsf fc5 sc0 ls1 ws1">[1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>4]</div><div class="t m0 x1a h1f y207 ff1d fsf fc5 sc0 ls1 ws1">如果你错误地将变量视为包含数据的<span class="_ _4"></span>“桶”<span class="_ _39"></span>，那么这种行为可能会令人困惑。<span class="_ _5"></span>但是，如果你</div><div class="t m0 x2a h1f y208 ff1d fsf fc5 sc0 ls1 ws1">将变量正确地视为指向对象的指针，那么这种行为是有道理的。</div><div class="t m0 x1a h1f y209 ff1d fsf fc5 sc0 ls1 ws1">如果我们用<span class="_ _e"> </span><span class="ff22">=<span class="_ _e"> </span></span>把另外一个值赋给<span class="_ _e"> </span><span class="ff22">x</span>，<span class="_ _9"></span>就不会影响到<span class="_ _e"> </span><span class="ff22">y<span class="_ _e"> </span></span>的值——赋值是改变<span class="ff1a">变量指向的对象</span>：</div><div class="t m0 x36 h27 y20a ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[5]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">something<span class="_ _2"> </span>else</span>&apos;</span></span></span></div><div class="t m0 x46 h21 y20b ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(y)<span class="_ _44"> </span><span class="ff2c fcf">#<span class="_ _2"> </span>y<span class="_ _3"> </span><span class="ff1e">没有被改变</span></span></span></div><div class="t m0 x36 h27 y20c ff22 fsf fc5 sc0 ls1 ws1">[1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>4]</div><div class="t m0 x1a h1f y20d ff1d fsf fc5 sc0 ls1 ws1">再次强调，把<span class="_ _e"> </span><span class="ff22">x<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff22">y<span class="_ _a"> </span></span>看作指针，把<span class="_ _e"> </span><span class="ff22">=<span class="_ _a"> </span></span>看做改变变量名指向的东西的操作。</div><div class="t m0 x1a h1f y20e ff1d fsf fc5 sc0 ls1 ws1">你可能会想知道这个指针的想法是否使得<span class="_ _38"> </span><span class="ff1f">Python<span class="_ _38"> </span></span>中的算术运算难以追踪，<span class="_ _3f"></span>但是<span class="_ _38"> </span><span class="ff1f">Python<span class="_ _38"> </span></span>的</div><div class="t m0 x2a h1f y20f ff1d fsf fc5 sc0 ls1 ws1">设计不存在这个问题。<span class="_ _3f"></span>数字、<span class="_ _1"></span>字符串和其他<span class="ff1e">简单类型<span class="_ _5"></span><span class="ff1d">（<span class="ff1f">simple<span class="_ _e"> </span>t<span class="_ _4"></span>yp<span class="_ _0"></span>e<span class="ff1d">）<span class="_ _5"></span>是<span class="ff1e">不可变<span class="_ _5"></span><span class="ff1d">（<span class="ff1f">imm<span class="_ _4"></span>utable<span class="ff1d">）<span class="_ _5"></span>的：</span></span></span></span></span></span></span></span></div><div class="t m0 x2a h1f y210 ff1d fsf fc5 sc0 ls1 ws1">你不能更改它的值，你只能更改变量<span class="ff1a">指向</span>的值。所以执行如下操作是完全安全的：</div><div class="t m0 x36 h27 y1b1 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[6]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>10</span></span></div><div class="t m0 x46 h27 y1b2 ff22 fsf fc5 sc0 ls1 ws1">y<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>x</div><div class="t m0 x46 h21 yd4 ff22 fsf fc5 sc0 ls1 ws1">x<span class="_ _3"> </span><span class="fcb">+=<span class="_ _3"> </span>5<span class="_ _13"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">把<span class="_ _3"> </span></span>x<span class="_ _3"> </span><span class="ff1e">的值加上<span class="_ _3"> </span></span>5<span class="_ _3"> </span><span class="ff1e">再赋给<span class="_ _3"> </span></span>x</span></span></div><div class="t m0 x46 h27 yd5 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;x<span class="_ _3"> </span>=&quot;</span>,<span class="_ _3"> </span>x)</span></div><div class="t m0 x46 h27 yd6 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;y<span class="_ _3"> </span>=&quot;</span>,<span class="_ _3"> </span>y)</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf1a" class="pf w3 h1b" data-page-no="1a"><div class="pc pc1a w3 h1b"><img class="bi x2a y211 w4 h36" alt="" src="bg1a.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">4.2.<span class="_ _2c"> </span><span class="ff1e">一切皆对象<span class="_ _58"> </span><span class="ff1f">17</span></span></div><div class="t m0 x36 h27 y212 ff22 fsf fc5 sc0 ls1 ws1">x<span class="_ _3"> </span>=<span class="_ _3"> </span>15</div><div class="t m0 x36 h27 y213 ff22 fsf fc5 sc0 ls1 ws1">y<span class="_ _3"> </span>=<span class="_ _3"> </span>10</div><div class="t m0 x1a h1f y214 ff1d fsf fc5 sc0 ls1 ws1">当我们执行<span class="_ _e"> </span><span class="ff22">x<span class="_ _3"> </span>+=<span class="_ _3"> </span>5<span class="_ _e"> </span></span>时<span class="ff1f">,<span class="_ _e"> </span></span>我们不会改变值为<span class="_ _a"> </span><span class="ff22">10<span class="_ _38"> </span></span>的那个被<span class="_ _a"> </span><span class="ff22">x<span class="_ _38"> </span></span>指向的对象；<span class="_ _4"></span>我们会让<span class="_ _e"> </span><span class="ff22">x<span class="_ _e"> </span></span>重新指</div><div class="t m0 x2a h1f y215 ff1d fsf fc5 sc0 ls1 ws1">向一个值为<span class="_ _e"> </span><span class="ff22">15<span class="_ _a"> </span></span>的新的对象。因此，<span class="_ _e"> </span><span class="ff22">y<span class="_ _a"> </span></span>的值不会受到这个操作的影响。</div><div class="t m0 x2a h23 y216 ff19 fsd fc5 sc0 ls1 ws1">4.2<span class="_ _15"> </span><span class="ff1a">一切皆对象</span></div><div class="t m0 x1a h1f y217 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _e"> </span><span class="ff1d">是一门<span class="ff1e">面向对象</span>（</span>ob<span class="_ _0"></span>ject-oriented<span class="_ _4"></span><span class="ff1d">）的编程语言，所以<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>中的一切都是对象。</span></div><div class="t m0 x1a h1f y218 ff1d fsf fc5 sc0 ls1 ws1">我们来<span class="_ _0"></span>看看这是<span class="_ _0"></span>什么意<span class="_ _0"></span>思。之前我<span class="_ _0"></span>们看到变量<span class="_ _0"></span>是简单的指<span class="_ _0"></span>针，变量名本<span class="_ _0"></span>身没有附<span class="_ _0"></span>加的类型</div><div class="t m0 x2a h1f y219 ff1d fsf fc5 sc0 ls1 ws1">信息。<span class="_ _0"></span>这导致<span class="_ _0"></span>一些人<span class="_ _0"></span>错误地<span class="_ _0"></span>声称<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>是一种<span class="_ _0"></span>无类型<span class="_ _0"></span>的语言。<span class="_ _0"></span>但事实并<span class="_ _0"></span>非如此！<span class="_ _0"></span>考虑以<span class="_ _0"></span>下这</div><div class="t m0 x2a h1f y21a ff1d fsf fc5 sc0 ls1 ws1">个例子：</div><div class="t m0 x36 h27 y21b ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[7]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>4</span></span></div><div class="t m0 x46 h27 y21c ff22 fsf fc9 sc0 ls1 ws1">type<span class="fc5">(x)</span></div><div class="t m0 x36 h27 y21d ff22 fsf fc14 sc0 ls1 ws1">Out[7]:<span class="_ _3"> </span><span class="fc5">int</span></div><div class="t m0 x36 h27 y21e ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[8]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">hello</span>&apos;</span></span></span></div><div class="t m0 x46 h27 y21f ff22 fsf fc9 sc0 ls1 ws1">type<span class="fc5">(x)</span></div><div class="t m0 x36 h27 y220 ff22 fsf fc14 sc0 ls1 ws1">Out[8]:<span class="_ _3"> </span><span class="fc5">str</span></div><div class="t m0 x36 h27 y221 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[9]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>3.14159</span></span></div><div class="t m0 x46 h27 y222 ff22 fsf fc9 sc0 ls1 ws1">type<span class="fc5">(x)</span></div><div class="t m0 x36 h27 y223 ff22 fsf fc14 sc0 ls1 ws1">Out[9]:<span class="_ _3"> </span><span class="fc5">float</span></div><div class="t m0 x1a h1f y224 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _e"> </span><span class="ff1d">有类型，然而这些类型不是链接到变量名，而是与对象<span class="ff1a">本身相连</span>。</span></div><div class="t m0 x1a h1f y225 ff1d fsf fc5 sc0 ls1 ws1">在面向对象<span class="_ _0"></span>的编程语言（如<span class="_ _a"> </span><span class="ff1f">Python</span>）中，<span class="ff1e">对象</span>（<span class="ff1f">ob<span class="_ _0"></span>ject</span>）是一个包<span class="_ _0"></span>含数据以及关联<span class="_ _0"></span>的<span class="ff1e">元数</span></div><div class="t m0 x2a h1f y226 ff1e fsf fc5 sc0 ls1 ws1">据<span class="ff1d">（<span class="ff1f">metadata</span>）<span class="_ _0"></span>和功能的<span class="_ _0"></span>实体。在<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中一<span class="_ _0"></span>切都是对<span class="_ _0"></span>象，这意<span class="_ _0"></span>味着每个<span class="_ _0"></span>实体都<span class="_ _0"></span>有一些元<span class="_ _0"></span>数</span></div><div class="t m0 x2a h1f y227 ff1d fsf fc5 sc0 ls1 ws1">据（称<span class="_ _0"></span>为<span class="ff1e">属性<span class="_ _0"></span></span>（<span class="ff1f">attribute</span>）<span class="_ _45"></span>）和<span class="_ _0"></span>关联<span class="_ _0"></span>的功能<span class="_ _0"></span>（称为<span class="ff1e">方<span class="_ _0"></span>法</span>（<span class="ff1f">metho<span class="_ _0"></span>d</span>）<span class="_ _45"></span>）<span class="_ _45"></span>。<span class="_ _0"></span>这些属<span class="_ _0"></span>性和方法<span class="_ _0"></span>通过<span class="_ _0"></span>点号</div><div class="t m0 x50 h1f y228 ff1d fsf fc5 sc0 ls1 ws1">（<span class="ff22">.</span>）访问。</div><div class="t m0 x1a h1f y229 ff1d fsf fc5 sc0 ls1 ws1">例如，<span class="_ _0"></span>在我<span class="_ _0"></span>们看到列<span class="_ _0"></span>表有<span class="_ _0"></span>一个<span class="_ _a"> </span><span class="ff22">append<span class="_ _a"> </span></span>方法<span class="_ _0"></span>之前，<span class="_ _0"></span>它将<span class="_ _0"></span>一个元<span class="_ _0"></span>素添<span class="_ _0"></span>加到列表<span class="_ _0"></span>中，并<span class="_ _0"></span>通过点</div><div class="t m0 x2a h1f y22a ff1d fsf fc5 sc0 ls1 ws1">号访问：</div><div class="t m0 x36 h27 y22b ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[10]:<span class="_ _3"> </span><span class="fc5">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[<span class="fcb">1</span>,<span class="_ _2"> </span><span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">3</span>]</span></div><div class="t m0 x51 h27 y22c ff22 fsf fc5 sc0 ls1 ws1">L<span class="fcb">.</span>append(<span class="fcb">100</span>)</div><div class="t m0 x51 h27 y22d ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(L)</span></div><div class="t m0 x36 h27 y22e ff22 fsf fc5 sc0 ls1 ws1">[1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>100]</div><div class="t m0 x1a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">可能你一般会认为复合对象<span class="_ _5"></span>（如列表）<span class="_ _5"></span>具有属性和方法，<span class="_ _1"></span>但令人意外的是在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _38"> </span></span>中，<span class="_ _1"></span>即</div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">使是简单类型也附加了属性和方法。</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf1b" class="pf w3 h1b" data-page-no="1b"><div class="pc pc1b w3 h1b"><img class="bi x2a y22f w4 h37" alt="" src="bg1b.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">18<span class="_ _57"> </span><span class="ff24">4.<span class="_ _2c"> </span><span class="ff1e">基础<span class="_ _a"> </span></span>PYTHON<span class="_ _e"> </span><span class="ff1e">语义：变量和对象</span></span></div><div class="t m0 x1a h1f y7e ff1d fsf fc5 sc0 ls1 ws1">比<span class="_ _0"></span>如，数<span class="_ _0"></span>值类<span class="_ _0"></span>型<span class="_ _0"></span>拥有<span class="_ _10"> </span><span class="ff22">real<span class="_ _a"> </span></span>和<span class="_ _10"> </span><span class="ff22">imag<span class="_ _a"> </span></span>属<span class="_ _0"></span>性，保<span class="_ _0"></span>存<span class="_ _0"></span>了这<span class="_ _0"></span>个<span class="_ _0"></span>值的实<span class="_ _0"></span>部和虚<span class="_ _0"></span>部<span class="_ _0"></span>（如果<span class="_ _0"></span>把<span class="_ _0"></span>它看<span class="_ _0"></span>成一</div><div class="t m0 x2a h1f yb3 ff1d fsf fc5 sc0 ls1 ws1">个复数）<span class="_ _39"></span>。</div><div class="t m0 x36 h27 y230 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[11]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>4.5</span></span></div><div class="t m0 x51 h27 y231 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(x<span class="fcb">.</span>real,<span class="_ _3"> </span><span class="fc11">&quot;+&quot;</span>,<span class="_ _3"> </span>x<span class="fcb">.</span>imag,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">i</span>&apos;</span>)</span></div><div class="t m0 x36 h27 y232 ff22 fsf fc5 sc0 ls1 ws1">4.5<span class="_ _3"> </span>+<span class="_ _3"> </span>0.0<span class="_ _3"> </span>i</div><div class="t m0 x1a h1f y233 ff1d fsf fc5 sc0 ls1 ws1">方<span class="_ _f"></span>法<span class="_ _f"></span>和属<span class="_ _4a"></span>性<span class="_ _f"></span>类<span class="_ _f"></span>似，<span class="_ _4a"></span>不<span class="_ _f"></span>过<span class="_ _f"></span>方<span class="_ _4a"></span>法<span class="_ _f"></span>是<span class="_ _4a"></span>使<span class="_ _f"></span>用<span class="_ _f"></span>一<span class="_ _4a"></span>对<span class="_ _f"></span>小<span class="_ _f"></span>括<span class="_ _4a"></span>号<span class="_ _f"></span>来<span class="_ _f"></span>调<span class="_ _4a"></span>用<span class="_ _f"></span>的函<span class="_ _f"></span>数。<span class="_ _4a"></span>例<span class="_ _f"></span>如，浮<span class="_ _4a"></span>点<span class="_ _f"></span>数<span class="_ _f"></span>有<span class="_ _4a"></span>一<span class="_ _f"></span>个<span class="_ _f"></span>叫</div><div class="t m0 x2a h1f y234 ff1d fsf fc5 sc0 ls1 ws1">做<span class="_ _e"> </span><span class="ff22">is_integer<span class="_ _a"> </span></span>的方法来检查这个值是否是一个整数：</div><div class="t m0 x36 h27 y235 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[12]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>4.5</span></span></div><div class="t m0 x51 h27 y236 ff22 fsf fc5 sc0 ls1 ws1">x<span class="fcb">.</span>is_integer()</div><div class="t m0 x36 h27 y237 ff22 fsf fc14 sc0 ls1 ws1">Out[12]:<span class="_ _3"> </span><span class="fc5">False</span></div><div class="t m0 x36 h27 y238 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[13]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>4.0</span></span></div><div class="t m0 x51 h27 y239 ff22 fsf fc5 sc0 ls1 ws1">x<span class="fcb">.</span>is_integer()</div><div class="t m0 x36 h27 y23a ff22 fsf fc14 sc0 ls1 ws1">Out[13]:<span class="_ _3"> </span><span class="fc5">True</span></div><div class="t m0 x1a h1f y23b ff1d fsf fc5 sc0 ls1 ws1">当我<span class="_ _0"></span>们说<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中的<span class="_ _0"></span>所有东<span class="_ _0"></span>西都<span class="_ _0"></span>是一个对<span class="_ _0"></span>象时，我<span class="_ _0"></span>们的意<span class="_ _0"></span>思是<span class="_ _0"></span><span class="ff1a">一切都<span class="_ _0"></span>是一个对<span class="_ _0"></span>象</span>——即</div><div class="t m0 x2a h1f y23c ff1d fsf fc5 sc0 ls1 ws1">使是对象的属性和方法本身就是自己的一个有<span class="_ _e"> </span><span class="ff22">type<span class="_ _a"> </span></span>信息的对象。</div><div class="t m0 x36 h27 y23d ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[14]:<span class="_ _3"> </span><span class="fc9">type<span class="fc5">(x<span class="fcb">.</span>is_integer)</span></span></div><div class="t m0 x36 h27 y23e ff22 fsf fc14 sc0 ls1 ws1">Out[14]:<span class="_ _3"> </span><span class="fc5">builtin_function_or_method</span></div><div class="t m0 x1a h1f y23f ff1d fsf fc5 sc0 ls1 ws1">我们会发现<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>的一切皆对象的设计带来了一些非常方便的语言结构。</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf1c" class="pf w3 h1b" data-page-no="1c"><div class="pc pc1c w3 h1b"><img class="bi x2a y7c w4 h38" alt="" src="bg1c.png"/><div class="t m0 x52 h1c y3f ff1a fsc fc5 sc0 ls1 ws1">第<span class="_ _7"> </span><span class="ff19">5<span class="_ _7"> </span></span>章<span class="_ _33"> </span>基础<span class="_ _7"> </span><span class="ff19">Python<span class="_ _7"> </span></span>语法：运算符</div><div class="t m0 x1a h1f y240 ff1d fsf fc5 sc0 ls1 ws1">在之<span class="_ _0"></span>前的章<span class="_ _0"></span>节中我<span class="_ _0"></span>们大致<span class="_ _0"></span>了解了<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>语<span class="_ _0"></span>法中关<span class="_ _0"></span>于变量和对<span class="_ _0"></span>象的知<span class="_ _0"></span>识。本章<span class="_ _0"></span>起我们<span class="_ _0"></span>将继</div><div class="t m0 x2a h1f y241 ff1d fsf fc5 sc0 ls1 ws1">续深入<span class="_ _0"></span>了解<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>语法<span class="_ _0"></span>中不同的<span class="ff1e">运算符<span class="_ _0"></span></span>（<span class="ff1f">operator</span>）<span class="_ _d"></span>。本<span class="_ _0"></span>章结束之时，<span class="_ _0"></span>你将掌握一些<span class="_ _0"></span>基本的工</div><div class="t m0 x2a h1f y242 ff1d fsf fc5 sc0 ls1 ws1">具来比较和操作<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中的数据。</div><div class="t m0 x2a h23 y243 ff19 fsd fc5 sc0 ls1 ws1">5.1<span class="_ _15"> </span><span class="ff1a">算术运算符</span></div><div class="t m0 x1a h1f y244 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _a"> </span><span class="ff1d">实现了<span class="_ _a"> </span></span>7<span class="_ _a"> </span><span class="ff1d">种基础<span class="ff1e">二<span class="_ _0"></span>元算术运算<span class="_ _0"></span>符</span>（</span>binary<span class="_ _a"> </span>arithmetic<span class="_ _a"> </span>operator<span class="ff1d">）<span class="_ _d"></span>，其<span class="_ _0"></span>中的<span class="_ _a"> </span><span class="ff1f">2<span class="_ _a"> </span></span>种可以</span></div><div class="t m0 x2a h1f y245 ff1d fsf fc5 sc0 ls1 ws1">同时被用作<span class="ff1e">一元运算符</span>（<span class="ff1f">unary<span class="_ _e"> </span>op<span class="_ _0"></span>erator</span>）<span class="_ _39"></span>。下表总结了这<span class="_ _a"> </span><span class="ff1f">7<span class="_ _e"> </span></span>种运算符：</div><div class="t m0 x53 h20 y246 ff1a fsf fc5 sc0 ls1 ws1">运算符<span class="_ _3c"> </span>名称<span class="_ _59"> </span>描述</div><div class="t m0 x53 h1f y247 ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>+<span class="_ _3"> </span>b<span class="_ _5a"> </span><span class="ff1d">加<span class="_ _5b"> </span></span>a<span class="_ _e"> </span><span class="ff1d">与<span class="_ _a"> </span></span>b<span class="_ _e"> </span><span class="ff1d">求和</span></div><div class="t m0 x53 h1f y248 ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>-<span class="_ _3"> </span>b<span class="_ _5a"> </span><span class="ff1d">减<span class="_ _5b"> </span></span>a<span class="_ _e"> </span><span class="ff1d">与<span class="_ _a"> </span></span>b<span class="_ _e"> </span><span class="ff1d">求差</span></div><div class="t m0 x53 h1f y249 ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>*<span class="_ _3"> </span>b<span class="_ _5a"> </span><span class="ff1d">乘<span class="_ _5b"> </span></span>a<span class="_ _e"> </span><span class="ff1d">与<span class="_ _a"> </span></span>b<span class="_ _e"> </span><span class="ff1d">求积</span></div><div class="t m0 x53 h1f y24a ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>/<span class="_ _3"> </span>b<span class="_ _5a"> </span><span class="ff1d">真除<span class="_ _59"> </span></span>a<span class="_ _e"> </span><span class="ff1d">与<span class="_ _a"> </span></span>b<span class="_ _e"> </span><span class="ff1d">求商</span></div><div class="t m0 x53 h1f y24b ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>//<span class="_ _3"> </span>b<span class="_ _44"> </span><span class="ff1d">向下整除<span class="_ _5c"> </span></span>a<span class="_ _e"> </span><span class="ff1d">与<span class="_ _a"> </span></span>b<span class="_ _e"> </span><span class="ff1d">求商，去掉小数部分</span></div><div class="t m0 x53 h1f y24c ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>%<span class="_ _3"> </span>b<span class="_ _5a"> </span><span class="ff1d">模<span class="_ _5b"> </span></span>a<span class="_ _e"> </span><span class="ff1d">与<span class="_ _a"> </span></span>b<span class="_ _e"> </span><span class="ff1d">取模</span></div><div class="t m0 x53 h1f y24d ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>**<span class="_ _3"> </span>b<span class="_ _44"> </span><span class="ff1d">乘方<span class="_ _59"> </span></span>a<span class="_ _a"> </span><span class="ff1d">的<span class="_ _e"> </span></span>b<span class="_ _a"> </span><span class="ff1d">次方</span></div><div class="t m0 x53 h1f y24e ff22 fsf fc5 sc0 ls1 ws1">-a<span class="_ _5d"> </span><span class="ff1d">取反<span class="_ _59"> </span></span>a<span class="_ _e"> </span><span class="ff1d">符号取反</span></div><div class="t m0 x53 h1f y24f ff22 fsf fc5 sc0 ls1 ws1">+a<span class="_ _5d"> </span><span class="ff1d">单目加<span class="_ _52"> </span></span>a<span class="_ _e"> </span><span class="ff1d">不变（极少使用）</span></div><div class="t m0 x1a h1f y250 ff1d fsf fc5 sc0 ls1 ws1">这些运算<span class="_ _0"></span>符可以直<span class="_ _0"></span>接按照直<span class="_ _0"></span>觉使用并组<span class="_ _0"></span>合，并且按<span class="_ _0"></span>照标准规<span class="_ _0"></span>范添加括号<span class="_ _0"></span>来规定计<span class="_ _0"></span>算的优先</div><div class="t m0 x2a h1f y251 ff1d fsf fc5 sc0 ls1 ws1">级。如：</div><div class="t m0 x36 h21 y252 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[1]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">加、减、乘</span></span></div><div class="t m0 x46 h27 y253 ff22 fsf fc5 sc0 ls1 ws1">(<span class="fcb">4<span class="_ _3"> </span>+<span class="_ _3"> </span>8</span>)<span class="_ _3"> </span><span class="fcb">*<span class="_ _3"> </span></span>(<span class="fcb">6.5<span class="_ _2"> </span>-<span class="_ _3"> </span>3</span>)</div><div class="t m0 x36 h27 y254 ff22 fsf fc14 sc0 ls1 ws1">Out[1]:<span class="_ _3"> </span><span class="fc5">42.0</span></div><div class="t m0 x1a h1f y255 ff1e fsf fc5 sc0 ls1 ws1">向下整除<span class="ff1d">（<span class="ff1f">ﬂo<span class="_ _0"></span>or<span class="_ _e"> </span>division</span>）的结果是</span>真除<span class="ff1d">（<span class="ff1f">true<span class="_ _a"> </span>division</span>）后去掉小数部分：</span></div><div class="t m0 x36 h21 y256 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[2]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">真除</span></span></div><div class="t m0 x46 h27 y153 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fcb">11<span class="_ _3"> </span>/<span class="_ _3"> </span>2</span>)</span></div><div class="t m0 x36 h27 y155 ff22 fsf fc5 sc0 ls1 ws1">5.5</div><div class="t m0 x4f h22 y5c ff1f fsf fc5 sc0 ls1 ws1">19</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf1d" class="pf w3 h1b" data-page-no="1d"><div class="pc pc1d w3 h1b"><img class="bi x2a y7c w4 h2c" alt="" src="bg1d.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">20<span class="_ _5e"> </span><span class="ff24">5.<span class="_ _2c"> </span><span class="ff1e">基础<span class="_ _a"> </span></span>PYTHON<span class="_ _e"> </span><span class="ff1e">语法：运算符</span></span></div><div class="t m0 x36 h21 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[3]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">向下整除</span></span></div><div class="t m0 x46 h27 y137 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fcb">11<span class="_ _3"> </span>//<span class="_ _3"> </span>2</span>)</span></div><div class="t m0 x36 h27 y257 ff22 fsf fc5 sc0 ls1 ws1">5</div><div class="t m0 x1a h1f y258 ff1d fsf fc5 sc0 ls1 ws1">向下整除是在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span>3<span class="_ _e"> </span></span>中添加的新运算符。你应当意识到在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _e"> </span>2<span class="_ _a"> </span></span>中标准除法运算符</div><div class="t m0 x50 h1f y1cc ff1d fsf fc5 sc0 ls1 ws1">（<span class="ff22">/</span>）对于整数来说执行的是向下整除，而对浮点数来说执行的是真除。</div><div class="t m0 x1a h1f y259 ff1d fsf fc5 sc0 ls1 ws1">最后，<span class="_ _5"></span>我将提到<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _e"> </span>3.5<span class="_ _a"> </span></span>中添加的第<span class="_ _38"> </span><span class="ff1f">8<span class="_ _a"> </span></span>个算术运算符：<span class="_ _9"></span><span class="ff22">a<span class="_ _3"> </span>@<span class="_ _3"> </span>b<span class="ff1d">。<span class="_ _4"></span>这个运算符对<span class="_ _e"> </span><span class="ff22">a<span class="_ _e"> </span></span>和<span class="_ _e"> </span><span class="ff22">b<span class="_ _e"> </span></span>执</span></span></div><div class="t m0 x2a h1f y25a ff1d fsf fc5 sc0 ls1 ws1">行<span class="ff1e">矩阵乘法</span>（<span class="ff1f">matrix<span class="_ _e"> </span>pro<span class="_ _0"></span>duct</span>）<span class="_ _39"></span>，用于许多<span class="ff1e">线性代数</span>（<span class="ff1f">linear<span class="_ _a"> </span>algebra</span>）的扩展库。</div><div class="t m0 x2a h23 y25b ff19 fsd fc5 sc0 ls1 ws1">5.2<span class="_ _15"> </span><span class="ff1a">位运算符</span></div><div class="t m0 x1a h1f y25c ff1d fsf fc5 sc0 ls1 ws1">除<span class="_ _4a"></span>了<span class="_ _55"> </span>基<span class="_ _55"> </span>本<span class="_ _4a"></span>的算<span class="_ _55"> </span>术<span class="_ _55"> </span>运<span class="_ _4a"></span>算<span class="_ _55"> </span>符<span class="_ _55"> </span>外，<span class="ff1f">Python<span class="_ _2"> </span></span>还<span class="_ _55"> </span>提<span class="_ _4a"></span>供<span class="_ _55"> </span>了<span class="_ _55"> </span>对整<span class="_ _4a"></span>数<span class="_ _55"> </span>进<span class="_ _55"> </span>行位<span class="_ _4a"></span>运<span class="_ _55"> </span>算<span class="_ _55"> </span>的<span class="ff1e">位<span class="_ _55"></span>运<span class="_ _4a"></span>算<span class="_ _55"> </span>符<span class="_ _55"></span></span>（<span class="ff1f">bit<span class="_ _4"></span>wise</span></div><div class="t m0 x2a h1f y25d ff1f fsf fc5 sc0 ls1 ws1">op<span class="_ _0"></span>erator<span class="ff1d">）<span class="_ _39"></span>。相<span class="_ _0"></span>比基本运算符，这些运算符<span class="_ _0"></span>更少被使用，但是知道它<span class="_ _0"></span>们的存在是有用的。下<span class="_ _0"></span>表总</span></div><div class="t m0 x2a h1f y25e ff1d fsf fc5 sc0 ls1 ws1">结了<span class="_ _e"> </span><span class="ff1f">6<span class="_ _a"> </span></span>个位运算符：</div><div class="t m0 x54 h20 y25f ff1a fsf fc5 sc0 ls1 ws1">运算符<span class="_ _3c"> </span>名称<span class="_ _59"> </span>描述</div><div class="t m0 x54 h1f y260 ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>&amp;<span class="_ _3"> </span>b<span class="_ _5a"> </span><span class="ff1d">按位与<span class="_ _52"> </span></span>a<span class="_ _e"> </span><span class="ff1d">与<span class="_ _a"> </span></span>b<span class="_ _e"> </span><span class="ff1d">全为<span class="_ _a"> </span></span>1<span class="_ _e"> </span><span class="ff1d">时为<span class="_ _a"> </span></span>1<span class="ff1d">，否则为<span class="_ _e"> </span></span>0</div><div class="t m0 x54 h1f y261 ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>|<span class="_ _3"> </span>b<span class="_ _5a"> </span><span class="ff1d">按位或<span class="_ _52"> </span></span>a<span class="_ _e"> </span><span class="ff1d">与<span class="_ _a"> </span></span>b<span class="_ _e"> </span><span class="ff1d">全为<span class="_ _a"> </span></span>0<span class="_ _e"> </span><span class="ff1d">时为<span class="_ _a"> </span></span>0<span class="ff1d">，否则为<span class="_ _e"> </span></span>1</div><div class="t m0 x54 h1f y262 ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>ˆ<span class="_ _3"> </span>b<span class="_ _5a"> </span><span class="ff1d">按位异或<span class="_ _5c"> </span></span>a<span class="_ _e"> </span><span class="ff1d">与<span class="_ _e"> </span></span>b<span class="_ _a"> </span><span class="ff1d">位相等时为<span class="_ _3"> </span></span>0<span class="ff1d">，否则为<span class="_ _e"> </span></span>1</div><div class="t m0 x54 h1f y263 ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>&lt;&lt;<span class="_ _3"> </span>b<span class="_ _44"> </span><span class="ff1d">按位左移<span class="_ _5c"> </span></span>a<span class="_ _e"> </span><span class="ff1d">左移<span class="_ _3"> </span></span>b<span class="_ _a"> </span><span class="ff1d">个单位</span></div><div class="t m0 x54 h1f y264 ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>&gt;&gt;<span class="_ _3"> </span>b<span class="_ _44"> </span><span class="ff1d">按位右移<span class="_ _5c"> </span></span>a<span class="_ _e"> </span><span class="ff1d">右移<span class="_ _a"> </span></span>b<span class="_ _e"> </span><span class="ff1d">个单位</span></div><div class="t m0 x54 h1f y265 ff22 fsf fc5 sc0 ls1 ws1">~a<span class="_ _5d"> </span><span class="ff1d">按位取反<span class="_ _5c"> </span>对<span class="_ _e"> </span></span>a<span class="_ _e"> </span><span class="ff1d">按位取反</span></div><div class="t m0 x1a h1f y266 ff1d fsf fc5 sc0 ls1 ws1">这些位运算符在仅仅对数字使用<span class="ff1e">二进制表示</span>（<span class="ff1f">binary<span class="_ _a"> </span>represen<span class="_ _4"></span>tation<span class="ff1d">）时才有意义。你可以</span></span></div><div class="t m0 x2a h1f y267 ff1d fsf fc5 sc0 ls1 ws1">使用内置的<span class="_ _e"> </span><span class="ff22">bin<span class="_ _a"> </span></span>函数查看一个数的二进制表示。</div><div class="t m0 x36 h27 y268 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[4]:<span class="_ _3"> </span><span class="fc9">bin<span class="fc5">(<span class="fcb">10</span>)</span></span></div><div class="t m0 x36 h27 y269 ff22 fsf fc14 sc0 ls1 ws1">Out[4]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">0b1010</span>&apos;</span></div><div class="t m0 x1a h1f y26a ff1d fsf fc5 sc0 ls1 ws1">上述结果均有一个<span class="_ _e"> </span><span class="ff22">0b<span class="_ _38"> </span></span>前缀，<span class="_ _9"></span>表示这是一个二进制表示。<span class="_ _34"></span>剩余的数字表明数字<span class="_ _e"> </span><span class="ff2d">10<span class="_ _e"> </span></span>用<span class="_ _e"> </span><span class="ff2d">1<span class="_ _4b"> </span><span class="ff2e">·<span class="_ _4b"> </span></span>2</span></div><div class="t m0 x55 h39 y26b ff2f fs10 fc5 sc0 ls1 ws1">3</div><div class="t m0 x56 h22 y26a ff2d fsf fc5 sc0 ls1 ws1">+</div><div class="t m0 x2a h22 y26c ff2d fsf fc5 sc0 ls1 ws1">0<span class="_ _5f"> </span><span class="ff2e">·<span class="_ _5f"> </span></span>2</div><div class="t m0 x1f h39 y26d ff2f fs10 fc5 sc0 ls1 ws1">2</div><div class="t m0 x49 h22 y26c ff2d fsf fc5 sc0 ls1 ws1">+<span class="_ _5f"> </span>1<span class="_ _5f"> </span><span class="ff2e">·<span class="_ _5f"> </span></span>2</div><div class="t m0 x51 h39 y26d ff2f fs10 fc5 sc0 ls1 ws1">1</div><div class="t m0 x57 h22 y26c ff2d fsf fc5 sc0 ls1 ws1">+<span class="_ _5f"> </span>0<span class="_ _5f"> </span><span class="ff2e">·<span class="_ _5f"> </span></span>2</div><div class="t m0 x58 h39 y26d ff2f fs10 fc5 sc0 ls1 ws1">0</div><div class="t m0 x59 h1f y26c ff1d fsf fc5 sc0 ls1 ws1">的和表示出来了。类似地，我们可以输入：</div><div class="t m0 x36 h27 y26e ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[5]:<span class="_ _3"> </span><span class="fc9">bin<span class="fc5">(<span class="fcb">4</span>)</span></span></div><div class="t m0 x36 h27 y26f ff22 fsf fc14 sc0 ls1 ws1">Out[5]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">0b100</span>&apos;</span></div><div class="t m0 x1a h1f y270 ff1d fsf fc5 sc0 ls1 ws1">现在，使用按位或运算，我们可以将<span class="_ _e"> </span><span class="ff2d">4<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff2d">10<span class="_ _a"> </span></span>的位合并起来：</div><div class="t m0 x36 h27 y153 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[6]:<span class="_ _3"> </span><span class="fcb">4<span class="_ _3"> </span>|<span class="_ _3"> </span>10</span></div><div class="t m0 x36 h27 y155 ff22 fsf fc14 sc0 ls1 ws1">Out[6]:<span class="_ _3"> </span><span class="fc5">14</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf1e" class="pf w3 h1b" data-page-no="1e"><div class="pc pc1e w3 h1b"><img class="bi x2a y271 w4 h3a" alt="" src="bg1e.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">5.3.<span class="_ _2c"> </span><span class="ff1e">赋值运算符<span class="_ _58"> </span><span class="ff1f">21</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[7]:<span class="_ _3"> </span><span class="fc9">bin<span class="fc5">(<span class="fcb">4<span class="_ _3"> </span>|<span class="_ _3"> </span>10</span>)</span></span></div><div class="t m0 x36 h27 y138 ff22 fsf fc14 sc0 ls1 ws1">Out[7]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">0b1110</span>&apos;</span></div><div class="t m0 x1a h1f y272 ff1d fsf fc5 sc0 ls1 ws1">这些位运<span class="_ _0"></span>算符并不<span class="_ _0"></span>像基本算术<span class="_ _0"></span>运算符那<span class="_ _0"></span>样直接有<span class="_ _0"></span>用，但是至少<span class="_ _0"></span>我们需要<span class="_ _0"></span>知道它们<span class="_ _0"></span>执行什么</div><div class="t m0 x2a h1f y258 ff1d fsf fc5 sc0 ls1 ws1">类<span class="_ _0"></span>型的<span class="_ _0"></span>操作。<span class="_ _0"></span>特<span class="_ _0"></span>别地，<span class="_ _0"></span>其他<span class="_ _0"></span>语<span class="_ _0"></span>言的<span class="_ _0"></span>用户<span class="_ _0"></span>有<span class="_ _0"></span>时会<span class="_ _0"></span>在需<span class="_ _0"></span>要<span class="_ _0"></span>表示<span class="_ _0"></span>乘方<span class="_ _0"></span>运<span class="_ _0"></span>算（即<span class="_ _10"> </span><span class="ff22">a<span class="_ _3"> </span>**<span class="_ _3"> </span>b</span>）的<span class="_ _0"></span>时候<span class="_ _0"></span>误<span class="_ _0"></span>用</div><div class="t m0 x2a h1f y1cc ff1d fsf fc5 sc0 ls1 ws1">成异或运算符（即<span class="_ _e"> </span><span class="ff22">a<span class="_ _3"> </span>ˆ<span class="_ _3"> </span>b</span>）<span class="_ _c"></span>。</div><div class="t m0 x2a h23 y273 ff19 fsd fc5 sc0 ls1 ws1">5.3<span class="_ _15"> </span><span class="ff1a">赋值运算符</span></div><div class="t m0 x1a h1f y274 ff1d fsf fc5 sc0 ls1 ws1">我们已经知道了变量可以使用赋值运算符<span class="_ _4"></span>（<span class="ff22">=</span>）<span class="_ _4"></span>进行赋值，<span class="_ _9"></span>这时变量的值被存储下来以便于</div><div class="t m0 x2a h1f y275 ff1d fsf fc5 sc0 ls1 ws1">之后的使用。例如：</div><div class="t m0 x36 h27 y276 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[8]:<span class="_ _3"> </span><span class="fc5">a<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>24</span></span></div><div class="t m0 x46 h27 y277 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(a)</span></div><div class="t m0 x36 h27 y278 ff22 fsf fc5 sc0 ls1 ws1">24</div><div class="t m0 x1a h1f y279 ff1d fsf fc5 sc0 ls1 ws1">我<span class="_ _f"></span>们<span class="_ _f"></span>可<span class="_ _f"></span>以<span class="_ _f"></span>在<span class="_ _f"></span>前<span class="_ _4a"></span>面<span class="_ _f"></span>提<span class="_ _f"></span>到<span class="_ _f"></span>的<span class="_ _f"></span>任<span class="_ _4a"></span>何运<span class="_ _f"></span>算<span class="_ _f"></span>符<span class="_ _f"></span>的<span class="_ _f"></span>表<span class="_ _f"></span>达<span class="_ _4a"></span>式<span class="_ _f"></span>中<span class="_ _f"></span>使<span class="_ _f"></span>用<span class="_ _f"></span>这<span class="_ _f"></span>些变<span class="_ _4a"></span>量。<span class="_ _f"></span>例<span class="_ _f"></span>如，<span class="_ _f"></span>如<span class="_ _f"></span>下<span class="_ _f"></span>的<span class="_ _4a"></span>语<span class="_ _f"></span>句<span class="_ _f"></span>可<span class="_ _f"></span>以</div><div class="t m0 x2a h1f y27a ff1d fsf fc5 sc0 ls1 ws1">给<span class="_ _e"> </span><span class="ff22">a<span class="_ _a"> </span></span>加上<span class="_ _e"> </span><span class="ff2d">2</span>：</div><div class="t m0 x36 h27 y27b ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[9]:<span class="_ _3"> </span><span class="fc5">a<span class="_ _3"> </span><span class="fcb">+<span class="_ _3"> </span>2</span></span></div><div class="t m0 x36 h27 y27c ff22 fsf fc14 sc0 ls1 ws1">Out[9]:<span class="_ _3"> </span><span class="fc5">26</span></div><div class="t m0 x1a h1f y27d ff1d fsf fc5 sc0 ls1 ws1">我<span class="_ _0"></span>们<span class="_ _f"></span>可<span class="_ _f"></span>能<span class="_ _f"></span>需<span class="_ _f"></span>要<span class="_ _0"></span>将<span class="_ _f"></span>变<span class="_ _f"></span>量<span class="_ _3b"> </span><span class="ff22">a<span class="_ _3b"> </span></span>更<span class="_ _f"></span>新<span class="_ _f"></span>为<span class="_ _f"></span>这<span class="_ _0"></span>个<span class="_ _f"></span>新<span class="_ _f"></span>的<span class="_ _f"></span>值；<span class="_ _f"></span>在<span class="_ _0"></span>此<span class="_ _f"></span>情<span class="_ _f"></span>况<span class="_ _f"></span>下，<span class="_ _f"></span>我<span class="_ _0"></span>们<span class="_ _f"></span>可<span class="_ _f"></span>以<span class="_ _f"></span>将赋<span class="_ _f"></span>值<span class="_ _0"></span>运<span class="_ _f"></span>算<span class="_ _f"></span>符<span class="_ _f"></span>和<span class="_ _f"></span>加</div><div class="t m0 x2a h1f y27e ff1d fsf fc5 sc0 ls1 ws1">法运<span class="_ _0"></span>算<span class="_ _0"></span>符<span class="_ _0"></span>合<span class="_ _0"></span>并<span class="_ _0"></span>起<span class="_ _0"></span>来：<span class="ff22">a<span class="_ _3"> </span>=<span class="_ _3"> </span>a<span class="_ _3"> </span>+<span class="_ _3"> </span>2</span>。<span class="_ _0"></span>因<span class="_ _0"></span>为<span class="_ _0"></span>这<span class="_ _0"></span>种<span class="_ _0"></span>将赋<span class="_ _0"></span>值<span class="_ _0"></span>运<span class="_ _0"></span>算<span class="_ _0"></span>符<span class="_ _0"></span>和算<span class="_ _0"></span>术<span class="_ _0"></span>运<span class="_ _0"></span>算<span class="_ _0"></span>符<span class="_ _0"></span>结<span class="_ _0"></span>合<span class="_ _0"></span>的<span class="_ _0"></span>操<span class="_ _0"></span>作<span class="_ _0"></span>非<span class="_ _0"></span>常<span class="_ _f"></span>普<span class="_ _0"></span>遍，</div><div class="t m0 x2a h1f y27f ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _e"> </span><span class="ff1d">对所有算术运算符都内置了如下的更新运算符：</span></div><div class="t m0 x36 h21 y280 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[10]:<span class="_ _3"> </span><span class="fc5">a<span class="_ _3"> </span><span class="fcb">+=<span class="_ _3"> </span>2<span class="_ _13"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">与<span class="_ _3"> </span></span>a<span class="_ _3"> </span>=<span class="_ _3"> </span>a<span class="_ _3"> </span>+<span class="_ _3"> </span>2<span class="_ _3"> </span><span class="ff1e">等价</span></span></span></span></div><div class="t m0 x51 h27 y281 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(a)</span></div><div class="t m0 x36 h27 y282 ff22 fsf fc5 sc0 ls1 ws1">26</div><div class="t m0 x1a h1f y283 ff1d fsf fc5 sc0 ls1 ws1">对应于之前列出的所有二元运算符，<span class="ff1f">Python<span class="_ _e"> </span></span>提供了扩展的赋值运算符。下表总结了它们：</div><div class="t m0 x5a h27 y284 ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>+=<span class="_ _3"> </span>b<span class="_ _5a"> </span>a<span class="_ _3"> </span>-=<span class="_ _3"> </span>b</div><div class="t m0 x5a h27 y285 ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>//=<span class="_ _3"> </span>b<span class="_ _44"> </span>a<span class="_ _3"> </span>%=<span class="_ _3"> </span>b</div><div class="t m0 x5a h27 y286 ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>|=<span class="_ _3"> </span>b<span class="_ _5a"> </span>a<span class="_ _3"> </span>ˆ=<span class="_ _3"> </span>b</div><div class="t m0 x1a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">表中每<span class="_ _0"></span>一个运算符<span class="_ _0"></span>都与进行<span class="_ _0"></span>完对应的<span class="_ _0"></span>算术运算<span class="_ _0"></span>后跟一个赋<span class="_ _0"></span>值运算等<span class="_ _0"></span>价。具体来<span class="_ _0"></span>说：对于任</div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">意运算符<span class="_ _e"> </span><span class="ff2a">•</span>，<span class="_ _4"></span>表达式<span class="_ _3"> </span><span class="ff22">a<span class="_ _3"> </span><span class="ff2a">•</span>=<span class="_ _3"> </span>b<span class="_ _e"> </span></span>与<span class="_ _e"> </span><span class="ff22">a<span class="_ _3"> </span>=<span class="_ _3"> </span>a<span class="_ _3"> </span><span class="ff2a">•<span class="_ _3"> </span></span>b<span class="_ _e"> </span></span>等价。<span class="_ _4"></span>对于可变对象，<span class="_ _5"></span>比如列表、<span class="_ _4"></span>数组或者数据帧，</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf1f" class="pf w3 h1b" data-page-no="1f"><div class="pc pc1f w3 h1b"><img class="bi x2a y7c w4 h3b" alt="" src="bg1f.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">22<span class="_ _5e"> </span><span class="ff24">5.<span class="_ _2c"> </span><span class="ff1e">基础<span class="_ _a"> </span></span>PYTHON<span class="_ _e"> </span><span class="ff1e">语法：运算符</span></span></div><div class="t m0 x2a h1f y7e ff1d fsf fc5 sc0 ls1 ws1">上述扩<span class="_ _0"></span>展的赋值运<span class="_ _0"></span>算符实际上<span class="_ _0"></span>与它们更<span class="_ _0"></span>复杂的对应<span class="_ _0"></span>操作略有<span class="_ _0"></span>不同：它们<span class="_ _0"></span><span class="ff1a">直接修改</span>原<span class="_ _0"></span>有对象的内</div><div class="t m0 x2a h1f yb3 ff1d fsf fc5 sc0 ls1 ws1">容，而不是创建一个新的对象存储运算结果。</div><div class="t m0 x2a h23 y287 ff19 fsd fc5 sc0 ls1 ws1">5.4<span class="_ _15"> </span><span class="ff1a">比较运算符</span></div><div class="t m0 x1a h1f y15a ff1d fsf fc5 sc0 ls1 ws1">另一种非常有用的运算符是对不同的值进行比较。<span class="_ _9"></span>对此，<span class="_ _5"></span><span class="ff1f">Python<span class="_ _e"> </span><span class="ff1d">实现了标准的<span class="ff1e">比较运算符</span></span></span></div><div class="t m0 x50 h1f y15b ff1d fsf fc5 sc0 ls1 ws1">（<span class="ff1f">comparison<span class="_ _e"> </span>op<span class="_ _0"></span>erator</span>）<span class="_ _39"></span>，返回布尔值<span class="_ _a"> </span><span class="ff22">True<span class="_ _e"> </span></span>和<span class="_ _a"> </span><span class="ff22">False</span>。下表列出了所有的比较运算符：</div><div class="t m0 x5b h20 y288 ff1a fsf fc5 sc0 ls1 ws1">运算符<span class="_ _3c"> </span>名称<span class="_ _59"> </span>描述</div><div class="t m0 x5b h1f y289 ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>==<span class="_ _3"> </span>b<span class="_ _44"> </span><span class="ff1d">等于<span class="_ _59"> </span></span>a<span class="_ _a"> </span><span class="ff1d">与<span class="_ _e"> </span></span>b<span class="_ _a"> </span><span class="ff1d">相等</span></div><div class="t m0 x5b h1f y28a ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>!=<span class="_ _3"> </span>b<span class="_ _44"> </span><span class="ff1d">不等于<span class="_ _52"> </span></span>a<span class="_ _a"> </span><span class="ff1d">不等于<span class="_ _e"> </span></span>b</div><div class="t m0 x5b h1f y28b ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>&lt;<span class="_ _3"> </span>b<span class="_ _5a"> </span><span class="ff1d">小于<span class="_ _59"> </span></span>a<span class="_ _e"> </span><span class="ff1d">小于<span class="_ _a"> </span></span>b</div><div class="t m0 x5b h1f y28c ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>&gt;<span class="_ _3"> </span>b<span class="_ _5a"> </span><span class="ff1d">大于<span class="_ _59"> </span></span>a<span class="_ _e"> </span><span class="ff1d">大于<span class="_ _a"> </span></span>b</div><div class="t m0 x5b h1f y28d ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>&lt;=<span class="_ _3"> </span>b<span class="_ _44"> </span><span class="ff1d">小于等于<span class="_ _5c"> </span></span>a<span class="_ _e"> </span><span class="ff1d">小于或等于<span class="_ _a"> </span></span>b</div><div class="t m0 x5b h1f y28e ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>&gt;=<span class="_ _3"> </span>b<span class="_ _44"> </span><span class="ff1d">大于等于<span class="_ _5c"> </span></span>a<span class="_ _e"> </span><span class="ff1d">大于或等于<span class="_ _a"> </span></span>b</div><div class="t m0 x1a h1f y28f ff1d fsf fc5 sc0 ls1 ws1">这<span class="_ _0"></span>些比<span class="_ _0"></span>较<span class="_ _0"></span>运<span class="_ _0"></span>算<span class="_ _0"></span>符可<span class="_ _0"></span>以<span class="_ _0"></span>与算<span class="_ _0"></span>术<span class="_ _0"></span>运<span class="_ _0"></span>算<span class="_ _0"></span>符<span class="_ _0"></span>和位<span class="_ _0"></span>运<span class="_ _0"></span>算<span class="_ _0"></span>符<span class="_ _0"></span>任意<span class="_ _0"></span>组<span class="_ _0"></span>合<span class="_ _0"></span>来<span class="_ _0"></span>表<span class="_ _0"></span>达<span class="_ _0"></span>对<span class="_ _0"></span>数<span class="_ _0"></span>字<span class="_ _0"></span>几<span class="_ _0"></span>乎各<span class="_ _0"></span>种<span class="_ _0"></span>的<span class="_ _0"></span>测<span class="_ _0"></span>试<span class="_ _0"></span>逻</div><div class="t m0 x2a h1f y290 ff1d fsf fc5 sc0 ls1 ws1">辑。例如，我们可以通过检查与<span class="_ _e"> </span><span class="ff2d">2<span class="_ _a"> </span></span>的模是否返回<span class="_ _e"> </span><span class="ff2d">1<span class="_ _a"> </span></span>来测试一个数字是否为奇数：</div><div class="t m0 x36 h21 y291 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[11]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span>25<span class="_ _3"> </span><span class="ff1e">是奇数吗？</span></span></div><div class="t m0 x51 h27 y292 ff22 fsf fcb sc0 ls1 ws1">25<span class="_ _3"> </span>%<span class="_ _3"> </span>2<span class="_ _3"> </span>==<span class="_ _3"> </span>1</div><div class="t m0 x36 h27 y293 ff22 fsf fc14 sc0 ls1 ws1">Out[11]:<span class="_ _3"> </span><span class="fc5">True</span></div><div class="t m0 x36 h21 y294 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[12]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span>66<span class="_ _3"> </span><span class="ff1e">是奇数吗？</span></span></div><div class="t m0 x51 h27 y295 ff22 fsf fcb sc0 ls1 ws1">66<span class="_ _3"> </span>%<span class="_ _3"> </span>2<span class="_ _3"> </span>==<span class="_ _3"> </span>1</div><div class="t m0 x36 h27 y296 ff22 fsf fc14 sc0 ls1 ws1">Out[12]:<span class="_ _3"> </span><span class="fc5">False</span></div><div class="t m0 x1a h1f y297 ff1d fsf fc5 sc0 ls1 ws1">我们可以串联多个比较运算符来检查更复杂的关系：</div><div class="t m0 x36 h21 y298 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[13]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">检查是否<span class="_ _3"> </span></span>a<span class="_ _2"> </span><span class="ff1e">属于区间<span class="_ _3"> </span></span>(15,<span class="_ _3"> </span>30)</span></div><div class="t m0 x51 h27 y299 ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>25</span></div><div class="t m0 x51 h27 y29a ff22 fsf fcb sc0 ls1 ws1">15<span class="_ _3"> </span>&lt;<span class="_ _3"> </span><span class="fc5">a<span class="_ _3"> </span></span>&lt;<span class="_ _3"> </span>30</div><div class="t m0 x36 h27 y29b ff22 fsf fc14 sc0 ls1 ws1">Out[13]:<span class="_ _3"> </span><span class="fc5">True</span></div><div class="t m0 x1a h1f y29c ff1d fsf fc5 sc0 ls1 ws1">之后，来动动脑子想一下，看看下面这个比较关系：</div><div class="t m0 x36 h27 y153 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[14]:<span class="_ _3"> </span><span class="fcb">-1<span class="_ _3"> </span>==<span class="_ _3"> </span>~0</span></div><div class="t m0 x36 h27 y155 ff22 fsf fc14 sc0 ls1 ws1">Out[14]:<span class="_ _3"> </span><span class="fc5">True</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf20" class="pf w3 h1b" data-page-no="20"><div class="pc pc20 w3 h1b"><img class="bi x2a y29d w4 h3c" alt="" src="bg20.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">5.5.<span class="_ _2c"> </span><span class="ff1e">布尔运算符<span class="_ _58"> </span><span class="ff1f">23</span></span></div><div class="t m0 x1a h1f y7e ff1d fsf fc5 sc0 ls1 ws1">回忆一下，<span class="_ _5"></span><span class="ff22">~<span class="_ _a"> </span><span class="ff1d">是按位取反运算符。<span class="_ _5"></span>显然，<span class="_ _4"></span>当你按位取反<span class="_ _e"> </span><span class="ff2d">0<span class="_ _e"> </span></span>，<span class="_ _4"></span>你最后将得到<span class="_ _e"> </span><span class="ff2e">−<span class="ff2d">1</span></span>。<span class="_ _4"></span>如果你对为</span></span></div><div class="t m0 x2a h1f yb3 ff1d fsf fc5 sc0 ls1 ws1">什么<span class="_ _0"></span>会得<span class="_ _0"></span>到这<span class="_ _0"></span>样的<span class="_ _0"></span>结果而<span class="_ _0"></span>感到<span class="_ _0"></span>好奇，<span class="_ _0"></span>你可<span class="_ _0"></span>以查看<span class="ff1e">补<span class="_ _0"></span>码</span>（<span class="ff1f">tw<span class="_ _4"></span>o’s<span class="_ _a"> </span>complemen<span class="_ _4"></span>t<span class="ff1d">）整数<span class="_ _0"></span>编码<span class="_ _0"></span>方案。<span class="_ _0"></span>这</span></span></div><div class="t m0 x2a h1f yb4 ff1d fsf fc5 sc0 ls1 ws1">是<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>用来编<span class="_ _0"></span>码有符<span class="_ _0"></span>号整数的<span class="_ _0"></span>方案。思<span class="_ _0"></span>考一下，<span class="_ _0"></span>当你翻<span class="_ _0"></span>转以这<span class="_ _0"></span>种方式<span class="_ _0"></span>编码的整<span class="_ _0"></span>数的所<span class="_ _0"></span>有位</div><div class="t m0 x2a h1f y29e ff1d fsf fc5 sc0 ls1 ws1">时会发生什么？</div><div class="t m0 x2a h23 y29f ff19 fsd fc5 sc0 ls1 ws1">5.5<span class="_ _15"> </span><span class="ff1a">布尔运算符</span></div><div class="t m0 x1a h1f y2a0 ff1d fsf fc5 sc0 ls1 ws1">当使用布尔值时，<span class="_ _9"></span><span class="ff1f">Python<span class="_ _e"> </span><span class="ff1d">提供了<span class="ff1e">布尔运算符<span class="_ _4"></span><span class="ff1d">（<span class="ff1f">b<span class="_ _0"></span>oolean<span class="_ _e"> </span>op<span class="_ _0"></span>erator</span>）<span class="_ _4"></span>使用<span class="_ _9"></span>“和”<span class="_ _60"></span>“或”<span class="_ _9"></span>和<span class="_ _5"></span>“非”</span></span></span></span></div><div class="t m0 x2a h1f y2a1 ff1d fsf fc5 sc0 ls1 ws1">的标准概念组合不同的布尔值。<span class="_ _34"></span>不出意外地，<span class="_ _34"></span>这些运算符直接使用单词<span class="_ _38"> </span><span class="ff22">and</span>、<span class="_ _34"></span><span class="ff22">or<span class="_ _e"> </span><span class="ff1d">和<span class="_ _e"> </span></span>not<span class="_ _38"> </span><span class="ff1d">来表达：</span></span></div><div class="t m0 x36 h27 y2a2 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[15]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>4</span></span></div><div class="t m0 x51 h27 y2a3 ff22 fsf fc5 sc0 ls1 ws1">(x<span class="_ _3"> </span><span class="fcb">&lt;<span class="_ _3"> </span>6</span>)<span class="_ _3"> </span><span class="ff29 fc10">and<span class="_ _3"> </span></span>(x<span class="_ _2"> </span><span class="fcb">&gt;<span class="_ _3"> </span>2</span>)</div><div class="t m0 x36 h27 y2a4 ff22 fsf fc14 sc0 ls1 ws1">Out[15]:<span class="_ _3"> </span><span class="fc5">True</span></div><div class="t m0 x36 h27 y2a5 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[16]:<span class="_ _3"> </span><span class="fc5">(x<span class="_ _3"> </span><span class="fcb">&gt;<span class="_ _3"> </span>10</span>)<span class="_ _2"> </span><span class="ff29 fc10">or<span class="_ _3"> </span></span>(x<span class="_ _3"> </span><span class="fcb">%<span class="_ _3"> </span>2<span class="_ _3"> </span>==<span class="_ _3"> </span>0</span>)</span></div><div class="t m0 x36 h27 y2a6 ff22 fsf fc14 sc0 ls1 ws1">Out[16]:<span class="_ _3"> </span><span class="fc5">True</span></div><div class="t m0 x36 h27 y2a7 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[17]:<span class="_ _3"> </span><span class="ff29 fc10">not<span class="_ _3"> </span></span><span class="fc5">(x<span class="_ _3"> </span><span class="fcb">&lt;<span class="_ _2"> </span>6</span>)</span></div><div class="t m0 x36 h27 y2a8 ff22 fsf fc14 sc0 ls1 ws1">Out[17]:<span class="_ _3"> </span><span class="fc5">False</span></div><div class="t m0 x1a h1f y2a9 ff1e fsf fc5 sc0 ls1 ws1">布<span class="_ _4a"></span>尔<span class="_ _4a"></span>代<span class="_ _4a"></span>数<span class="_ _4a"></span><span class="ff1d">（<span class="ff1f">b<span class="_ _0"></span>o<span class="_ _0"></span>olean<span class="_ _8"> </span>algebra</span>）<span class="_ _4a"></span>的<span class="_ _4a"></span>狂<span class="_ _4a"></span>热<span class="_ _4a"></span>爱<span class="_ _4a"></span>好<span class="_ _55"></span>者<span class="_ _4a"></span>可<span class="_ _4a"></span>能<span class="_ _4a"></span>不<span class="_ _4a"></span>会<span class="_ _4a"></span>注<span class="_ _4a"></span>意<span class="_ _55"></span>到</span>异<span class="_ _4a"></span>或<span class="_ _4a"></span><span class="ff1d">（<span class="ff1f">exclusive<span class="_ _8"> </span>or</span>）<span class="_ _4a"></span>运<span class="_ _4a"></span>算</span></div><div class="t m0 x2a h1f y2aa ff1d fsf fc5 sc0 ls1 ws1">符<span class="_ _a"> </span><span class="ff1f">X<span class="_ _4"></span>OR<span class="_ _a"> </span><span class="ff1d">并没有<span class="_ _0"></span>包括在<span class="_ _0"></span>内。达到异或<span class="_ _0"></span>的效果<span class="_ _0"></span>可以通<span class="_ _0"></span>过组合多<span class="_ _0"></span>种其他<span class="_ _0"></span>运算符的<span class="_ _0"></span>方式实<span class="_ _0"></span>现。你可<span class="_ _0"></span>以</span></span></div><div class="t m0 x2a h1f y2ab ff1d fsf fc5 sc0 ls1 ws1">使用下面这种聪明的小窍门实现布尔值的异或运算：</div><div class="t m0 x36 h27 y2ac ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[18]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span>(x<span class="_ _3"> </span>&gt;<span class="_ _2"> </span>1)<span class="_ _3"> </span>xor<span class="_ _3"> </span>(x<span class="_ _3"> </span>&lt;<span class="_ _3"> </span>10)</span></div><div class="t m0 x51 h27 y2ad ff22 fsf fc5 sc0 ls1 ws1">(x<span class="_ _3"> </span><span class="fcb">&gt;<span class="_ _3"> </span>1</span>)<span class="_ _3"> </span><span class="fcb">!=<span class="_ _3"> </span></span>(x<span class="_ _2"> </span><span class="fcb">&lt;<span class="_ _3"> </span>10</span>)</div><div class="t m0 x36 h27 y2ae ff22 fsf fc14 sc0 ls1 ws1">Out[18]:<span class="_ _3"> </span><span class="fc5">False</span></div><div class="t m0 x1a h1f y2af ff1d fsf fc5 sc0 ls1 ws1">当我们<span class="_ _0"></span>开始讨<span class="_ _0"></span>论控制流语<span class="_ _0"></span>句（比如循环<span class="_ _0"></span>语句和条件<span class="_ _0"></span>语句）时，这<span class="_ _0"></span>些布尔运<span class="_ _0"></span>算符将<span class="_ _0"></span>会非常有</div><div class="t m0 x2a h1f y2b0 ff1d fsf fc5 sc0 ls1 ws1">用。</div><div class="t m0 x1a h1f y2b1 ff1d fsf fc5 sc0 ls1 ws1">一个较容易混淆的点在于什么时候使用布尔运算符（<span class="ff22">and</span>、<span class="ff22">or<span class="_ _e"> </span></span>和<span class="_ _a"> </span><span class="ff22">not</span>）<span class="_ _39"></span>，什么时候使用位运</div><div class="t m0 x2a h1f y2b2 ff1d fsf fc5 sc0 ls1 ws1">算符<span class="_ _4"></span>（<span class="ff22">&amp;</span>、<span class="_ _9"></span><span class="ff22">|<span class="_ _e"> </span><span class="ff1d">和<span class="_ _e"> </span></span>~<span class="ff1d">）<span class="_ _39"></span>。<span class="_ _5"></span>答案取决于它们的名字：<span class="_ _9"></span>布尔运算符应当在你需要对整个语句的<span class="ff1a">布尔值<span class="_ _4"></span><span class="ff1d">（即</span></span></span></span></div><div class="t m0 x2a h1f y2b3 ff1a fsf fc5 sc0 ls1 ws1">正确<span class="ff1d">或<span class="_ _0"></span>者</span>错误<span class="ff1d">）进<span class="_ _0"></span>行计算时<span class="_ _0"></span>用到；而位运算<span class="_ _0"></span>符则应当<span class="_ _0"></span>在你需要<span class="_ _0"></span>对</span>单独的位<span class="_ _0"></span><span class="ff1d">或者不清<span class="_ _0"></span>楚对象的</span>某</div><div class="t m0 x2a h1f y2b4 ff1a fsf fc5 sc0 ls1 ws1">个部分<span class="ff1d">进行操作时用到。</span></div><div class="t m0 x2a h23 y2b5 ff19 fsd fc5 sc0 ls1 ws1">5.6<span class="_ _15"> </span><span class="ff1a">身份和成员运算符</span></div><div class="t m0 x1a h1f y2b6 ff1d fsf fc5 sc0 ls1 ws1">就<span class="_ _0"></span>像<span class="_ _10"> </span><span class="ff22">and</span>、<span class="ff22">or<span class="_ _10"> </span></span>和<span class="_ _3b"> </span><span class="ff22">not<span class="_ _10"> </span></span>一<span class="_ _0"></span>样，<span class="ff1f">Python<span class="_ _10"> </span></span>同<span class="_ _0"></span>样<span class="_ _0"></span>提<span class="_ _0"></span>供<span class="_ _0"></span>了<span class="_ _0"></span>像<span class="_ _0"></span>英<span class="_ _0"></span>语<span class="_ _0"></span>散<span class="_ _0"></span>文<span class="_ _0"></span>一<span class="_ _0"></span>样<span class="_ _0"></span>直<span class="_ _0"></span>接<span class="_ _0"></span>的运<span class="_ _0"></span>算<span class="_ _0"></span>符<span class="_ _0"></span>来<span class="_ _0"></span>检<span class="_ _0"></span>查<span class="_ _0"></span>两</div><div class="t m0 x2a h1f y2b7 ff1d fsf fc5 sc0 ls1 ws1">个对象是否相同以及一个对象是否包含在另一个对象中。下表总结了这些运算符：</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf21" class="pf w3 h1b" data-page-no="21"><div class="pc pc21 w3 h1b"><img class="bi x2a y2b8 w4 h3d" alt="" src="bg21.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">24<span class="_ _5e"> </span><span class="ff24">5.<span class="_ _2c"> </span><span class="ff1e">基础<span class="_ _a"> </span></span>PYTHON<span class="_ _e"> </span><span class="ff1e">语法：运算符</span></span></div><div class="t m0 x5c h20 y2b9 ff1a fsf fc5 sc0 ls1 ws1">运算符<span class="_ _61"> </span>描述</div><div class="t m0 x5c h1f y2ba ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>is<span class="_ _3"> </span>b<span class="_ _5d"> </span><span class="ff1d">当<span class="_ _e"> </span></span>a<span class="_ _a"> </span><span class="ff1d">和<span class="_ _e"> </span></span>b<span class="_ _a"> </span><span class="ff1d">为相同对象时为真</span></div><div class="t m0 x5c h1f y2bb ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>is<span class="_ _3"> </span>not<span class="_ _3"> </span>b<span class="_ _44"> </span><span class="ff1d">当<span class="_ _a"> </span></span>a<span class="_ _e"> </span><span class="ff1d">和<span class="_ _a"> </span></span>b<span class="_ _e"> </span><span class="ff1d">为相同对象时为假</span></div><div class="t m0 x5c h1f y2bc ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>in<span class="_ _3"> </span>b<span class="_ _5d"> </span><span class="ff1d">当<span class="_ _e"> </span></span>a<span class="_ _a"> </span><span class="ff1d">是<span class="_ _e"> </span></span>b<span class="_ _a"> </span><span class="ff1d">的一个成员时为真</span></div><div class="t m0 x5c h1f y2bd ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span>not<span class="_ _3"> </span>in<span class="_ _3"> </span>b<span class="_ _44"> </span><span class="ff1d">当<span class="_ _a"> </span></span>a<span class="_ _e"> </span><span class="ff1d">是<span class="_ _a"> </span></span>b<span class="_ _e"> </span><span class="ff1d">的一个成员时为假</span></div><div class="t m0 x2a h25 y2be ff19 fse fc5 sc0 ls1 ws1">5.6.1<span class="_ _3c"> </span><span class="ff1a">身份运算符</span></div><div class="t m0 x1a h1f y2bf ff1e fsf fc5 sc0 ls1 ws1">身份运算符<span class="_ _4"></span><span class="ff1d">（<span class="ff1f">iden<span class="_ _4"></span>tit<span class="_ _4"></span>y<span class="_ _e"> </span>op<span class="_ _0"></span>erator<span class="ff1d">）<span class="_ _35"> </span><span class="ff22">is<span class="_ _e"> </span></span>和<span class="_ _e"> </span><span class="ff22">is<span class="_ _3"> </span>not<span class="_ _38"> </span></span>检查<span class="ff1e">对象身份</span>（</span>object<span class="_ _e"> </span>iden<span class="_ _4"></span>tity<span class="ff1d">）<span class="_ _5"></span>是否相同。</span></span></span></div><div class="t m0 x2a h1f y2c0 ff1d fsf fc5 sc0 ls1 ws1">对象身份相同与<span class="ff1e">对象相等</span>（<span class="ff1f">ob<span class="_ _0"></span>ject<span class="_ _e"> </span>equalit<span class="_ _4"></span>y<span class="ff1d">）不同，我们可以在下列例子中看到：</span></span></div><div class="t m0 x36 h27 y2c1 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[19]:<span class="_ _3"> </span><span class="fc5">a<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[<span class="fcb">1</span>,<span class="_ _2"> </span><span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">3</span>]</span></div><div class="t m0 x51 h27 y2c2 ff22 fsf fc5 sc0 ls1 ws1">b<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[<span class="fcb">1</span>,<span class="_ _3"> </span><span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">3</span>]</div><div class="t m0 x36 h27 y2c3 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[20]:<span class="_ _3"> </span><span class="fc5">a<span class="_ _3"> </span><span class="fcb">==<span class="_ _3"> </span></span>b</span></div><div class="t m0 x36 h27 y2c4 ff22 fsf fc14 sc0 ls1 ws1">Out[20]:<span class="_ _3"> </span><span class="fc5">True</span></div><div class="t m0 x36 h27 y2c5 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[21]:<span class="_ _3"> </span><span class="fc5">a<span class="_ _3"> </span><span class="ff29 fc10">is<span class="_ _3"> </span></span>b</span></div><div class="t m0 x36 h27 y2c6 ff22 fsf fc14 sc0 ls1 ws1">Out[21]:<span class="_ _3"> </span><span class="fc5">False</span></div><div class="t m0 x36 h27 y2c7 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[22]:<span class="_ _3"> </span><span class="fc5">a<span class="_ _3"> </span><span class="ff29 fc10">is<span class="_ _3"> </span>not<span class="_ _2"> </span></span>b</span></div><div class="t m0 x36 h27 y2c8 ff22 fsf fc14 sc0 ls1 ws1">Out[22]:<span class="_ _3"> </span><span class="fc5">True</span></div><div class="t m0 x1a h1f y2c9 ff1d fsf fc5 sc0 ls1 ws1">什么样才算是对象身份相同呢？下列例子说明了这个问题：</div><div class="t m0 x36 h27 y2ca ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[23]:<span class="_ _3"> </span><span class="fc5">a<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[<span class="fcb">1</span>,<span class="_ _2"> </span><span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">3</span>]</span></div><div class="t m0 x51 h27 y2cb ff22 fsf fc5 sc0 ls1 ws1">b<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>a</div><div class="t m0 x51 h27 y2cc ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _3"> </span><span class="ff29 fc10">is<span class="_ _3"> </span></span>b</div><div class="t m0 x36 h27 y2cd ff22 fsf fc14 sc0 ls1 ws1">Out[23]:<span class="_ _3"> </span><span class="fc5">True</span></div><div class="t m0 x1a h1f y2ce ff1d fsf fc5 sc0 ls1 ws1">上述两个例子的区别在于：第一个例子中<span class="_ _e"> </span><span class="ff22">a<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff22">b<span class="_ _a"> </span></span>指向了<span class="ff1a">不同的对象</span>，<span class="_ _4"></span>而第二个例子中它们</div><div class="t m0 x2a h1f y2cf ff1d fsf fc5 sc0 ls1 ws1">指向<span class="_ _0"></span>了<span class="ff1a">相同<span class="_ _0"></span>的对象</span>。如<span class="_ _0"></span>我们在<span class="_ _0"></span>上一节<span class="_ _0"></span>中看到<span class="_ _0"></span>的，<span class="ff1f">Python<span class="_ _e"> </span></span>变<span class="_ _0"></span>量实际<span class="_ _0"></span>上是指针。<span class="ff22">is<span class="_ _a"> </span></span>运<span class="_ _0"></span>算符检<span class="_ _0"></span>查的</div><div class="t m0 x2a h1f y2d0 ff1d fsf fc5 sc0 ls1 ws1">是两个变量是否指向同一个容器（对象）<span class="_ _39"></span>，<span class="_ _5"></span>而不是检查它们指向的容器中内容是否一致。<span class="_ _5"></span>有了这</div><div class="t m0 x2a h1f y2d1 ff1d fsf fc5 sc0 ls1 ws1">个概念，你就会发现很多情况下初学者想要使用<span class="_ _e"> </span><span class="ff22">is</span>，实际上他们大多真正意味着<span class="_ _a"> </span><span class="ff22">==</span>。</div><div class="t m0 x2a h25 y2d2 ff19 fse fc5 sc0 ls1 ws1">5.6.2<span class="_ _3c"> </span><span class="ff1a">成员运算符</span></div><div class="t m0 x1a h1f yd6 ff1e fsf fc5 sc0 ls1 ws1">成<span class="_ _0"></span>员运<span class="_ _0"></span>算符<span class="_ _0"></span><span class="ff1d">（<span class="ff1f">mem<span class="_ _4"></span>b<span class="_ _0"></span>ership<span class="_ _a"> </span>operator<span class="ff1d">）<span class="_ _0"></span>在<span class="ff1e">复<span class="_ _0"></span>合对<span class="_ _0"></span>象</span>（</span>comp<span class="_ _0"></span>ound<span class="_ _a"> </span>ob<span class="_ _0"></span>ject<span class="ff1d">）中<span class="_ _0"></span>检查<span class="_ _0"></span>成<span class="_ _0"></span>员存<span class="_ _0"></span>在情</span></span></span></div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">况。比如，我们可以写：</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf22" class="pf w3 h1b" data-page-no="22"><div class="pc pc22 w3 h1b"><img class="bi x2a y2d3 w4 h3e" alt="" src="bg22.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">5.6.<span class="_ _2c"> </span><span class="ff1e">身份和成员运算符<span class="_ _4d"> </span><span class="ff1f">25</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[24]:<span class="_ _3"> </span><span class="fcb">1<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc5">[</span>1<span class="fc5">,<span class="_ _2"> </span></span>2<span class="fc5">,<span class="_ _3"> </span></span>3<span class="fc5">]</span></span></div><div class="t m0 x36 h27 y138 ff22 fsf fc14 sc0 ls1 ws1">Out[24]:<span class="_ _3"> </span><span class="fc5">True</span></div><div class="t m0 x36 h27 y2d4 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[25]:<span class="_ _3"> </span><span class="fcb">2<span class="_ _3"> </span><span class="ff29 fc10">not<span class="_ _3"> </span>in<span class="_ _2"> </span></span><span class="fc5">[</span>1<span class="fc5">,<span class="_ _3"> </span></span>2<span class="fc5">,<span class="_ _3"> </span></span>3<span class="fc5">]</span></span></div><div class="t m0 x36 h27 y2d5 ff22 fsf fc14 sc0 ls1 ws1">Out[25]:<span class="_ _3"> </span><span class="fc5">False</span></div><div class="t m0 x1a h1f y2d6 ff1d fsf fc5 sc0 ls1 ws1">这些<span class="_ _0"></span>成员<span class="_ _0"></span>操作<span class="_ _0"></span>是让<span class="_ _10"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>相比<span class="_ _0"></span>低级<span class="_ _0"></span>语言<span class="_ _0"></span>（如<span class="_ _a"> </span><span class="ff1f">C<span class="_ _a"> </span></span>语<span class="_ _0"></span>言）更<span class="_ _0"></span>容易<span class="_ _0"></span>使用<span class="_ _0"></span>的一<span class="_ _0"></span>个例<span class="_ _0"></span>子。在<span class="_ _a"> </span><span class="ff1f">C<span class="_ _a"> </span></span>语</div><div class="t m0 x2a h1f y2d7 ff1d fsf fc5 sc0 ls1 ws1">言<span class="_ _4a"></span>中，<span class="_ _4a"></span>成<span class="_ _4a"></span>员<span class="_ _4a"></span>的<span class="_ _4a"></span>检<span class="_ _4a"></span>查<span class="_ _4a"></span>需<span class="_ _55"></span>要<span class="_ _4a"></span>在列<span class="_ _4a"></span>表<span class="_ _4a"></span>中<span class="_ _4a"></span>手<span class="_ _4a"></span>动<span class="_ _4a"></span>构<span class="_ _4a"></span>造<span class="_ _4a"></span>一<span class="_ _55"></span>个<span class="_ _4a"></span>循<span class="_ _4a"></span>环<span class="_ _4a"></span>后<span class="_ _4a"></span>检<span class="_ _4a"></span>查<span class="_ _4a"></span>每<span class="_ _4a"></span>个<span class="_ _4a"></span>元<span class="_ _55"></span>素<span class="_ _4a"></span>是<span class="_ _4a"></span>否<span class="_ _4a"></span>相<span class="_ _4a"></span>等<span class="_ _4a"></span>来<span class="_ _4a"></span>实<span class="_ _4a"></span>现。<span class="_ _4a"></span>而</div><div class="t m0 x2a h1f y2d8 ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中，你只需要像写英语句子一样直接地键入你想要知道的就可以实现。</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf23" class="pf w3 h1b" data-page-no="23"><div class="pc pc23 w3 h1b"></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf24" class="pf w3 h1b" data-page-no="24"><div class="pc pc24 w3 h1b"><img class="bi x2a y2d9 w4 h3f" alt="" src="bg24.png"/><div class="t m0 x5d h1c y3f ff1a fsc fc5 sc0 ls1 ws1">第<span class="_ _7"> </span><span class="ff19">6<span class="_ _7"> </span></span>章<span class="_ _33"> </span>内置类型：简单变量类型</div><div class="t m0 x1a h1f y119 ff1d fsf fc5 sc0 ls1 ws1">谈到<span class="_ _38"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>的变量和对象，<span class="_ _34"></span>我们会发现所有的<span class="_ _38"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>对象都附带有相应的类型信息。<span class="_ _34"></span>这</div><div class="t m0 x2a h1f y11a ff1d fsf fc5 sc0 ls1 ws1">里我们将简要地介绍一遍<span class="_ _38"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>内置的简单变量类型。<span class="_ _1"></span>我们所说的<span class="_ _1"></span>“<span class="ff1e">简单类型<span class="_ _4"></span><span class="ff1d">（<span class="ff1f">simple<span class="_ _38"> </span>type</span>）<span class="_ _39"></span>”</span></span></div><div class="t m0 x2a h1f y11b ff1d fsf fc5 sc0 ls1 ws1">是与一些<span class="ff1e">复合类型</span>（<span class="ff1f">comp<span class="_ _0"></span>ound<span class="_ _e"> </span>t<span class="_ _4"></span>yp<span class="_ _0"></span>e<span class="ff1d">）相区别的，在后面的章节中我们会继续讨论复合类型。</span></span></div><div class="t m0 x1a h1f y11d ff1d fsf fc5 sc0 ls1 ws1">下表总结了</div><div class="t m0 x44 h22 y11e ff1f fsf fc5 sc0 ls1 ws1">Python</div><div class="t m0 x31 h1f y11d ff1d fsf fc5 sc0 ls1 ws1">的简单变量类型：</div><div class="t m0 x25 h20 y2da ff1a fsf fc5 sc0 ls1 ws1">类型<span class="_ _62"> </span>举例<span class="_ _63"> </span>描述</div><div class="t m0 x25 h1f y2db ff22 fsf fc5 sc0 ls1 ws1">int<span class="_ _64"> </span>x<span class="_ _3"> </span>=<span class="_ _3"> </span>1<span class="_ _64"> </span><span class="ff1d">整数（对应包括负数和零的整数域）</span></div><div class="t m0 x25 h1f y2dc ff22 fsf fc5 sc0 ls1 ws1">float<span class="_ _65"> </span>x<span class="_ _3"> </span>=<span class="_ _3"> </span>1.0<span class="_ _65"> </span><span class="ff1d">浮点数（对应实数域）</span></div><div class="t m0 x25 h1f y2dd ff22 fsf fc5 sc0 ls1 ws1">complex<span class="_ _5a"> </span>x<span class="_ _3"> </span>=<span class="_ _3"> </span>1<span class="_ _3"> </span>+<span class="_ _3"> </span>2j<span class="_ _44"> </span><span class="ff1d">复数（包括实部与虚部的复数）</span></div><div class="t m0 x25 h1f y2de ff22 fsf fc5 sc0 ls1 ws1">bool<span class="_ _5d"> </span>x<span class="_ _3"> </span>=<span class="_ _3"> </span>True<span class="_ _33"> </span><span class="ff1d">布尔值：表示真和假</span></div><div class="t m0 x25 h1f y2df ff22 fsf fc5 sc0 ls1 ws1">str<span class="_ _64"> </span>x<span class="_ _3"> </span>=<span class="_ _3"> </span><span class="ff2a">&apos;</span>abc<span class="ff2a">&apos;<span class="_ _5a"> </span><span class="ff1d">字符串：表示字符或者文本</span></span></div><div class="t m0 x25 h1f y2e0 ff22 fsf fc5 sc0 ls1 ws1">NoneType<span class="_ _5c"> </span>x<span class="_ _2"> </span>=<span class="_ _3"> </span>None<span class="_ _66"> </span><span class="ff1d">特殊的用以表示空的对象</span></div><div class="t m0 x1a h1f y2e1 ff1d fsf fc5 sc0 ls1 ws1">我们会快速地将这些类型依次介绍一遍。</div><div class="t m0 x2a h23 y2e2 ff19 fsd fc5 sc0 ls1 ws1">6.1<span class="_ _15"> </span><span class="ff1a">整数</span></div><div class="t m0 x1a h1f y2e3 ff1d fsf fc5 sc0 ls1 ws1">最基本的用来表示数字的类型是<span class="ff1e">整数</span>（<span class="ff1f">in<span class="_ _4"></span>teger<span class="ff1d">）<span class="_ _39"></span>。所有不含小数点的数字都是整数：</span></span></div><div class="t m0 x36 h27 y2e4 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[1]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>1</span></span></div><div class="t m0 x46 h27 y2e5 ff22 fsf fc9 sc0 ls1 ws1">type<span class="fc5">(x)</span></div><div class="t m0 x36 h27 y2e6 ff22 fsf fc14 sc0 ls1 ws1">Out[1]:<span class="_ _3"> </span><span class="fc5">int</span></div><div class="t m0 x1a h1f y2e7 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _38"> </span><span class="ff1d">的整数实际上比<span class="_ _38"> </span></span>C<span class="_ _e"> </span><span class="ff1d">语言中的整数更为复杂。<span class="_ _3f"></span><span class="ff1f">C<span class="_ _38"> </span><span class="ff1d">的整数是<span class="ff1e">固定精度<span class="_ _5"></span><span class="ff1d">（<span class="ff1f">ﬁxed-precision</span>）</span></span></span></span></span></div><div class="t m0 x2a h1f y2e8 ff1d fsf fc5 sc0 ls1 ws1">的，<span class="_ _1"></span>而且通常会发生溢出现象<span class="_ _5"></span>（通常发生在整数值靠近<span class="_ _e"> </span><span class="ff2d">2</span></div><div class="t m0 x5e h39 y2e9 ff2f fs10 fc5 sc0 ls1 ws1">31</div><div class="t m0 x5f h1f y2e8 ff1d fsf fc5 sc0 ls1 ws1">或者<span class="_ _38"> </span><span class="ff2d">2</span></div><div class="t m0 x60 h39 y2e9 ff2f fs10 fc5 sc0 ls1 ws1">63</div><div class="t m0 x61 h1f y2e8 ff1d fsf fc5 sc0 ls1 ws1">时，<span class="_ _1"></span>具体取决于你的系统）<span class="_ _39"></span>。</div><div class="t m0 x2a h1f y2ea ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _a"> </span><span class="ff1d">的整数则是<span class="ff1e">可变<span class="_ _0"></span>精度</span>（</span>v<span class="_ _5"></span>ariable-precision<span class="ff1d">）<span class="_ _0"></span>的，因而你可<span class="_ _0"></span>以完成一些<span class="_ _0"></span>在其他语言<span class="_ _0"></span>中往往</span></div><div class="t m0 x2a h1f y2eb ff1d fsf fc5 sc0 ls1 ws1">会溢出的计算：</div><div class="t m0 x36 h27 y2ec ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[2]:<span class="_ _3"> </span><span class="fcb">2<span class="_ _3"> </span>**<span class="_ _3"> </span>200</span></div><div class="t m0 x36 h27 y2ed ff22 fsf fc14 sc0 ls1 ws1">Out[2]:<span class="_ _3"> </span><span class="fc5">1606938044258990275541962092341162602522202993782792835301376</span></div><div class="t m0 x1a h1f y7c ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _e"> </span><span class="ff1d">整数另外一个方便的特性是它的除法结果可以被默认地转换成浮点类型：</span></div><div class="t m0 x4f h22 y5c ff1f fsf fc5 sc0 ls1 ws1">27</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf25" class="pf w3 h1b" data-page-no="25"><div class="pc pc25 w3 h1b"><img class="bi x2a y7c w4 h2c" alt="" src="bg25.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">28<span class="_ _67"> </span><span class="ff24">6.<span class="_ _2c"> </span><span class="ff1e">内置类型：简单变量类型</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[3]:<span class="_ _3"> </span><span class="fcb">5<span class="_ _3"> </span>/<span class="_ _3"> </span>2</span></div><div class="t m0 x36 h27 y138 ff22 fsf fc14 sc0 ls1 ws1">Out[3]:<span class="_ _3"> </span><span class="fc5">2.5</span></div><div class="t m0 x1a h1f y2ee ff1d fsf fc5 sc0 ls1 ws1">需要注意的是这一向上转换是<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span>3<span class="_ _e"> </span></span>的一个特性；而在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span>2<span class="_ _e"> </span></span>中，整数除法截断了</div><div class="t m0 x2a h1f y2ef ff1d fsf fc5 sc0 ls1 ws1">小数部分并返回一个整数的结果，就像许多类似于<span class="_ _e"> </span><span class="ff1f">C<span class="_ _a"> </span></span>语言的静态类型语言一样：</div><div class="t m0 x36 h21 y2f0 ff2c fsf fcd sc0 ls1 ws1">#<span class="_ _3"> </span>Python<span class="_ _3"> </span>2<span class="_ _3"> </span><span class="ff1e">的特性</span></div><div class="t m0 x36 h27 y2f1 ff22 fsf fcb sc0 ls1 ws1">&gt;&gt;&gt;<span class="_ _3"> </span><span class="fcc">5<span class="_ _3"> </span></span>/<span class="_ _3"> </span><span class="fcc">2</span></div><div class="t m0 x36 h27 y2f2 ff22 fsf fcc sc0 ls1 ws1">2</div><div class="t m0 x1a h1f y2f3 ff1d fsf fc5 sc0 ls1 ws1">如果想要在</div><div class="t m0 x44 h22 y2f4 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _e"> </span>3</div><div class="t m0 x62 h1f y2f3 ff1d fsf fc5 sc0 ls1 ws1">中复原这种行为的整除，你可以采用向下整除运算符：</div><div class="t m0 x36 h27 y2f5 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[4]:<span class="_ _3"> </span><span class="fcb">5<span class="_ _3"> </span>//<span class="_ _3"> </span>2</span></div><div class="t m0 x36 h27 y2f6 ff22 fsf fc14 sc0 ls1 ws1">Out[4]:<span class="_ _3"> </span><span class="fc5">2</span></div><div class="t m0 x1a h1f y2f7 ff1d fsf fc5 sc0 ls1 ws1">最后，需要注意的是<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span>2.<span class="ff25">x<span class="_ _e"> </span></span></span>同时拥有<span class="_ _a"> </span><span class="ff22">int<span class="_ _e"> </span></span>和<span class="_ _a"> </span><span class="ff22">long<span class="_ _a"> </span></span>两种类型，而<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span>3<span class="_ _e"> </span></span>则将<span class="_ _0"></span>这两</div><div class="t m0 x2a h1f y2f8 ff1d fsf fc5 sc0 ls1 ws1">种类型整合到了<span class="_ _e"> </span><span class="ff22">int<span class="_ _a"> </span></span>这一个单独的类型当中。</div><div class="t m0 x2a h23 y2f9 ff19 fsd fc5 sc0 ls1 ws1">6.2<span class="_ _15"> </span><span class="ff1a">浮点数</span></div><div class="t m0 x1a h1f y2fa ff1e fsf fc5 sc0 ls1 ws1">浮点数<span class="_ _4"></span><span class="ff1d">（<span class="ff1f">ﬂoating-p<span class="_ _0"></span>oin<span class="_ _4"></span>t<span class="_ _38"> </span>num<span class="_ _4"></span>b<span class="_ _0"></span>er<span class="ff1d">）<span class="_ _5"></span>类型可以用来存储小数。<span class="_ _5"></span>它们可以用标准十进制表示法或</span></span></span></div><div class="t m0 x2a h1f y2fb ff1d fsf fc5 sc0 ls1 ws1">指数表示法来表示：</div><div class="t m0 x36 h27 y2fc ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[5]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>0.000005</span></span></div><div class="t m0 x46 h27 y2fd ff22 fsf fc5 sc0 ls1 ws1">y<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>5e-6</span></div><div class="t m0 x46 h27 y2fe ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(x<span class="_ _3"> </span><span class="fcb">==<span class="_ _3"> </span></span>y)</span></div><div class="t m0 x36 h27 y2ff ff22 fsf fc5 sc0 ls1 ws1">True</div><div class="t m0 x36 h27 y300 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[6]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>1400000.00</span></span></div><div class="t m0 x46 h27 y301 ff22 fsf fc5 sc0 ls1 ws1">y<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>1.4e6</span></div><div class="t m0 x46 h27 y302 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(x<span class="_ _3"> </span><span class="fcb">==<span class="_ _3"> </span></span>y)</span></div><div class="t m0 x36 h27 y303 ff22 fsf fc5 sc0 ls1 ws1">True</div><div class="t m0 x1a h1f y304 ff1d fsf fc5 sc0 ls1 ws1">在<span class="ff1e">指<span class="_ _0"></span>数表<span class="_ _0"></span>示法<span class="_ _0"></span></span>（<span class="ff1f">exponential<span class="_ _a"> </span>notation</span>）<span class="_ _0"></span>中，<span class="ff22">e<span class="_ _a"> </span></span>或者<span class="_ _10"> </span><span class="ff22">E<span class="_ _a"> </span></span>可<span class="_ _0"></span>以被<span class="_ _0"></span>解<span class="_ _0"></span>读为<span class="_ _0"></span>“乘以<span class="_ _a"> </span><span class="ff2d">10<span class="_ _10"> </span></span>的<span class="_ _0"></span>几次<span class="_ _0"></span>方”<span class="_ _42"></span>。</div><div class="t m0 x2a h1f y305 ff1d fsf fc5 sc0 ls1 ws1">因而<span class="_ _e"> </span><span class="ff22">1.4e6<span class="_ _a"> </span></span>可以被解释成<span class="_ _e"> </span><span class="ff2d">1<span class="ff25">.</span>4<span class="_ _5f"> </span><span class="ff2e">×<span class="_ _5f"> </span></span>10</span></div><div class="t m0 x3b h39 y306 ff2f fs10 fc5 sc0 ls1 ws1">6</div><div class="t m0 x63 h1f y305 ff1d fsf fc5 sc0 ls1 ws1">。</div><div class="t m0 x1a h1f y307 ff1d fsf fc5 sc0 ls1 ws1">一个整数可以用<span class="_ _e"> </span><span class="ff22">float<span class="_ _a"> </span></span>的<span class="ff1e">构造函数</span>（<span class="ff1f">constructor</span>）来显式地转换为一个浮点数：</div><div class="t m0 x36 h27 y153 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[7]:<span class="_ _3"> </span><span class="fc9">float<span class="fc5">(<span class="fcb">1</span>)</span></span></div><div class="t m0 x36 h27 y155 ff22 fsf fc14 sc0 ls1 ws1">Out[7]:<span class="_ _3"> </span><span class="fc5">1.0</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf26" class="pf w3 h1b" data-page-no="26"><div class="pc pc26 w3 h1b"><img class="bi x2a y308 w4 h40" alt="" src="bg26.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">6.2.<span class="_ _2c"> </span><span class="ff1e">浮点数<span class="_ _68"> </span><span class="ff1f">29</span></span></div><div class="t m0 x2a h25 y309 ff19 fse fc5 sc0 ls1 ws1">6.2.1<span class="_ _3c"> </span><span class="ff1a">浮点数精度</span></div><div class="t m0 x1a h1f y30a ff1d fsf fc5 sc0 ls1 ws1">在浮点数<span class="_ _0"></span>的计算中<span class="_ _0"></span>需要注意<span class="_ _0"></span>的一点是它<span class="_ _0"></span>的小数部<span class="_ _0"></span>分精度<span class="ff1a">有<span class="_ _0"></span>限</span>，因而有可<span class="_ _0"></span>能导致在<span class="_ _0"></span>进行<span class="ff1a">等于</span></div><div class="t m0 x2a h1f y30b ff1d fsf fc5 sc0 ls1 ws1">比较的时候结果不稳定。例如：</div><div class="t m0 x36 h27 y30c ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[8]:<span class="_ _3"> </span><span class="fcb">0.1<span class="_ _3"> </span>+<span class="_ _3"> </span>0.2<span class="_ _2"> </span>==<span class="_ _3"> </span>0.3</span></div><div class="t m0 x36 h27 y30d ff22 fsf fc14 sc0 ls1 ws1">Out[8]:<span class="_ _3"> </span><span class="fc5">False</span></div><div class="t m0 x1a h1f y30e ff1d fsf fc5 sc0 ls1 ws1">为什<span class="_ _0"></span>么会这<span class="_ _0"></span>样呢？事<span class="_ _0"></span>实上这<span class="_ _0"></span>不是<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>一种语<span class="_ _0"></span>言中存<span class="_ _0"></span>在的问<span class="_ _0"></span>题，而是<span class="_ _0"></span>因为大<span class="_ _0"></span>多数科<span class="_ _0"></span>学计</div><div class="t m0 x2a h1f y30f ff1d fsf fc5 sc0 ls1 ws1">算平台<span class="_ _0"></span>都采用固定<span class="_ _0"></span>精度的格<span class="_ _0"></span>式来存储二<span class="_ _0"></span>进制浮点数。<span class="_ _0"></span>所有使用浮<span class="_ _0"></span>点数的编程<span class="_ _0"></span>语言都使<span class="_ _0"></span>用固定的</div><div class="t m0 x2a h1f y310 ff1d fsf fc5 sc0 ls1 ws1">位数来<span class="_ _0"></span>存放这些<span class="_ _0"></span>浮点数，这就<span class="_ _0"></span>导致只能表<span class="_ _0"></span>示出某些数<span class="_ _0"></span>字的大约<span class="_ _0"></span>的值。我们<span class="_ _0"></span>可以通过输<span class="_ _0"></span>出这三个</div><div class="t m0 x2a h1f y311 ff1d fsf fc5 sc0 ls1 ws1">数字的高精度形式来发现这一点：</div><div class="t m0 x36 h27 y312 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[9]:<span class="_ _3"> </span><span class="fc9">print<span class="fc5">(<span class="fc11">&quot;0.1<span class="_ _3"> </span>=<span class="_ _3"> </span><span class="ff29 fc15">{0:.17f}</span>&quot;<span class="fcb">.</span></span>format(<span class="fcb">0.1</span>))</span></span></div><div class="t m0 x46 h27 y313 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;0.2<span class="_ _3"> </span>=<span class="_ _3"> </span><span class="ff29 fc15">{0:.17f}</span>&quot;<span class="fcb">.</span></span>format(<span class="fcb">0.2</span>))</span></div><div class="t m0 x46 h27 y314 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;0.3<span class="_ _3"> </span>=<span class="_ _3"> </span><span class="ff29 fc15">{0:.17f}</span>&quot;<span class="fcb">.</span></span>format(<span class="fcb">0.3</span>))</span></div><div class="t m0 x36 h27 y315 ff22 fsf fc5 sc0 ls1 ws1">0.1<span class="_ _3"> </span>=<span class="_ _3"> </span>0.10000000000000001</div><div class="t m0 x36 h27 y316 ff22 fsf fc5 sc0 ls1 ws1">0.2<span class="_ _3"> </span>=<span class="_ _3"> </span>0.20000000000000001</div><div class="t m0 x36 h27 y317 ff22 fsf fc5 sc0 ls1 ws1">0.3<span class="_ _3"> </span>=<span class="_ _3"> </span>0.29999999999999999</div><div class="t m0 x1a h1f y318 ff1d fsf fc5 sc0 ls1 ws1">我们<span class="_ _0"></span>已经<span class="_ _0"></span>习惯<span class="_ _0"></span>了十<span class="_ _0"></span>进制<span class="_ _0"></span>下的小<span class="_ _0"></span>数表示<span class="_ _0"></span>方式，<span class="_ _0"></span>因而<span class="_ _0"></span>所有<span class="_ _0"></span>的分数<span class="_ _0"></span>都必<span class="_ _0"></span>须被表<span class="_ _0"></span>示成<span class="_ _a"> </span><span class="ff2d">10<span class="_ _a"> </span></span>的<span class="_ _0"></span>幂次<span class="_ _0"></span>的</div><div class="t m0 x2a h1f y319 ff1d fsf fc5 sc0 ls1 ws1">形式：</div><div class="t m0 xf h22 y31a ff2d fsf fc5 sc0 ls1 ws1">1</div><div class="t m0 xf h22 y31b ff2d fsf fc5 sc0 ls1 ws1">8</div><div class="t m0 x64 h22 y31c ff2d fsf fc5 sc0 ls1 ws1">=<span class="_ _35"> </span>1<span class="_ _5f"> </span><span class="ff2e">·<span class="_ _5f"> </span></span>10</div><div class="t m0 x29 h39 y31d ff30 fs10 fc5 sc0 ls1 ws1">−<span class="ff2f">1</span></div><div class="t m0 x65 h22 y31c ff2d fsf fc5 sc0 ls1 ws1">+<span class="_ _5f"> </span>2<span class="_ _5f"> </span><span class="ff2e">·<span class="_ _5f"> </span></span>10</div><div class="t m0 x66 h39 y31d ff30 fs10 fc5 sc0 ls1 ws1">−<span class="ff2f">2</span></div><div class="t m0 x67 h22 y31c ff2d fsf fc5 sc0 ls1 ws1">+<span class="_ _5f"> </span>5<span class="_ _5f"> </span><span class="ff2e">·<span class="_ _5f"> </span></span>10</div><div class="t m0 x21 h39 y31d ff30 fs10 fc5 sc0 ls1 ws1">−<span class="ff2f">3</span></div><div class="t m0 x2a h1f y31e ff1d fsf fc5 sc0 ls1 ws1">在十进制下，我们将其表达成熟悉的小数形式：<span class="ff2d">0<span class="ff25">.</span>125</span>。</div><div class="t m0 x1a h1f y31f ff1d fsf fc5 sc0 ls1 ws1">计算机通常将数值用二进制的方式存储，因而每一个数字又被表示成<span class="_ _e"> </span><span class="ff2d">2<span class="_ _a"> </span></span>的不同幂次的和：</div><div class="t m0 x4 h22 y320 ff2d fsf fc5 sc0 ls1 ws1">1</div><div class="t m0 x4 h22 y321 ff2d fsf fc5 sc0 ls1 ws1">8</div><div class="t m0 x68 h22 y322 ff2d fsf fc5 sc0 ls1 ws1">=<span class="_ _35"> </span>0<span class="_ _5f"> </span><span class="ff2e">·<span class="_ _5f"> </span></span>2</div><div class="t m0 x69 h39 y323 ff30 fs10 fc5 sc0 ls1 ws1">−<span class="ff2f">1</span></div><div class="t m0 x6a h22 y322 ff2d fsf fc5 sc0 ls1 ws1">+<span class="_ _5f"> </span>0<span class="_ _5f"> </span><span class="ff2e">·<span class="_ _5f"> </span></span>2</div><div class="t m0 x41 h39 y323 ff30 fs10 fc5 sc0 ls1 ws1">−<span class="ff2f">2</span></div><div class="t m0 x6b h22 y322 ff2d fsf fc5 sc0 ls1 ws1">+<span class="_ _5f"> </span>1<span class="_ _5f"> </span><span class="ff2e">·<span class="_ _5f"> </span></span>2</div><div class="t m0 x6c h39 y323 ff30 fs10 fc5 sc0 ls1 ws1">−<span class="ff2f">3</span></div><div class="t m0 x2a h1f y324 ff1d fsf fc5 sc0 ls1 ws1">在二<span class="_ _0"></span>进制中，<span class="_ _0"></span>我们<span class="_ _0"></span>把它写<span class="_ _0"></span>作<span class="_ _a"> </span><span class="ff2d">0<span class="ff25">.</span>001</span></div><div class="t m0 x6d h39 y325 ff2f fs10 fc5 sc0 ls1 ws1">2</div><div class="t m0 x68 h1f y324 ff1d fsf fc5 sc0 ls1 ws1">，其<span class="_ _0"></span>中</div><div class="t m0 x6e h39 y325 ff2f fs10 fc5 sc0 ls1 ws1">2</div><div class="t m0 x6a h1f y324 ff1d fsf fc5 sc0 ls1 ws1">的下<span class="_ _0"></span>标作为<span class="_ _0"></span>二进<span class="_ _0"></span>制的标<span class="_ _0"></span>识。<span class="ff2d">0<span class="ff25">.</span>125<span class="_ _38"> </span>=<span class="_ _a"> </span>0<span class="ff25">.</span>001</span></div><div class="t m0 x6f h39 y325 ff2f fs10 fc5 sc0 ls1 ws1">2</div><div class="t m0 x70 h1f y324 ff1d fsf fc5 sc0 ls1 ws1">这一<span class="_ _0"></span>等</div><div class="t m0 x2a h1f y326 ff1d fsf fc5 sc0 ls1 ws1">式通常意味着数字可以同时在二进制和十进制下被表示成有限位的数字。</div><div class="t m0 x1a h1f y327 ff1d fsf fc5 sc0 ls1 ws1">在熟悉<span class="_ _0"></span>的十进制<span class="_ _0"></span>中，你可能<span class="_ _0"></span>会遇到数<span class="_ _0"></span>字无法被表<span class="_ _0"></span>达成有限<span class="_ _0"></span>数字的形<span class="_ _0"></span>式。比如，<span class="ff2d">1<span class="_ _a"> </span></span>除以<span class="_ _a"> </span><span class="ff2d">3<span class="_ _a"> </span></span>的</div><div class="t m0 x2a h1f y328 ff1d fsf fc5 sc0 ls1 ws1">结果在标准十进制表示中为：</div><div class="t m0 x71 h22 y329 ff2d fsf fc5 sc0 ls1 ws1">1</div><div class="t m0 x71 h22 y32a ff2d fsf fc5 sc0 ls1 ws1">3</div><div class="t m0 x72 h22 y32b ff2d fsf fc5 sc0 ls1 ws1">=<span class="_ _35"> </span>0<span class="ff25">.</span>333333333<span class="_ _4b"> </span><span class="ff2e">·<span class="_ _4b"> </span>·<span class="_ _4b"> </span>·</span></div><div class="t m0 x2a h1f y32c ff1d fsf fc5 sc0 ls1 ws1">小数末尾的<span class="_ _e"> </span><span class="ff2d">3<span class="_ _a"> </span></span>将一直循环下去：也就是说，这个除法的商需要用无限的数字来表示！</div><div class="t m0 x1a h1f y32d ff1d fsf fc5 sc0 ls1 ws1">类似地，同样存在数字在二进制下需要用无限的数字来表示。比如：</div><div class="t m0 x73 h22 y32e ff2d fsf fc5 sc0 ls1 ws1">1</div><div class="t m0 x74 h22 y32f ff2d fsf fc5 sc0 ls1 ws1">10</div><div class="t m0 x68 h22 y330 ff2d fsf fc5 sc0 ls1 ws1">=<span class="_ _35"> </span>0<span class="ff25">.</span>00011001100110011<span class="_ _4b"> </span><span class="ff2e">·<span class="_ _4b"> </span>·<span class="_ _4b"> </span>·</span></div><div class="t m0 x75 h39 y331 ff2f fs10 fc5 sc0 ls1 ws1">2</div><div class="t m0 x2a h1f y1b2 ff1d fsf fc5 sc0 ls1 ws1">就<span class="_ _0"></span>像小<span class="_ _0"></span>数<span class="_ _a"> </span><span class="ff2d">1/3<span class="_ _a"> </span></span>需<span class="_ _0"></span>要无<span class="_ _0"></span>限的<span class="_ _0"></span>数字<span class="_ _0"></span>才<span class="_ _0"></span>能完<span class="_ _0"></span>全正<span class="_ _0"></span>确地表<span class="_ _0"></span>示<span class="_ _0"></span>出来，<span class="ff2d">1/10<span class="_ _a"> </span></span>在<span class="_ _0"></span>二进<span class="_ _0"></span>制<span class="_ _0"></span>下也<span class="_ _0"></span>需要<span class="_ _0"></span>无限<span class="_ _0"></span>的数<span class="_ _0"></span>字</div><div class="t m0 x2a h1f yd4 ff1d fsf fc5 sc0 ls1 ws1">来表示。<span class="_ _9"></span><span class="ff1f">Python<span class="_ _e"> </span><span class="ff1d">在内部截断了这些小数位数，<span class="_ _5"></span>在大多数系统中通常保留为从第一个不为零的数</span></span></div><div class="t m0 x2a h1f yd5 ff1d fsf fc5 sc0 ls1 ws1">字开始至多<span class="_ _e"> </span><span class="ff2d">52<span class="_ _a"> </span></span>位的数字。</div><div class="t m0 x1a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">这个由<span class="_ _0"></span>于精度引<span class="_ _0"></span>发的错误<span class="_ _0"></span>是使用浮点<span class="_ _0"></span>数时不可<span class="_ _0"></span>避免的。最好<span class="_ _0"></span>的解决办<span class="_ _0"></span>法是作为<span class="_ _0"></span>程序员，始</div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">终意识到浮点计算的表达是并不精确的，同时<span class="ff1a">绝不</span>依赖完全相等来比较浮点数的值。</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf27" class="pf w3 h1b" data-page-no="27"><div class="pc pc27 w3 h1b"><img class="bi x2a y332 w4 h41" alt="" src="bg27.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">30<span class="_ _67"> </span><span class="ff24">6.<span class="_ _2c"> </span><span class="ff1e">内置类型：简单变量类型</span></span></div><div class="t m0 x2a h23 yf7 ff19 fsd fc5 sc0 ls1 ws1">6.3<span class="_ _15"> </span><span class="ff1a">复数</span></div><div class="t m0 x1a h1f y333 ff1e fsf fc5 sc0 ls1 ws1">复<span class="_ _0"></span>数<span class="_ _0"></span><span class="ff1d">（<span class="ff1f">complex<span class="_ _a"> </span>num<span class="_ _4"></span>b er<span class="ff1d">）<span class="_ _0"></span>是<span class="_ _0"></span>有<span class="_ _0"></span>着<span class="ff1e">实<span class="_ _0"></span>部<span class="_ _0"></span></span>（</span>real<span class="_ _10"> </span>part<span class="ff1d">）<span class="_ _0"></span>和<span class="ff1e">虚<span class="_ _0"></span>部</span>（</span>imaginary<span class="_ _10"> </span>part<span class="ff1d">）<span class="_ _37"></span>（浮<span class="_ _0"></span>点表<span class="_ _0"></span>示）</span></span></span></div><div class="t m0 x2a h1f y334 ff1d fsf fc5 sc0 ls1 ws1">的数字。我们之前已经介绍过了整数和实数，我们可以用它们来构造一个复数：</div><div class="t m0 x36 h27 y335 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[10]:<span class="_ _3"> </span><span class="fc9">complex<span class="fc5">(<span class="fcb">1</span>,<span class="_ _3"> </span><span class="fcb">2</span>)</span></span></div><div class="t m0 x36 h27 y336 ff22 fsf fc14 sc0 ls1 ws1">Out[10]:<span class="_ _3"> </span><span class="fc5">(1+2j)</span></div><div class="t m0 x1a h1f y337 ff1d fsf fc5 sc0 ls1 ws1">我们也可以选择用添加后缀<span class="_ _e"> </span><span class="ff22">j<span class="_ _a"> </span></span>来表示复数的虚部：</div><div class="t m0 x36 h27 y338 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[11]:<span class="_ _3"> </span><span class="fcb">1<span class="_ _3"> </span>+<span class="_ _3"> </span>2<span class="fc5">j</span></span></div><div class="t m0 x36 h27 y339 ff22 fsf fc14 sc0 ls1 ws1">Out[11]:<span class="_ _3"> </span><span class="fc5">(1+2j)</span></div><div class="t m0 x1a h1f y33a ff1d fsf fc5 sc0 ls1 ws1">复数有着许多有趣的属性和方法，我们将在这里进行简单的介绍：</div><div class="t m0 x36 h27 y33b ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[12]:<span class="_ _3"> </span><span class="fc5">c<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>3<span class="_ _2"> </span>+<span class="_ _3"> </span>4</span>j</span></div><div class="t m0 x36 h21 y33c ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[13]:<span class="_ _3"> </span><span class="fc5">c<span class="fcb">.</span>real<span class="_ _13"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">实部</span></span></span></div><div class="t m0 x36 h27 y33d ff22 fsf fc14 sc0 ls1 ws1">Out[13]:<span class="_ _3"> </span><span class="fc5">3.0</span></div><div class="t m0 x36 h21 y33e ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[14]:<span class="_ _3"> </span><span class="fc5">c<span class="fcb">.</span>imag<span class="_ _13"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">虚部</span></span></span></div><div class="t m0 x36 h27 y33f ff22 fsf fc14 sc0 ls1 ws1">Out[14]:<span class="_ _3"> </span><span class="fc5">4.0</span></div><div class="t m0 x36 h21 y340 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[15]:<span class="_ _3"> </span><span class="fc5">c<span class="fcb">.</span>conjugate()<span class="_ _13"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">共轭复数</span></span></span></div><div class="t m0 x36 h27 y341 ff22 fsf fc14 sc0 ls1 ws1">Out[15]:<span class="_ _3"> </span><span class="fc5">(3-4j)</span></div><div class="t m0 x36 h21 y342 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[16]:<span class="_ _3"> </span><span class="fc9">abs<span class="fc5">(c)<span class="_ _13"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">模，即<span class="_ _3"> </span></span>sqrt(c.real<span class="_ _3"> </span>**<span class="_ _3"> </span>2<span class="_ _3"> </span>+<span class="_ _3"> </span>c.imag<span class="_ _3"> </span>**<span class="_ _3"> </span>2)</span></span></span></div><div class="t m0 x36 h27 y343 ff22 fsf fc14 sc0 ls1 ws1">Out[16]:<span class="_ _3"> </span><span class="fc5">5.0</span></div><div class="t m0 x2a h23 y344 ff19 fsd fc5 sc0 ls1 ws1">6.4<span class="_ _15"> </span><span class="ff1a">字符串类型</span></div><div class="t m0 x1a h1f y345 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _e"> </span><span class="ff1d">中用单引号或双引号创建字符串：</span></div><div class="t m0 x36 h27 y346 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[17]:<span class="_ _3"> </span><span class="fc5">message<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fc11">&quot;what<span class="_ _2"> </span>do<span class="_ _3"> </span>you<span class="_ _3"> </span>like?&quot;</span></span></span></div><div class="t m0 x51 h27 y347 ff22 fsf fc5 sc0 ls1 ws1">response<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">spam</span>&apos;</span></span></div><div class="t m0 x1a h1f y7c ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _e"> </span><span class="ff1d">有着许多方便的字符串处理函数；下面是其中一些的介绍：</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf28" class="pf w3 h1b" data-page-no="28"><div class="pc pc28 w3 h1b"><img class="bi x2a y348 w4 h42" alt="" src="bg28.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">6.5.<span class="_ _2c"> </span><span class="ff31">NONE<span class="_ _a"> </span><span class="ff1e">类型<span class="_ _69"> </span><span class="ff1f">31</span></span></span></div><div class="t m0 x36 h21 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[18]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">字符串长度</span></span></div><div class="t m0 x51 h27 y137 ff22 fsf fc9 sc0 ls1 ws1">len<span class="fc5">(response)</span></div><div class="t m0 x36 h27 y257 ff22 fsf fc14 sc0 ls1 ws1">Out[18]:<span class="_ _3"> </span><span class="fc5">4</span></div><div class="t m0 x36 h21 y13a ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[19]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">大写转换。同样还有小写转换：</span>str.lower()</span></div><div class="t m0 x51 h27 y13b ff22 fsf fc5 sc0 ls1 ws1">response<span class="fcb">.</span>upper()</div><div class="t m0 x36 h27 y13d ff22 fsf fc14 sc0 ls1 ws1">Out[19]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">SPAM</span>&apos;</span></div><div class="t m0 x36 h21 y13e ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[20]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">首字母大写。</span>str.title()<span class="_ _3"> </span><span class="ff1e">有同样的功能</span></span></div><div class="t m0 x51 h27 y349 ff22 fsf fc5 sc0 ls1 ws1">message<span class="fcb">.</span>capitalize()</div><div class="t m0 x36 h27 y34a ff22 fsf fc14 sc0 ls1 ws1">Out[20]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">What<span class="_ _3"> </span>do<span class="_ _3"> </span>you<span class="_ _3"> </span>like?</span>&apos;</span></div><div class="t m0 x36 h21 y34b ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[21]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">用<span class="_ _3"> </span></span>+<span class="_ _2"> </span><span class="ff1e">连接</span></span></div><div class="t m0 x51 h27 y34c ff22 fsf fc5 sc0 ls1 ws1">message<span class="_ _3"> </span><span class="fcb">+<span class="_ _3"> </span></span>response</div><div class="t m0 x36 h27 y34d ff22 fsf fc14 sc0 ls1 ws1">Out[21]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">what<span class="_ _3"> </span>do<span class="_ _3"> </span>you<span class="_ _3"> </span>like?spam</span>&apos;</span></div><div class="t m0 x36 h21 y34e ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[22]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">乘法意味着自身多次连接</span></span></div><div class="t m0 x51 h27 y34f ff22 fsf fcb sc0 ls1 ws1">5<span class="_ _3"> </span>*<span class="_ _3"> </span><span class="fc5">response</span></div><div class="t m0 x36 h27 y350 ff22 fsf fc14 sc0 ls1 ws1">Out[22]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">spamspamspamspamspam</span>&apos;</span></div><div class="t m0 x36 h21 y351 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[23]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">任意访问单个字符（下标从<span class="_ _3"> </span></span>0<span class="_ _2"> </span><span class="ff1e">开始）</span></span></div><div class="t m0 x51 h27 y352 ff22 fsf fc5 sc0 ls1 ws1">message[<span class="fcb">0</span>]</div><div class="t m0 x36 h27 y353 ff22 fsf fc14 sc0 ls1 ws1">Out[23]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">w</span>&apos;</span></div><div class="t m0 x1a h1f y354 ff1d fsf fc5 sc0 ls1 ws1">更多关于下标的讨论，详见后续章节：第<span class="_ _e"> </span><span class="ff1f fc6">7.1<span class="_ _a"> </span></span>节<span class="fc6">列表</span>。</div><div class="t m0 x2a h23 y355 ff19 fsd fc5 sc0 ls1 ws1">6.5<span class="_ _15"> </span><span class="ff29">None<span class="_ _3"> </span><span class="ff1a">类型</span></span></div><div class="t m0 x1a h1f y356 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _e"> </span><span class="ff1d">包括一个特殊的类型：<span class="ff22">NoneType</span>。它只有一个值：<span class="ff22">None</span>。例如：</span></div><div class="t m0 x36 h27 y357 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[24]:<span class="_ _3"> </span><span class="fc9">type<span class="fc5">(</span><span class="ff29">None</span><span class="fc5">)</span></span></div><div class="t m0 x36 h27 y358 ff22 fsf fc14 sc0 ls1 ws1">Out[24]:<span class="_ _3"> </span><span class="fc5">NoneType</span></div><div class="t m0 x1a h1f yd5 ff1d fsf fc5 sc0 ls1 ws1">你<span class="_ _0"></span>会<span class="_ _0"></span>发<span class="_ _0"></span>现<span class="_ _3b"> </span><span class="ff22">None<span class="_ _10"> </span></span>被<span class="_ _0"></span>使<span class="_ _0"></span>用<span class="_ _f"></span>在<span class="_ _0"></span>很<span class="_ _0"></span>多<span class="_ _0"></span>地<span class="_ _0"></span>方，<span class="_ _0"></span>不<span class="_ _f"></span>过<span class="_ _0"></span>最<span class="_ _0"></span>常<span class="_ _0"></span>见<span class="_ _0"></span>的<span class="_ _f"></span>还<span class="_ _0"></span>是<span class="_ _0"></span>被<span class="_ _0"></span>用<span class="_ _0"></span>作<span class="_ _f"></span>一<span class="_ _0"></span>个函<span class="_ _0"></span>数<span class="_ _0"></span>返<span class="_ _0"></span>回<span class="_ _f"></span>值<span class="_ _0"></span>的<span class="ff1e">默<span class="_ _0"></span>认<span class="_ _0"></span>值</span></div><div class="t m0 x50 h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">（<span class="ff1f">default<span class="_ _e"> </span>v<span class="_ _4"></span>alue<span class="ff1d">）<span class="_ _39"></span>。例如，<span class="ff1f">Python<span class="_ _a"> </span>3<span class="_ _e"> </span></span>中的<span class="_ _e"> </span><span class="ff22">print()<span class="_ _a"> </span></span>函数不会返回任何值，但我们依然可以得到它</span></span></div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">的值：</div><a class="l" href="#pf2c" data-dest-detail='[44,"XYZ",72,435.51,null]'><div class="d m7" style="border-style:none;position:absolute;left:293.818000px;bottom:257.544000px;width:13.939000px;height:6.869000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2c" data-dest-detail='[44,"XYZ",72,435.51,null]'><div class="d m7" style="border-style:none;position:absolute;left:322.303000px;bottom:254.433000px;width:21.818000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf29" class="pf w3 h1b" data-page-no="29"><div class="pc pc29 w3 h1b"><img class="bi x2a y7c w4 h2c" alt="" src="bg29.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">32<span class="_ _67"> </span><span class="ff24">6.<span class="_ _2c"> </span><span class="ff1e">内置类型：简单变量类型</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[25]:<span class="_ _3"> </span><span class="fc5">return_value<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fc9">print</span></span>(<span class="ff2a fc11">&apos;<span class="ff22">abc</span>&apos;</span>)</span></div><div class="t m0 x36 h27 y138 ff22 fsf fc5 sc0 ls1 ws1">abc</div><div class="t m0 x36 h27 y139 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[26]:<span class="_ _3"> </span><span class="fc9">print<span class="fc5">(return_value)</span></span></div><div class="t m0 x36 h27 y13b ff22 fsf fc5 sc0 ls1 ws1">None</div><div class="t m0 x1a h1f y359 ff1d fsf fc5 sc0 ls1 ws1">同样地，<span class="ff1f">Python<span class="_ _e"> </span></span>中所有没有返回值的函数都会事实上返回<span class="_ _a"> </span><span class="ff22">None</span>。</div><div class="t m0 x2a h23 y35a ff19 fsd fc5 sc0 ls1 ws1">6.6<span class="_ _15"> </span><span class="ff1a">布尔类型</span></div><div class="t m0 x1a h1f y35b ff1d fsf fc5 sc0 ls1 ws1">布尔类<span class="_ _0"></span>型是一种简<span class="_ _0"></span>单的类型，<span class="_ _0"></span>它只拥有<span class="_ _a"> </span><span class="ff22">True<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff22">False<span class="_ _a"> </span></span>两种<span class="_ _0"></span>值，它由之<span class="_ _0"></span>前提到的比较<span class="_ _0"></span>运算</div><div class="t m0 x2a h1f y35c ff1d fsf fc5 sc0 ls1 ws1">符得到：</div><div class="t m0 x36 h27 y35d ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[27]:<span class="_ _3"> </span><span class="fc5">result<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>(<span class="fcb">4<span class="_ _2"> </span>&lt;<span class="_ _3"> </span>5</span>)</span></div><div class="t m0 x51 h27 y35e ff22 fsf fc5 sc0 ls1 ws1">result</div><div class="t m0 x36 h27 y35f ff22 fsf fc14 sc0 ls1 ws1">Out[27]:<span class="_ _3"> </span><span class="fc5">True</span></div><div class="t m0 x36 h27 y360 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[28]:<span class="_ _3"> </span><span class="fc9">type<span class="fc5">(result)</span></span></div><div class="t m0 x36 h27 y361 ff22 fsf fc14 sc0 ls1 ws1">Out[28]:<span class="_ _3"> </span><span class="fc5">bool</span></div><div class="t m0 x1a h1f y362 ff1d fsf fc5 sc0 ls1 ws1">注意布尔类型是大小写敏感的：<span class="_ _3f"></span>不像其它语言，<span class="_ _3f"></span><span class="ff1f">Python<span class="_ _e"> </span><span class="ff1d">中<span class="_ _38"> </span><span class="ff22">True<span class="_ _e"> </span></span>和<span class="_ _38"> </span><span class="ff22">False<span class="_ _38"> </span></span>必须<span class="ff1a">首字母大写</span>！</span></span></div><div class="t m0 x36 h27 y363 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[29]:<span class="_ _3"> </span><span class="fc9">print<span class="fc5">(</span><span class="ff29">True</span><span class="fc5">,<span class="_ _3"> </span></span><span class="ff29">False</span><span class="fc5">)</span></span></div><div class="t m0 x36 h27 y364 ff22 fsf fc5 sc0 ls1 ws1">True<span class="_ _3"> </span>False</div><div class="t m0 x1a h1f y365 ff1d fsf fc5 sc0 ls1 ws1">布尔<span class="_ _0"></span>类型变<span class="_ _0"></span>量同样<span class="_ _0"></span>可以<span class="_ _0"></span>用<span class="_ _a"> </span><span class="ff22">bool()<span class="_ _a"> </span></span>来构造：<span class="_ _0"></span>其它类<span class="_ _0"></span>型的变<span class="_ _0"></span>量可以<span class="_ _0"></span>通过<span class="_ _0"></span>预设的<span class="_ _0"></span>规则<span class="_ _0"></span>进行<span class="ff1e">类型</span></div><div class="t m0 x2a h1f y366 ff1e fsf fc5 sc0 ls1 ws1">转换<span class="ff1d">（<span class="ff1f">t<span class="_ _4"></span>yp<span class="_ _0"></span>e<span class="_ _e"> </span>conv<span class="_ _5"></span>ersion<span class="ff1d">）<span class="_ _c"></span>。例如，所有的数字类型将<span class="_ _a"> </span><span class="ff2d">0<span class="_ _e"> </span></span>视作<span class="_ _a"> </span><span class="ff22">False</span>，其余则为<span class="_ _e"> </span><span class="ff22">True</span>：</span></span></span></div><div class="t m0 x36 h27 y367 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[30]:<span class="_ _3"> </span><span class="fc9">bool<span class="fc5">(<span class="fcb">2014</span>)</span></span></div><div class="t m0 x36 h27 y368 ff22 fsf fc14 sc0 ls1 ws1">Out[30]:<span class="_ _3"> </span><span class="fc5">True</span></div><div class="t m0 x36 h27 y153 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[31]:<span class="_ _3"> </span><span class="fc9">bool<span class="fc5">(<span class="fcb">0</span>)</span></span></div><div class="t m0 x36 h27 y155 ff22 fsf fc14 sc0 ls1 ws1">Out[31]:<span class="_ _3"> </span><span class="fc5">False</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf2a" class="pf w3 h1b" data-page-no="2a"><div class="pc pc2a w3 h1b"><img class="bi x2a y369 w4 h43" alt="" src="bg2a.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">6.6.<span class="_ _2c"> </span><span class="ff1e">布尔类型<span class="_ _6a"> </span><span class="ff1f">33</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[32]:<span class="_ _3"> </span><span class="fc9">bool<span class="fc5">(<span class="fcb">3.1415</span>)</span></span></div><div class="t m0 x36 h27 y138 ff22 fsf fc14 sc0 ls1 ws1">Out[32]:<span class="_ _3"> </span><span class="fc5">True</span></div><div class="t m0 x1a h1f y272 ff22 fsf fc5 sc0 ls1 ws1">None<span class="_ _e"> </span><span class="ff1d">的布尔值永远是<span class="_ _a"> </span></span>False<span class="ff1d">：</span></div><div class="t m0 x36 h27 y36a ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[33]:<span class="_ _3"> </span><span class="fc9">bool<span class="fc5">(</span><span class="ff29">None</span><span class="fc5">)</span></span></div><div class="t m0 x36 h27 y36b ff22 fsf fc14 sc0 ls1 ws1">Out[33]:<span class="_ _3"> </span><span class="fc5">False</span></div><div class="t m0 x1a h1f y36c ff1d fsf fc5 sc0 ls1 ws1">对字符串来说，如果字符串为空串，则<span class="_ _e"> </span><span class="ff22">bool(s)<span class="_ _a"> </span></span>为假，否则为真：</div><div class="t m0 x36 h27 y36d ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[34]:<span class="_ _3"> </span><span class="fc9">bool<span class="fc5">(<span class="fc11">&quot;&quot;</span>)</span></span></div><div class="t m0 x36 h27 y36e ff22 fsf fc14 sc0 ls1 ws1">Out[34]:<span class="_ _3"> </span><span class="fc5">False</span></div><div class="t m0 x36 h27 y36f ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[35]:<span class="_ _3"> </span><span class="fc9">bool<span class="fc5">(<span class="fc11">&quot;abc&quot;</span>)</span></span></div><div class="t m0 x36 h27 y370 ff22 fsf fc14 sc0 ls1 ws1">Out[35]:<span class="_ _3"> </span><span class="fc5">True</span></div><div class="t m0 x1a h1f y371 ff1d fsf fc5 sc0 ls1 ws1">对序列而言，我们会在下一节看到，空序列的布尔值为<span class="_ _e"> </span><span class="ff22">False</span>，其余则为<span class="_ _a"> </span><span class="ff22">True</span>：</div><div class="t m0 x36 h27 y372 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[36]:<span class="_ _3"> </span><span class="fc9">bool<span class="fc5">([<span class="fcb">1</span>,<span class="_ _3"> </span><span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">3</span>])</span></span></div><div class="t m0 x36 h27 y373 ff22 fsf fc14 sc0 ls1 ws1">Out[36]:<span class="_ _3"> </span><span class="fc5">True</span></div><div class="t m0 x36 h27 y374 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[37]:<span class="_ _3"> </span><span class="fc9">bool<span class="fc5">([])</span></span></div><div class="t m0 x36 h27 y375 ff22 fsf fc14 sc0 ls1 ws1">Out[37]:<span class="_ _3"> </span><span class="fc5">False</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf2b" class="pf w3 h1b" data-page-no="2b"><div class="pc pc2b w3 h1b"></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf2c" class="pf w3 h1b" data-page-no="2c"><div class="pc pc2c w3 h1b"><img class="bi x2a y1f9 w4 h44" alt="" src="bg2c.png"/><div class="t m0 x31 h1c y3f ff1a fsc fc5 sc0 ls1 ws1">第<span class="_ _7"> </span><span class="ff19">7<span class="_ _7"> </span></span>章<span class="_ _33"> </span>内置数据结构</div><div class="t m0 x1a h1f y240 ff1d fsf fc5 sc0 ls1 ws1">我们<span class="_ _0"></span>已经了解<span class="_ _0"></span>了<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>的一<span class="_ _0"></span>些基本数<span class="_ _0"></span>据类型：<span class="ff22">int</span>、<span class="ff22">float</span>、<span class="ff22">complex</span>、<span class="ff22">bool</span>、<span class="ff22">str<span class="_ _a"> </span></span>等等。</div><div class="t m0 x2a h1f y241 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _e"> </span><span class="ff1d">同样也拥有一些内置的复合类型作为其它类型的容器。这些复合类型有：</span></div><div class="t m0 x76 h20 y376 ff1a fsf fc5 sc0 ls1 ws1">类型名<span class="_ _5c"> </span>举例<span class="_ _6b"> </span>描述</div><div class="t m0 x76 h1f y377 ff22 fsf fc5 sc0 ls1 ws1">list<span class="_ _6c"> </span>[1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3]<span class="_ _6d"> </span><span class="ff1d">列表，有序集合</span></div><div class="t m0 x76 h1f y378 ff22 fsf fc5 sc0 ls1 ws1">tuple<span class="_ _15"> </span>(1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3)<span class="_ _6d"> </span><span class="ff1d">元组，不可变的有序集合</span></div><div class="t m0 x76 h1f y379 ff22 fsf fc5 sc0 ls1 ws1">dict<span class="_ _6c"> </span>{<span class="ff2a">&apos;</span>a<span class="ff2a">&apos;</span>:1,<span class="_ _3"> </span><span class="ff2a">&apos;</span>b<span class="ff2a">&apos;</span>:2,<span class="_ _3"> </span><span class="ff2a">&apos;</span>c<span class="ff2a">&apos;</span>:3}<span class="_ _44"> </span><span class="ff1d">字典，无序的键值对映射</span></div><div class="t m0 x76 h1f y37a ff22 fsf fc5 sc0 ls1 ws1">set<span class="_ _6e"> </span>{1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3}<span class="_ _6d"> </span><span class="ff1d">集合，具有无序性和唯一性</span></div><div class="t m0 x1a h1f y37b ff1d fsf fc5 sc0 ls1 ws1">正如你<span class="_ _0"></span>所见，圆括<span class="_ _0"></span>号、方括号<span class="_ _0"></span>和大括号<span class="_ _0"></span>对于这些<span class="_ _0"></span>集合类型<span class="_ _0"></span>有着不同<span class="_ _0"></span>的意义。接<span class="_ _0"></span>下来，我们</div><div class="t m0 x2a h1f y37c ff1d fsf fc5 sc0 ls1 ws1">将在这里快速认识这些数据结构。</div><div class="t m0 x2a h23 y37d ff19 fsd fc5 sc0 ls1 ws1">7.1<span class="_ _15"> </span><span class="ff1a">列表</span></div><div class="t m0 x1a h1f y37e ff1e fsf fc5 sc0 ls1 ws1">列表<span class="ff1d">（<span class="ff1f">list</span>）是<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中基本的<span class="ff1a">有序</span>且<span class="ff1a">可变<span class="_ _0"></span></span>的数据集合类型。列表用<span class="_ _0"></span>方括号表示，元素之</span></div><div class="t m0 x2a h1f y37f ff1d fsf fc5 sc0 ls1 ws1">间用逗号隔开。下面是一个包括前几项质数的列表：</div><div class="t m0 x36 h27 y380 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[1]:<span class="_ _3"> </span><span class="fc5">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[<span class="fcb">2</span>,<span class="_ _2"> </span><span class="fcb">3</span>,<span class="_ _3"> </span><span class="fcb">5</span>,<span class="_ _3"> </span><span class="fcb">7</span>]</span></div><div class="t m0 x1a h1f y381 ff1d fsf fc5 sc0 ls1 ws1">列表有着许多方便好用的方法。这里我们将快速介绍那些最普遍和最常用的方法：</div><div class="t m0 x36 h21 y382 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[2]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">列表长度</span></span></div><div class="t m0 x46 h27 y383 ff22 fsf fc9 sc0 ls1 ws1">len<span class="fc5">(L)</span></div><div class="t m0 x36 h27 y384 ff22 fsf fc14 sc0 ls1 ws1">Out[2]:<span class="_ _3"> </span><span class="fc5">4</span></div><div class="t m0 x36 h21 y1ae ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[3]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">在列表尾部添加一个元素</span></span></div><div class="t m0 x46 h27 y1af ff22 fsf fc5 sc0 ls1 ws1">L<span class="fcb">.</span>append(<span class="fcb">11</span>)</div><div class="t m0 x46 h27 y1b0 ff22 fsf fc5 sc0 ls1 ws1">L</div><div class="t m0 x36 h27 y1b2 ff22 fsf fc14 sc0 ls1 ws1">Out[3]:<span class="_ _3"> </span><span class="fc5">[2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>5,<span class="_ _3"> </span>7,<span class="_ _2"> </span>11]</span></div><div class="t m0 x36 h21 yd5 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[4]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">用<span class="_ _3"> </span></span>+<span class="_ _2"> </span><span class="ff1e">连接</span></span></div><div class="t m0 x46 h27 yd6 ff22 fsf fc5 sc0 ls1 ws1">L<span class="_ _3"> </span><span class="fcb">+<span class="_ _3"> </span></span>[<span class="fcb">13</span>,<span class="_ _3"> </span><span class="fcb">17</span>,<span class="_ _3"> </span><span class="fcb">19</span>]</div><div class="t m0 x4f h22 y5c ff1f fsf fc5 sc0 ls1 ws1">35</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf2d" class="pf w3 h1b" data-page-no="2d"><div class="pc pc2d w3 h1b"><img class="bi x2a y385 w4 h45" alt="" src="bg2d.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">36<span class="_ _6f"> </span><span class="ff24">7.<span class="_ _2c"> </span><span class="ff1e">内置数据结构</span></span></div><div class="t m0 x36 h27 y212 ff22 fsf fc14 sc0 ls1 ws1">Out[4]:<span class="_ _3"> </span><span class="fc5">[2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>5,<span class="_ _3"> </span>7,<span class="_ _2"> </span>11,<span class="_ _3"> </span>13,<span class="_ _3"> </span>17,<span class="_ _3"> </span>19]</span></div><div class="t m0 x36 h21 y386 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[5]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">进行原地排序</span></span></div><div class="t m0 x46 h27 y387 ff22 fsf fc5 sc0 ls1 ws1">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[<span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">5</span>,<span class="_ _3"> </span><span class="fcb">1</span>,<span class="_ _2"> </span><span class="fcb">6</span>,<span class="_ _3"> </span><span class="fcb">3</span>,<span class="_ _3"> </span><span class="fcb">4</span>]</div><div class="t m0 x46 h27 y388 ff22 fsf fc5 sc0 ls1 ws1">L<span class="fcb">.</span>sort()</div><div class="t m0 x46 h27 y389 ff22 fsf fc5 sc0 ls1 ws1">L</div><div class="t m0 x36 h27 y38a ff22 fsf fc14 sc0 ls1 ws1">Out[5]:<span class="_ _3"> </span><span class="fc5">[1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>4,<span class="_ _2"> </span>5,<span class="_ _3"> </span>6]</span></div><div class="t m0 x1a h1f y38b ff1d fsf fc5 sc0 ls1 ws1">除此<span class="_ _0"></span>之外，还有<span class="_ _0"></span>许多内置<span class="_ _0"></span>的列表方法，<span class="_ _0"></span>它们在<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>的官方<span class="_ _0"></span>文档中<span class="_ _0"></span>有详细介<span class="_ _0"></span>绍：<span class="ff22 fc7">https:</span></div><div class="t m0 x2a h1f y38c ff22 fsf fc7 sc0 ls1 ws1">//docs.python.org/3/tutorial/datastructures.html<span class="ff1d fc5">。</span></div><div class="t m0 x1a h1f y38d ff1d fsf fc5 sc0 ls1 ws1">我们<span class="_ _0"></span>已经演<span class="_ _0"></span>示了列表<span class="_ _0"></span>包含单<span class="_ _0"></span>一类型<span class="_ _0"></span>元素的<span class="_ _0"></span>使用方<span class="_ _0"></span>法，然而<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>复合<span class="_ _0"></span>类型的<span class="_ _0"></span>强大之<span class="_ _0"></span>处在</div><div class="t m0 x2a h1f y38e ff1d fsf fc5 sc0 ls1 ws1">于它可以包含<span class="ff1a">任何</span>类型的对象，甚至是不同类型的混合，例如：</div><div class="t m0 x36 h27 y38f ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[6]:<span class="_ _3"> </span><span class="fc5">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[<span class="fcb">1</span>,<span class="_ _2"> </span><span class="ff2a fc11">&apos;<span class="ff22">two</span>&apos;</span>,<span class="_ _3"> </span><span class="fcb">3.14</span>,<span class="_ _3"> </span>[<span class="fcb">0</span>,<span class="_ _3"> </span><span class="fcb">3</span>,<span class="_ _3"> </span><span class="fcb">5</span>]]</span></div><div class="t m0 x1a h1f y390 ff1d fsf fc5 sc0 ls1 ws1">这种灵活性是<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>动态<span class="_ _0"></span>类型系统带来的好处之一，而在<span class="_ _a"> </span><span class="ff1f">C<span class="_ _e"> </span></span>这<span class="_ _0"></span>种静态类型语言中创建这</div><div class="t m0 x2a h1f y391 ff1d fsf fc5 sc0 ls1 ws1">样一个复合类型的序列可以说是非常让人头疼了。<span class="_ _9"></span>然而，<span class="_ _5"></span><span class="ff1f">Python<span class="_ _e"> </span><span class="ff1d">的列表甚至还能将其它列表作</span></span></div><div class="t m0 x2a h1f y392 ff1d fsf fc5 sc0 ls1 ws1">为其元素。正是这种变量类型的灵活性使得<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>的代码写起来更为快速和简单。</div><div class="t m0 x1a h1f y393 ff1d fsf fc5 sc0 ls1 ws1">到现在<span class="_ _0"></span>为止，我们<span class="_ _0"></span>一直着<span class="_ _0"></span>眼于将列表<span class="_ _0"></span>作为一个<span class="_ _0"></span>整体来操<span class="_ _0"></span>作，而相对<span class="_ _0"></span>地，列表另外<span class="_ _0"></span>一个重要</div><div class="t m0 x2a h1f y394 ff1d fsf fc5 sc0 ls1 ws1">的部分就是访问其中的元素个体。这一部分通过索引以及切片来完成，我们将在下面讨论它们。</div><div class="t m0 x2a h25 y395 ff19 fse fc5 sc0 ls1 ws1">7.1.1<span class="_ _3c"> </span><span class="ff1a">列表索引与切片</span></div><div class="t m0 x1a h1f y396 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _a"> </span><span class="ff1d">对<span class="_ _0"></span>于复合<span class="_ _0"></span>类<span class="_ _0"></span>型变量<span class="_ _0"></span>的<span class="_ _0"></span>元素<span class="_ _0"></span>访问<span class="_ _0"></span>提<span class="_ _0"></span>供了<span class="ff1e">索<span class="_ _0"></span>引</span>（</span>index<span class="ff1d">）<span class="_ _0"></span>和<span class="ff1e">切<span class="_ _0"></span>片</span>（</span>slice<span class="ff1d">）<span class="_ _0"></span>的方法，<span class="_ _0"></span>前<span class="_ _0"></span>者</span></div><div class="t m0 x2a h1f y397 ff1d fsf fc5 sc0 ls1 ws1">用<span class="_ _0"></span>于访<span class="_ _0"></span>问<span class="_ _0"></span>单个<span class="_ _0"></span>元素，<span class="_ _0"></span>后<span class="_ _0"></span>者用<span class="_ _0"></span>于<span class="_ _0"></span>多个<span class="_ _0"></span>元<span class="_ _0"></span>素。我<span class="_ _0"></span>们会<span class="_ _0"></span>看<span class="_ _0"></span>到，两<span class="_ _0"></span>者<span class="_ _0"></span>都使<span class="_ _0"></span>用<span class="_ _0"></span>一个<span class="_ _0"></span>方括<span class="_ _0"></span>号<span class="_ _0"></span>的语法<span class="_ _0"></span>来<span class="_ _0"></span>表示。</div><div class="t m0 x2a h1f y398 ff1d fsf fc5 sc0 ls1 ws1">让我们回到之前的质数列表：</div><div class="t m0 x36 h27 y399 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[7]:<span class="_ _3"> </span><span class="fc5">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[<span class="fcb">2</span>,<span class="_ _2"> </span><span class="fcb">3</span>,<span class="_ _3"> </span><span class="fcb">5</span>,<span class="_ _3"> </span><span class="fcb">7</span>,<span class="_ _3"> </span><span class="fcb">11</span>]</span></div><div class="t m0 x1a h1f y39a ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _a"> </span><span class="ff1d">使<span class="_ _0"></span>用了<span class="_ _0"></span><span class="ff1a">从<span class="_ _0"></span>零开<span class="_ _0"></span>始</span>的索<span class="_ _0"></span>引，<span class="_ _0"></span>所以<span class="_ _0"></span>我们<span class="_ _0"></span>用<span class="_ _0"></span>下面<span class="_ _0"></span>的语法<span class="_ _0"></span>来<span class="_ _0"></span>取得列<span class="_ _0"></span>表中<span class="_ _0"></span>的<span class="_ _0"></span>第一<span class="_ _0"></span>个以<span class="_ _0"></span>及<span class="_ _0"></span>第二</span></div><div class="t m0 x2a h1f y39b ff1d fsf fc5 sc0 ls1 ws1">个元素：</div><div class="t m0 x36 h27 y39c ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[8]:<span class="_ _3"> </span><span class="fc5">L[<span class="fcb">0</span>]</span></div><div class="t m0 x36 h27 y39d ff22 fsf fc14 sc0 ls1 ws1">Out[8]:<span class="_ _3"> </span><span class="fc5">2</span></div><div class="t m0 x36 h27 y39e ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[9]:<span class="_ _3"> </span><span class="fc5">L[<span class="fcb">1</span>]</span></div><div class="t m0 x36 h27 y39f ff22 fsf fc14 sc0 ls1 ws1">Out[9]:<span class="_ _3"> </span><span class="fc5">3</span></div><div class="t m0 x1a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">位于列表末尾的元素可以用负数来访问，<span class="ff2e">−<span class="ff2d">1<span class="_ _e"> </span></span></span>代表最后一个元素，依次类推：</div><a class="l" href="https://docs.python.org/3/tutorial/datastructures.html"><div class="d m7" style="border-style:none;position:absolute;left:488.912000px;bottom:602.755000px;width:34.364000px;height:8.960000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://docs.python.org/3/tutorial/datastructures.html"><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:586.496000px;width:274.909000px;height:10.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf2e" class="pf w3 h1b" data-page-no="2e"><div class="pc pc2e w3 h1b"><img class="bi x2a y7c w4 h2c" alt="" src="bg2e.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">7.1.<span class="_ _2c"> </span><span class="ff1e">列表<span class="_ _70"> </span><span class="ff1f">37</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[10]:<span class="_ _3"> </span><span class="fc5">L[<span class="fcb">-1</span>]</span></div><div class="t m0 x36 h27 y138 ff22 fsf fc14 sc0 ls1 ws1">Out[10]:<span class="_ _3"> </span><span class="fc5">11</span></div><div class="t m0 x36 h27 y139 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[11]:<span class="_ _3"> </span><span class="fc5">L[<span class="fcb">-2</span>]</span></div><div class="t m0 x36 h27 y13b ff22 fsf fc14 sc0 ls1 ws1">Out[11]:<span class="_ _3"> </span><span class="fc5">7</span></div><div class="t m0 x1a h1f y3a0 ff1d fsf fc5 sc0 ls1 ws1">你<span class="_ _0"></span>可<span class="_ _0"></span>以用<span class="_ _0"></span>图<span class="_ _10"> </span><span class="ff1f fc6">1<span class="_ _10"> </span></span>这<span class="_ _0"></span>种更<span class="_ _0"></span>直<span class="_ _0"></span>观<span class="_ _0"></span>可<span class="_ _0"></span>视的<span class="_ _0"></span>方<span class="_ _0"></span>式<span class="_ _0"></span>来理<span class="_ _0"></span>解索<span class="_ _0"></span>引：列<span class="_ _0"></span>表<span class="_ _0"></span>中的<span class="_ _0"></span>元<span class="_ _0"></span>素<span class="_ _0"></span>用<span class="_ _0"></span>方框<span class="_ _0"></span>中<span class="_ _0"></span>字<span class="_ _0"></span>号更<span class="_ _0"></span>大<span class="_ _0"></span>的<span class="_ _0"></span>数</div><div class="t m0 x2a h1f y3a1 ff1d fsf fc5 sc0 ls1 ws1">字表<span class="_ _0"></span>示；列<span class="_ _0"></span>表索引<span class="_ _0"></span>则用<span class="_ _0"></span>方框<span class="_ _0"></span>上下<span class="_ _0"></span>方较<span class="_ _0"></span>小的<span class="_ _0"></span>数字<span class="_ _0"></span>来表<span class="_ _0"></span>示。在<span class="_ _0"></span>这里<span class="_ _a"> </span><span class="ff22">L[2]<span class="_ _10"> </span></span>返回<span class="_ _0"></span>数字<span class="_ _10"> </span><span class="ff2d">5</span>，因<span class="_ _0"></span>为那<span class="_ _0"></span>是索</div><div class="t m0 x2a h1f y3a2 ff1d fsf fc5 sc0 ls1 ws1">引<span class="_ _e"> </span><span class="ff22">2<span class="_ _a"> </span></span>下的数值。</div><div class="t m0 x77 h1f y3a3 ff1d fsf fc5 sc0 ls1 ws1">图<span class="_ _e"> </span><span class="ff1f">1:<span class="_ _8"> </span></span>列表索引示意图</div><div class="t m0 x1a h1f y3a4 ff1d fsf fc5 sc0 ls1 ws1">索引用<span class="_ _0"></span>来取出列<span class="_ _0"></span>表中的单<span class="_ _0"></span>个元素，而切<span class="_ _0"></span>片则是取<span class="_ _0"></span>出在子列表<span class="_ _0"></span>中取出多<span class="_ _0"></span>个值的方<span class="_ _0"></span>法。它用一</div><div class="t m0 x2a h1f y3a5 ff1d fsf fc5 sc0 ls1 ws1">个冒号来表示子序列的起点（包含）<span class="_ _4"></span>和终点（不包含）<span class="_ _39"></span>。<span class="_ _5"></span>举个例子，为了得到列表中的前三个元</div><div class="t m0 x2a h1f y3a6 ff1d fsf fc5 sc0 ls1 ws1">素，我们可以这样做：</div><div class="t m0 x36 h27 y3a7 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[12]:<span class="_ _3"> </span><span class="fc5">L[<span class="fcb">0</span>:<span class="fcb">3</span>]</span></div><div class="t m0 x36 h27 y3a8 ff22 fsf fc14 sc0 ls1 ws1">Out[12]:<span class="_ _3"> </span><span class="fc5">[2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>5]</span></div><div class="t m0 x1a h1f y3a9 ff1d fsf fc5 sc0 ls1 ws1">留意<span class="_ _e"> </span><span class="ff22">0<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff22">3<span class="_ _a"> </span></span>在语法中的位置以及切片在两个索引之间的取值方式。<span class="_ _4"></span>如果我们把第一个索引</div><div class="t m0 x2a h1f y3aa ff1d fsf fc5 sc0 ls1 ws1">值（也就是<span class="_ _e"> </span><span class="ff22">0</span>）省去，那么我们也会得到同样的结果：</div><div class="t m0 x36 h27 y3ab ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[13]:<span class="_ _3"> </span><span class="fc5">L[:<span class="fcb">3</span>]</span></div><div class="t m0 x36 h27 y3ac ff22 fsf fc14 sc0 ls1 ws1">Out[13]:<span class="_ _3"> </span><span class="fc5">[2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>5]</span></div><div class="t m0 x1a h1f y3ad ff1d fsf fc5 sc0 ls1 ws1">同样<span class="_ _0"></span>地，如果我<span class="_ _0"></span>们省去后<span class="_ _0"></span>面的索引<span class="_ _0"></span>值，它的默认<span class="_ _0"></span>值为列表<span class="_ _0"></span>的长度。这<span class="_ _0"></span>样一来，访<span class="_ _0"></span>问列表最</div><div class="t m0 x2a h1f y3ae ff1d fsf fc5 sc0 ls1 ws1">后<span class="_ _e"> </span><span class="ff2d">3<span class="_ _a"> </span></span>个元素可以用下面这种方式：</div><div class="t m0 x36 h27 y153 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[14]:<span class="_ _3"> </span><span class="fc5">L[<span class="fcb">-3</span>:]</span></div><div class="t m0 x36 h27 y155 ff22 fsf fc14 sc0 ls1 ws1">Out[14]:<span class="_ _3"> </span><span class="fc5">[5,<span class="_ _3"> </span>7,<span class="_ _3"> </span>11]</span></div><a class="l" href="#pf2e" data-dest-detail='[46,"XYZ",72,577.07,null]'><div class="d m7" style="border-style:none;position:absolute;left:154.031000px;bottom:614.464000px;width:5.455000px;height:6.870000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf2f" class="pf w3 h1b" data-page-no="2f"><div class="pc pc2f w3 h1b"><img class="bi x2a y7c w4 h46" alt="" src="bg2f.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">38<span class="_ _6f"> </span><span class="ff24">7.<span class="_ _2c"> </span><span class="ff1e">内置数据结构</span></span></div><div class="t m0 x1a h1f y7e ff1d fsf fc5 sc0 ls1 ws1">最后，我们<span class="_ _0"></span>可以用第三个整数<span class="_ _0"></span>来表示步长。例如，要<span class="_ _0"></span>在列表中每<span class="_ _a"> </span><span class="ff2d">2<span class="_ _e"> </span></span>个元<span class="_ _0"></span>素选取一个，我们</div><div class="t m0 x2a h1f yb3 ff1d fsf fc5 sc0 ls1 ws1">可以这样写：</div><div class="t m0 x36 h21 y3af ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[15]:<span class="_ _3"> </span><span class="fc5">L[::<span class="fcb">2</span>]<span class="_ _13"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">等同于<span class="_ _3"> </span></span>L[0:len(L):2]</span></span></div><div class="t m0 x36 h27 y3b0 ff22 fsf fc14 sc0 ls1 ws1">Out[15]:<span class="_ _3"> </span><span class="fc5">[2,<span class="_ _3"> </span>5,<span class="_ _3"> </span>11]</span></div><div class="t m0 x1a h1f y3b1 ff1d fsf fc5 sc0 ls1 ws1">另外一个特别有用的方法是定义一个负数的步长，它可以把序列翻转：</div><div class="t m0 x36 h27 y3b2 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[16]:<span class="_ _3"> </span><span class="fc5">L[::<span class="fcb">-1</span>]</span></div><div class="t m0 x36 h27 y3b3 ff22 fsf fc14 sc0 ls1 ws1">Out[16]:<span class="_ _3"> </span><span class="fc5">[11,<span class="_ _3"> </span>7,<span class="_ _3"> </span>5,<span class="_ _3"> </span>3,<span class="_ _2"> </span>2]</span></div><div class="t m0 x1a h1f y3b4 ff1d fsf fc5 sc0 ls1 ws1">索引和切片都不仅可以被用来访问元素，它们也可以改变元素。语法就和你所想象的一样：</div><div class="t m0 x36 h27 y3b5 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[17]:<span class="_ _3"> </span><span class="fc5">L[<span class="fcb">0</span>]<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>100</span></span></div><div class="t m0 x51 h27 y3b6 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(L)</span></div><div class="t m0 x36 h27 y3b7 ff22 fsf fc5 sc0 ls1 ws1">[100,<span class="_ _3"> </span>3,<span class="_ _3"> </span>5,<span class="_ _3"> </span>7,<span class="_ _3"> </span>11]</div><div class="t m0 x36 h27 y3b8 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[18]:<span class="_ _3"> </span><span class="fc5">L[<span class="fcb">1</span>:<span class="fcb">3</span>]<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[<span class="fcb">55</span>,<span class="_ _2"> </span><span class="fcb">56</span>]</span></div><div class="t m0 x51 h27 y3b9 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(L)</span></div><div class="t m0 x36 h27 y3ba ff22 fsf fc5 sc0 ls1 ws1">[100,<span class="_ _3"> </span>55,<span class="_ _3"> </span>56,<span class="_ _3"> </span>7,<span class="_ _3"> </span>11]</div><div class="t m0 x1a h1f y3bb ff1d fsf fc5 sc0 ls1 ws1">切<span class="_ _0"></span>片<span class="_ _f"></span>的<span class="_ _f"></span>类<span class="_ _f"></span>似<span class="_ _f"></span>用<span class="_ _f"></span>法<span class="_ _f"></span>也<span class="_ _f"></span>同<span class="_ _0"></span>样<span class="_ _f"></span>出<span class="_ _f"></span>现<span class="_ _f"></span>在<span class="_ _f"></span>许<span class="_ _f"></span>多<span class="_ _f"></span>其<span class="_ _0"></span>它<span class="_ _f"></span>的<span class="_ _f"></span>科<span class="_ _f"></span>学<span class="_ _f"></span>计<span class="_ _f"></span>算包<span class="_ _f"></span>中，<span class="_ _f"></span>包<span class="_ _0"></span>括<span class="_ _8"> </span><span class="ff1f">NumPy<span class="_ _3b"> </span></span>和<span class="_ _3b"> </span><span class="ff1f">P<span class="_ _4"></span>andas<span class="ff1d">（在</span></span></div><div class="t m0 x2a h1f y3bc ff1d fsf fc5 sc0 ls1 ws1">第<span class="_ _e"> </span><span class="ff1f fc6">1<span class="_ _a"> </span></span>章<span class="_ _e"> </span><span class="ff1f fc6">Python<span class="_ _a"> </span><span class="ff1d">介绍</span></span>中提到过）<span class="_ _39"></span>。</div><div class="t m0 x1a h1f y3bd ff1d fsf fc5 sc0 ls1 ws1">既然我们已<span class="_ _0"></span>经学习了<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>的列表，并且<span class="_ _0"></span>知道了如何在顺序复<span class="_ _0"></span>合类型中访问其中的<span class="_ _0"></span>元素，</div><div class="t m0 x2a h1f y3be ff1d fsf fc5 sc0 ls1 ws1">那么现在我们可以看看之前提到的其它三种标准复合数据类型。</div><div class="t m0 x2a h23 y3bf ff19 fsd fc5 sc0 ls1 ws1">7.2<span class="_ _15"> </span><span class="ff1a">元组</span></div><div class="t m0 x1a h1f y3c0 ff1e fsf fc5 sc0 ls1 ws1">元组<span class="ff1d">（<span class="ff1f">tuple</span>）在各种<span class="_ _0"></span>意义上都和列表非常相似，<span class="_ _0"></span>但是它们是用圆括号而<span class="_ _0"></span>不是方括号来定义</span></div><div class="t m0 x2a h1f y3c1 ff1d fsf fc5 sc0 ls1 ws1">的：</div><div class="t m0 x36 h27 y3c2 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[19]:<span class="_ _3"> </span><span class="fc5">t<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>(<span class="fcb">1</span>,<span class="_ _2"> </span><span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">3</span>)</span></div><div class="t m0 x1a h1f y3c3 ff1d fsf fc5 sc0 ls1 ws1">它们也可以完全不用括号来进行定义：</div><div class="t m0 x36 h27 y256 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[20]:<span class="_ _3"> </span><span class="fc5">t<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>1</span>,<span class="_ _2"> </span><span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">3</span></span></div><div class="t m0 x51 h27 y153 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(t)</span></div><div class="t m0 x36 h27 y155 ff22 fsf fc5 sc0 ls1 ws1">(1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3)</div><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:86.545000px;bottom:335.239000px;width:5.455000px;height:6.870000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:110.182000px;bottom:332.129000px;width:60.455000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf30" class="pf w3 h1b" data-page-no="30"><div class="pc pc30 w3 h1b"><img class="bi x2a y1f9 w4 h47" alt="" src="bg30.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">7.2.<span class="_ _2c"> </span><span class="ff1e">元组<span class="_ _70"> </span><span class="ff1f">39</span></span></div><div class="t m0 x1a h1f y7e ff1d fsf fc5 sc0 ls1 ws1">与列表相似，元组也有长度，其单个元素也可以用方括号来提取：</div><div class="t m0 x36 h27 y3c4 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[21]:<span class="_ _3"> </span><span class="fc9">len<span class="fc5">(t)</span></span></div><div class="t m0 x36 h27 y3c5 ff22 fsf fc14 sc0 ls1 ws1">Out[21]:<span class="_ _3"> </span><span class="fc5">3</span></div><div class="t m0 x36 h27 y3c6 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[22]:<span class="_ _3"> </span><span class="fc5">t[<span class="fcb">0</span>]</span></div><div class="t m0 x36 h27 y3c7 ff22 fsf fc14 sc0 ls1 ws1">Out[22]:<span class="_ _3"> </span><span class="fc5">1</span></div><div class="t m0 x1a h1f y3c8 ff1d fsf fc5 sc0 ls1 ws1">元组和列<span class="_ _0"></span>表最主要<span class="_ _0"></span>的区别<span class="_ _0"></span>还是在于元<span class="_ _0"></span>组是<span class="ff1a">不可变<span class="_ _0"></span></span>的，这意味<span class="_ _0"></span>着一旦它<span class="_ _0"></span>们被创建，<span class="_ _0"></span>它们的大</div><div class="t m0 x2a h1f y3c9 ff1d fsf fc5 sc0 ls1 ws1">小和内容都不能被改变：</div><div class="t m0 x36 h27 y3ca ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[23]:<span class="_ _3"> </span><span class="fc5">t[<span class="fcb">1</span>]<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>4</span></span></div><div class="t m0 x46 h27 y3cb ff22 fsf fc5 sc0 ls1 ws1">----------------------------------------------------------------------</div><div class="t m0 x46 h27 y3cc ff22 fsf fc5 sc0 ls1 ws1">TypeError<span class="_ _71"> </span>Traceback<span class="_ _3"> </span>(most<span class="_ _3"> </span>recent<span class="_ _3"> </span>call<span class="_ _3"> </span>last)</div><div class="t m0 x46 h27 y3cd ff22 fsf fc5 sc0 ls1 ws1">&lt;ipython-input-23-141c76cb54a2&gt;<span class="_ _3"> </span>in<span class="_ _3"> </span>&lt;module&gt;()</div><div class="t m0 x49 h27 y3ce ff22 fsf fc5 sc0 ls1 ws1">----&gt;<span class="_ _3"> </span>1<span class="_ _3"> </span>t[1]<span class="_ _3"> </span>=<span class="_ _3"> </span>4</div><div class="t m0 x46 h27 y3cf ff22 fsf fc5 sc0 ls1 ws1">TypeError:<span class="_ _3"> </span><span class="ff2a">&apos;</span>tuple<span class="ff2a">&apos;<span class="_ _3"> </span></span>object<span class="_ _3"> </span>does<span class="_ _3"> </span>not<span class="_ _2"> </span>support<span class="_ _3"> </span>item<span class="_ _3"> </span>assignment</div><div class="t m0 x36 h27 y3d0 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[24]:<span class="_ _3"> </span><span class="fc5">t<span class="fcb">.</span>append(<span class="fcb">4</span>)</span></div><div class="t m0 x46 h27 y3d1 ff22 fsf fc5 sc0 ls1 ws1">----------------------------------------------------------------------</div><div class="t m0 x46 h27 y3d2 ff22 fsf fc5 sc0 ls1 ws1">AttributeError<span class="_ _72"> </span>Traceback<span class="_ _3"> </span>(most<span class="_ _3"> </span>recent<span class="_ _3"> </span>call<span class="_ _3"> </span>last)</div><div class="t m0 x46 h27 y3d3 ff22 fsf fc5 sc0 ls1 ws1">&lt;ipython-input-24-e8bd1632f9dd&gt;<span class="_ _3"> </span>in<span class="_ _3"> </span>&lt;module&gt;()</div><div class="t m0 x49 h27 y3d4 ff22 fsf fc5 sc0 ls1 ws1">----&gt;<span class="_ _3"> </span>1<span class="_ _3"> </span>t.append(4)</div><div class="t m0 x46 h27 y3d5 ff22 fsf fc5 sc0 ls1 ws1">AttributeError:</div><div class="t m0 x14 h27 y3d6 ff2a fsf fc5 sc0 ls1 ws1">&apos;</div><div class="t m0 x78 h27 y3d5 ff22 fsf fc5 sc0 ls1 ws1">tuple</div><div class="t m0 x79 h27 y3d6 ff2a fsf fc5 sc0 ls1 ws1">&apos;</div><div class="t m0 x7a h27 y3d5 ff22 fsf fc5 sc0 ls1 ws1">object<span class="_ _3"> </span>has<span class="_ _3"> </span>no<span class="_ _3"> </span>attribute</div><div class="t m0 x61 h27 y3d6 ff2a fsf fc5 sc0 ls1 ws1">&apos;</div><div class="t m0 x7b h27 y3d5 ff22 fsf fc5 sc0 ls1 ws1">append</div><div class="t m0 x7c h27 y3d6 ff2a fsf fc5 sc0 ls1 ws1">&apos;</div><div class="t m0 x1a h1f y3d7 ff1d fsf fc5 sc0 ls1 ws1">元组经常被<span class="_ _0"></span>用在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>的编程中；一个<span class="_ _0"></span>特别常见的例子就<span class="_ _0"></span>是函数返回多个值。举个<span class="_ _0"></span>例子，</div><div class="t m0 x2a h1f y3d8 ff1d fsf fc5 sc0 ls1 ws1">浮点对象<span class="_ _0"></span>的方法<span class="_ _a"> </span><span class="ff22">as_integer_ratio()<span class="_ _e"> </span></span>可<span class="_ _0"></span>以返回浮点数<span class="_ _0"></span>对应的分子<span class="_ _0"></span>和分母，这<span class="_ _0"></span>个双值就是<span class="_ _0"></span>以元</div><div class="t m0 x2a h1f y3d9 ff1d fsf fc5 sc0 ls1 ws1">组的形式返回的：</div><div class="t m0 x36 h27 yd6 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[25]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>0.125</span></span></div><div class="t m0 x51 h27 y7c ff22 fsf fc5 sc0 ls1 ws1">x<span class="fcb">.</span>as_integer_ratio()</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf31" class="pf w3 h1b" data-page-no="31"><div class="pc pc31 w3 h1b"><img class="bi x2a y3da w4 h48" alt="" src="bg31.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">40<span class="_ _6f"> </span><span class="ff24">7.<span class="_ _2c"> </span><span class="ff1e">内置数据结构</span></span></div><div class="t m0 x36 h27 y213 ff22 fsf fc14 sc0 ls1 ws1">Out[25]:<span class="_ _3"> </span><span class="fc5">(1,<span class="_ _3"> </span>8)</span></div><div class="t m0 x1a h1f y3db ff1d fsf fc5 sc0 ls1 ws1">这些返回的多个值也可以用下面的方法分别独立赋值：</div><div class="t m0 x36 h27 y3dc ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[26]:<span class="_ _3"> </span><span class="fc5">numerator,<span class="_ _3"> </span>denominator<span class="_ _3"> </span><span class="fcb">=<span class="_ _2"> </span></span>x<span class="fcb">.</span>as_integer_ratio()</span></div><div class="t m0 x51 h27 y3dd ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(numerator<span class="_ _3"> </span><span class="fcb">/<span class="_ _3"> </span></span>denominator)</span></div><div class="t m0 x36 h27 y3de ff22 fsf fc5 sc0 ls1 ws1">0.125</div><div class="t m0 x1a h1f y3df ff1d fsf fc5 sc0 ls1 ws1">之前<span class="_ _0"></span>提到的列表索<span class="_ _0"></span>引和切片的<span class="_ _0"></span>逻辑同<span class="_ _0"></span>样也适用<span class="_ _0"></span>于元组，同<span class="_ _0"></span>时还有一<span class="_ _0"></span>些别的方法。<span class="_ _0"></span>详细的方</div><div class="t m0 x2a h1f y3e0 ff1d fsf fc5 sc0 ls1 ws1">法列<span class="_ _0"></span>表请<span class="_ _0"></span>参考<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _10"> </span></span>官<span class="_ _0"></span>方文<span class="_ _0"></span>档：<span class="ff22 fc7">https://docs.python.org/3/tutorial/datastructures.</span></div><div class="t m0 x2a h1f y3e1 ff22 fsf fc7 sc0 ls1 ws1">html<span class="ff1d fc5">。</span></div><div class="t m0 x2a h23 y3e2 ff19 fsd fc5 sc0 ls1 ws1">7.3<span class="_ _15"> </span><span class="ff1a">字典</span></div><div class="t m0 x1a h1f y3e3 ff1e fsf fc5 sc0 ls1 ws1">字典<span class="ff1d">（<span class="ff1f">dictionary</span>）是一种非常灵活的</span>键值对<span class="ff1d">（<span class="ff1f">k<span class="_ _4"></span>ey-v<span class="_ _5"></span>alue<span class="_ _e"> </span>pair<span class="ff1d">）的映射，它也是<span class="_ _e"> </span></span>Python<span class="_ _a"> </span><span class="ff1d">许</span></span></span></div><div class="t m0 x2a h1f y3e4 ff1d fsf fc5 sc0 ls1 ws1">多内部实现的基础。它们可以通过在大括号内用逗号分隔的键值对（形如<span class="_ _e"> </span><span class="ff22">key:value</span>）创建：</div><div class="t m0 x36 h27 y3e5 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[27]:<span class="_ _3"> </span><span class="fc5">numbers<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>{<span class="ff2a fc11">&apos;<span class="ff22">one</span>&apos;</span>:<span class="fcb">1</span>,<span class="_ _2"> </span><span class="ff2a fc11">&apos;<span class="ff22">two</span>&apos;</span>:<span class="fcb">2</span>,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">three</span>&apos;</span>:<span class="fcb">3</span>}</span></div><div class="t m0 x1a h1f y3e6 ff1d fsf fc5 sc0 ls1 ws1">我们可<span class="_ _0"></span>以用列表<span class="_ _0"></span>和元组中提<span class="_ _0"></span>到的索引的<span class="_ _0"></span>方式来访<span class="_ _0"></span>问和改变字<span class="_ _0"></span>典中的项，<span class="_ _0"></span>只是这<span class="_ _0"></span>里的索引不</div><div class="t m0 x2a h1f y3e7 ff1d fsf fc5 sc0 ls1 ws1">再是从零开始的顺序下标，而是一个有效的字典索引键：</div><div class="t m0 x36 h21 y3e8 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[28]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">通过键来访问字典中的值</span></span></div><div class="t m0 x51 h27 y3e9 ff22 fsf fc5 sc0 ls1 ws1">numbers[<span class="ff2a fc11">&apos;<span class="ff22">two</span>&apos;</span>]</div><div class="t m0 x36 h27 y3ea ff22 fsf fc14 sc0 ls1 ws1">Out[28]:<span class="_ _3"> </span><span class="fc5">2</span></div><div class="t m0 x1a h1f y3eb ff1d fsf fc5 sc0 ls1 ws1">我们也可以用索引来加入新的项：</div><div class="t m0 x36 h21 y3ec ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[29]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">设置一个新的键值对</span></span></div><div class="t m0 x51 h27 y3ed ff22 fsf fc5 sc0 ls1 ws1">numbers[<span class="ff2a fc11">&apos;<span class="ff22">ninety</span>&apos;</span>]<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>90</span></div><div class="t m0 x51 h27 y3ee ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(numbers)</span></div><div class="t m0 x36 h27 y3ef ff22 fsf fc5 sc0 ls1 ws1">{<span class="ff2a">&apos;</span>one<span class="ff2a">&apos;</span>:<span class="_ _3"> </span>1,<span class="_ _3"> </span><span class="ff2a">&apos;</span>two<span class="ff2a">&apos;</span>:<span class="_ _3"> </span>2,<span class="_ _3"> </span><span class="ff2a">&apos;</span>three<span class="ff2a">&apos;</span>:<span class="_ _2"> </span>3,<span class="_ _3"> </span><span class="ff2a">&apos;</span>ninety<span class="ff2a">&apos;</span>:<span class="_ _3"> </span>90}</div><div class="t m0 x1a h1f yd4 ff1d fsf fc5 sc0 ls1 ws1">需要留<span class="_ _0"></span>心的是字典<span class="_ _0"></span>中并<span class="ff1a">没有<span class="_ _0"></span>任何顺序<span class="_ _0"></span></span>的概念，这<span class="_ _0"></span>是设定好<span class="_ _0"></span>的。这种无<span class="_ _0"></span>序性反而<span class="_ _0"></span>使得字典的</div><div class="t m0 x2a h1f yd5 ff1d fsf fc5 sc0 ls1 ws1">实现非<span class="_ _0"></span>常有效率。<span class="_ _0"></span>不论字典的<span class="_ _0"></span>大小如何，<span class="_ _0"></span>元素的<span class="ff1a">随机<span class="_ _0"></span>访问</span>都非<span class="_ _0"></span>常快（如果<span class="_ _0"></span>你对此感<span class="_ _0"></span>到好奇，你</div><div class="t m0 x2a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">可以试着了解一下<span class="ff1e">哈希表<span class="_ _4"></span><span class="ff1d">（<span class="ff1f">hash<span class="_ _e"> </span>table</span>）<span class="_ _4"></span>的概念）<span class="_ _39"></span>。<span class="_ _5"></span><span class="ff1f">Python<span class="_ _e"> </span><span class="ff1d">的官方文档中列出了字典可用方法的</span></span></span></span></div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">完整列表：<span class="ff22 fc7">https://docs.python.org/3/library/stdtypes.html</span>。</div><a class="l" href="https://docs.python.org/3/tutorial/datastructures.html"><div class="d m7" style="border-style:none;position:absolute;left:236.913000px;bottom:564.347000px;width:286.363000px;height:10.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://docs.python.org/3/tutorial/datastructures.html"><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:550.512000px;width:22.909000px;height:6.535000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://docs.python.org/3/library/stdtypes.html"><div class="d m7" style="border-style:none;position:absolute;left:126.545000px;bottom:69.576000px;width:269.182000px;height:10.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf32" class="pf w3 h1b" data-page-no="32"><div class="pc pc32 w3 h1b"><img class="bi x2a y3f0 w4 h49" alt="" src="bg32.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">7.4.<span class="_ _2c"> </span><span class="ff1e">集合<span class="_ _70"> </span><span class="ff1f">41</span></span></div><div class="t m0 x2a h23 yf7 ff19 fsd fc5 sc0 ls1 ws1">7.4<span class="_ _15"> </span><span class="ff1a">集合</span></div><div class="t m0 x1a h1f yf8 ff1d fsf fc5 sc0 ls1 ws1">第四种基<span class="_ _0"></span>本元素集是<span class="ff1e">集合<span class="_ _0"></span></span>（<span class="ff1f">set</span>）<span class="_ _c"></span>，它和<span class="_ _0"></span>数学上的集合定<span class="_ _0"></span>义相同，元素具<span class="_ _0"></span>有<span class="ff1a">唯一性</span>和<span class="ff1a">无<span class="_ _0"></span>序性</span>。</div><div class="t m0 x2a h1f yf9 ff1d fsf fc5 sc0 ls1 ws1">集合的定义除了它使用和字典一样的花括号这一点以外，和列表、元组非常相似：</div><div class="t m0 x36 h27 y3f1 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[30]:<span class="_ _3"> </span><span class="fc5">primes<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>{<span class="fcb">2</span>,<span class="_ _2"> </span><span class="fcb">3</span>,<span class="_ _3"> </span><span class="fcb">5</span>,<span class="_ _3"> </span><span class="fcb">7</span>}</span></div><div class="t m0 x51 h27 y3f2 ff22 fsf fc5 sc0 ls1 ws1">odds<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>{<span class="fcb">1</span>,<span class="_ _3"> </span><span class="fcb">3</span>,<span class="_ _3"> </span><span class="fcb">5</span>,<span class="_ _2"> </span><span class="fcb">7</span>,<span class="_ _3"> </span><span class="fcb">9</span>}</div><div class="t m0 x1a h1f y3f3 ff1d fsf fc5 sc0 ls1 ws1">如果你熟悉集合的数学定义，<span class="_ _41"></span>你也一定不会对并、<span class="_ _40"></span>交、<span class="_ _41"></span>差、<span class="_ _40"></span><span class="ff1e">对等差分<span class="_ _34"></span><span class="ff1d">（<span class="ff1f">symmetric<span class="_ _35"> </span>diﬀerence</span>）</span></span></div><div class="t m0 x2a h1f y3f4 ff1d fsf fc5 sc0 ls1 ws1">等操作感到陌生。<span class="_ _5"></span><span class="ff1f">Python<span class="_ _e"> </span><span class="ff1d">的集合通过方法和运算符实现了所有这些操作。<span class="_ _4"></span>对每一个操作，<span class="_ _5"></span>我们</span></span></div><div class="t m0 x2a h1f y3f5 ff1d fsf fc5 sc0 ls1 ws1">都会展示两种等价的方式：</div><div class="t m0 x36 h21 y3f6 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[31]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">并集：包含出现在任意一个集合中的元素</span></span></div><div class="t m0 x51 h21 y3f7 ff22 fsf fc5 sc0 ls1 ws1">primes<span class="_ _3"> </span><span class="fcb">|<span class="_ _3"> </span></span>odds<span class="_ _48"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">使用运算符</span></span></div><div class="t m0 x51 h21 y3f8 ff22 fsf fc5 sc0 ls1 ws1">primes<span class="fcb">.</span>union(odds)<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">等价地使用对象的方法</span></span></div><div class="t m0 x36 h27 y3f9 ff22 fsf fc14 sc0 ls1 ws1">Out[31]:<span class="_ _3"> </span><span class="fc5">{1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>5,<span class="_ _2"> </span>7,<span class="_ _3"> </span>9}</span></div><div class="t m0 x36 h21 y3fa ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[32]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">交集：包含同时出现在两个集合中的元素</span></span></div><div class="t m0 x51 h21 y3fb ff22 fsf fc5 sc0 ls1 ws1">primes<span class="_ _3"> </span><span class="fcb">&amp;<span class="_ _3"> </span></span>odds<span class="_ _50"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">使用运算符</span></span></div><div class="t m0 x51 h21 y3fc ff22 fsf fc5 sc0 ls1 ws1">primes<span class="fcb">.</span>intersection(odds)<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">等价地使用对象的方法</span></span></div><div class="t m0 x36 h27 y3fd ff22 fsf fc14 sc0 ls1 ws1">Out[32]:<span class="_ _3"> </span><span class="fc5">{3,<span class="_ _3"> </span>5,<span class="_ _3"> </span>7}</span></div><div class="t m0 x36 h21 y3fe ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[33]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">差分：属于<span class="_ _3"> </span></span>primes<span class="_ _2"> </span><span class="ff1e">但不属于<span class="_ _3"> </span></span>odds<span class="_ _3"> </span><span class="ff1e">的元素</span></span></div><div class="t m0 x51 h21 y3ff ff22 fsf fc5 sc0 ls1 ws1">primes<span class="_ _3"> </span><span class="fcb">-<span class="_ _3"> </span></span>odds<span class="_ _56"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">使用运算符</span></span></div><div class="t m0 x51 h21 y400 ff22 fsf fc5 sc0 ls1 ws1">primes<span class="fcb">.</span>difference(odds)<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">等价地使用对象的方法</span></span></div><div class="t m0 x36 h27 y401 ff22 fsf fc14 sc0 ls1 ws1">Out[33]:<span class="_ _3"> </span><span class="fc5">{2}</span></div><div class="t m0 x36 h21 y402 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[34]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">对称差分</span>:<span class="_ _3"> </span><span class="ff1e">只出现在其中一个集合的元素</span></span></div><div class="t m0 x51 h21 y403 ff22 fsf fc5 sc0 ls1 ws1">primes<span class="_ _3"> </span><span class="fcb">^<span class="_ _3"> </span></span>odds<span class="_ _73"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">使用运算符</span></span></div><div class="t m0 x51 h21 y404 ff22 fsf fc5 sc0 ls1 ws1">primes<span class="fcb">.</span>symmetric_difference(odds)<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">等价地使用对象的方法</span></span></div><div class="t m0 x36 h27 y405 ff22 fsf fc14 sc0 ls1 ws1">Out[34]:<span class="_ _3"> </span><span class="fc5">{1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>9}</span></div><div class="t m0 x1a h1f y406 ff1d fsf fc5 sc0 ls1 ws1">集合<span class="_ _0"></span>还有更<span class="_ _0"></span>多的方法<span class="_ _0"></span>和运算符。<span class="_ _0"></span>你可<span class="_ _0"></span>能已经<span class="_ _0"></span>猜到了<span class="_ _0"></span>我想说<span class="_ _0"></span>什么：详<span class="_ _0"></span>情请参<span class="_ _0"></span>考<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>官方</div><div class="t m0 x2a h1f y407 ff1d fsf fc5 sc0 ls1 ws1">文档：<span class="ff22 fc7">https://docs.python.org/3/library/stdtypes.html</span>。</div><div class="t m0 x2a h23 y408 ff19 fsd fc5 sc0 ls1 ws1">7.5<span class="_ _15"> </span><span class="ff1a">其他专用数据结构</span></div><div class="t m0 x1a h1f yd5 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _14"> </span><span class="ff1d">包<span class="_ _4b"> </span>含<span class="_ _55"> </span>了<span class="_ _4b"> </span>许<span class="_ _4b"> </span>多<span class="_ _55"> </span>其<span class="_ _4b"> </span>他<span class="_ _4b"> </span>你<span class="_ _74"> </span>可<span class="_ _74"> </span>能<span class="_ _74"> </span>觉<span class="_ _4b"> </span>得<span class="_ _74"> </span>非<span class="_ _74"> </span>常<span class="_ _4b"> </span>有<span class="_ _74"> </span>用<span class="_ _4b"> </span>的<span class="_ _74"> </span>数<span class="_ _74"> </span>据<span class="_ _4b"> </span>结<span class="_ _74"> </span>构，<span class="_ _4b"> </span>它<span class="_ _74"> </span>们<span class="_ _74"> </span>通<span class="_ _4b"> </span>常<span class="_ _74"> </span>可<span class="_ _74"> </span>以<span class="_ _4b"> </span>在<span class="_ _74"> </span>内<span class="_ _4b"> </span>置</span></div><div class="t m0 x2a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">的<span class="_ _14"> </span><span class="ff22">collections<span class="_ _23"> </span></span>模<span class="_ _74"> </span>块<span class="_ _4b"> </span>中<span class="_ _4b"> </span>得<span class="_ _4b"> </span>到。<span class="ff22">collections<span class="_ _23"> </span></span>模<span class="_ _4b"> </span>块<span class="_ _4b"> </span>的<span class="_ _4b"> </span>完<span class="_ _4b"> </span>整<span class="_ _4b"> </span>文<span class="_ _74"> </span>档<span class="_ _4b"> </span>在<span class="_ _4b"> </span>这<span class="_ _4b"> </span>里<span class="_ _4b"> </span>可<span class="_ _4b"> </span>以<span class="_ _4b"> </span>找<span class="_ _4b"> </span>到：<span class="ff22 fc7">https:</span></div><div class="t m0 x2a h1f y7c ff22 fsf fc7 sc0 ls1 ws1">//docs.python.org/3/library/collections.html<span class="ff1d fc5">，你可以自行了解这些多种多样的对象。</span></div><a class="l" href="https://docs.python.org/3/library/stdtypes.html"><div class="d m7" style="border-style:none;position:absolute;left:104.727000px;bottom:166.765000px;width:269.182000px;height:10.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://docs.python.org/3/library/collections.html"><div class="d m7" style="border-style:none;position:absolute;left:488.912000px;bottom:85.835000px;width:34.364000px;height:8.959000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://docs.python.org/3/library/collections.html"><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:69.576000px;width:252.000000px;height:10.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf33" class="pf w3 h1b" data-page-no="33"><div class="pc pc33 w3 h1b"><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">42<span class="_ _6f"> </span><span class="ff24">7.<span class="_ _2c"> </span><span class="ff1e">内置数据结构</span></span></div><div class="t m0 x1a h1f y7e ff1d fsf fc5 sc0 ls1 ws1">特别地，我偶然发现下面几个类型非常好用：</div><div class="t m0 x1a h1f y409 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">collections.namedtuple<span class="ff1d">：像是一个元组，但是每一个值都有自己的名字。</span></span></div><div class="t m0 x1a h1f y40a ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">collections.defaultdict<span class="ff1d">：像是一个字典，但是未定义的键对应一个用<span class="_ _0"></span>户设定的默认</span></span></div><div class="t m0 x32 h1f y40b ff1d fsf fc5 sc0 ls1 ws1">值。</div><div class="t m0 x1a h1f y40c ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">collections.OrderedDict<span class="ff1f">:<span class="_ _8"> </span><span class="ff1d">像是一个字典，但是维护了键的顺序。</span></span></span></div><div class="t m0 x1a h1f y40d ff1d fsf fc5 sc0 ls1 ws1">一旦你<span class="_ _0"></span>了解了这<span class="_ _0"></span>些标准的<span class="_ _0"></span>内置集合类<span class="_ _0"></span>型，使用那<span class="_ _0"></span>些扩展的<span class="_ _0"></span>特性就非常<span class="_ _0"></span>符合直觉。<span class="_ _0"></span>同时我建</div><div class="t m0 x2a h1f y40e ff1d fsf fc5 sc0 ls1 ws1">议阅读它们的使用方法：<span class="ff22 fc7">https://docs.python.org/3/library/collections.html</span>。</div><a class="l" href="https://docs.python.org/3/library/collections.html"><div class="d m7" style="border-style:none;position:absolute;left:192.000000px;bottom:635.042000px;width:286.364000px;height:10.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf34" class="pf w3 h1b" data-page-no="34"><div class="pc pc34 w3 h1b"><img class="bi x2a y40f w4 h4a" alt="" src="bg34.png"/><div class="t m0 xf h1c y410 ff1a fsc fc5 sc0 ls1 ws1">第<span class="_ _7"> </span><span class="ff19">8<span class="_ _7"> </span></span>章<span class="_ _33"> </span>控制流</div><div class="t m0 x1a h1f y411 ff1d fsf fc5 sc0 ls1 ws1">在编程<span class="_ _0"></span>中，学习了<span class="ff1e">控制<span class="_ _0"></span>流</span>（<span class="ff1f">con<span class="_ _4"></span>trol<span class="_ _a"> </span>ﬂo<span class="_ _5"></span>w<span class="ff1d">）<span class="_ _0"></span>才算是你真<span class="_ _0"></span>正开始投入<span class="_ _0"></span>编程的实践。<span class="_ _0"></span>没有它，程</span></span></div><div class="t m0 x2a h1f y412 ff1d fsf fc5 sc0 ls1 ws1">序就只<span class="_ _0"></span>是一串等<span class="_ _0"></span>待顺序执行<span class="_ _0"></span>的语句列<span class="_ _0"></span>表。有了控制流，<span class="_ _0"></span>你就可以<span class="_ _0"></span>有条件地<span class="_ _0"></span>或者循环地<span class="_ _0"></span>执行某一</div><div class="t m0 x2a h1f y413 ff1d fsf fc5 sc0 ls1 ws1">个代码块，这些基本的代码块可以组合成意想不到的复杂的程序！</div><div class="t m0 x1a h1f y414 ff1d fsf fc5 sc0 ls1 ws1">这里<span class="_ _0"></span>我<span class="_ _0"></span>们会<span class="_ _0"></span>介绍条<span class="_ _0"></span>件语<span class="_ _0"></span>句（包<span class="_ _0"></span>括<span class="_ _a"> </span><span class="ff22">if</span>、<span class="ff22">elif<span class="_ _a"> </span></span>和<span class="_ _a"> </span><span class="ff22">else</span>）<span class="_ _0"></span>以及循<span class="_ _0"></span>环语<span class="_ _0"></span>句（包<span class="_ _0"></span>括<span class="_ _a"> </span><span class="ff22">for<span class="_ _a"> </span></span>和<span class="_ _a"> </span><span class="ff22">while</span>，</div><div class="t m0 x2a h1f y415 ff1d fsf fc5 sc0 ls1 ws1">还有<span class="_ _3"> </span><span class="ff22">break</span>、<span class="ff22">continue<span class="_ _e"> </span></span>和<span class="_ _a"> </span><span class="ff22">pass</span>）<span class="_ _39"></span>。</div><div class="t m0 x2a h23 y416 ff19 fsd fc5 sc0 ls1 ws1">8.1<span class="_ _15"> </span><span class="ff1a">条件语句：<span class="ff29">if</span></span>-<span class="ff29">elif</span>-<span class="ff29">else</span></div><div class="t m0 x1a h1f y417 ff1d fsf fc5 sc0 ls1 ws1">条件语句通常是<span class="_ _e"> </span><span class="ff20">if-then<span class="_ _10"> </span></span>语句，程序根据布尔条件执行特定代码片段。<span class="_ _4"></span>下面是<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>条件</div><div class="t m0 x2a h1f y418 ff1d fsf fc5 sc0 ls1 ws1">语句一个基本的例子：</div><div class="t m0 x36 h27 y419 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[1]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>-15</span></span></div><div class="t m0 x46 h27 y41a ff29 fsf fc9 sc0 ls1 ws1">if<span class="_ _3"> </span><span class="ff22 fc5">x<span class="_ _3"> </span><span class="fcb">==<span class="_ _3"> </span>0</span>:</span></div><div class="t m0 x76 h27 y41b ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(x,<span class="_ _3"> </span><span class="fc11">&quot;is<span class="_ _3"> </span>zero&quot;</span>)</span></div><div class="t m0 x46 h27 y41c ff29 fsf fc9 sc0 ls1 ws1">elif<span class="_ _3"> </span><span class="ff22 fc5">x<span class="_ _3"> </span><span class="fcb">&gt;<span class="_ _3"> </span>0</span>:</span></div><div class="t m0 x76 h27 y41d ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(x,<span class="_ _3"> </span><span class="fc11">&quot;is<span class="_ _3"> </span>positive&quot;</span>)</span></div><div class="t m0 x46 h27 y41e ff29 fsf fc9 sc0 ls1 ws1">elif<span class="_ _3"> </span><span class="ff22 fc5">x<span class="_ _3"> </span><span class="fcb">&lt;<span class="_ _3"> </span>0</span>:</span></div><div class="t m0 x76 h27 y41f ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(x,<span class="_ _3"> </span><span class="fc11">&quot;is<span class="_ _3"> </span>negative&quot;</span>)</span></div><div class="t m0 x46 h27 y420 ff29 fsf fc9 sc0 ls1 ws1">else<span class="ff22 fc5">:</span></div><div class="t m0 x76 h27 y421 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(x,<span class="_ _3"> </span><span class="fc11">&quot;is<span class="_ _3"> </span>unlike<span class="_ _3"> </span>anything<span class="_ _3"> </span>I<span class="ff2a">&apos;</span>ve<span class="_ _2"> </span>ever<span class="_ _3"> </span>seen...&quot;</span>)</span></div><div class="t m0 x36 h27 y422 ff22 fsf fc5 sc0 ls1 ws1">-15<span class="_ _3"> </span>is<span class="_ _3"> </span>negative</div><div class="t m0 x1a h1f y423 ff1d fsf fc5 sc0 ls1 ws1">特别要注意冒号（<span class="ff22">:</span>）的使用以及用来分隔代码的空白符。</div><div class="t m0 x1a h1f y424 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _a"> </span><span class="ff1d">采用<span class="_ _0"></span>的<span class="_ _a"> </span><span class="ff22">if<span class="_ _a"> </span></span>和<span class="_ _a"> </span><span class="ff22">else<span class="_ _a"> </span></span>关键<span class="_ _0"></span>字也经<span class="_ _0"></span>常被<span class="_ _0"></span>用在其<span class="_ _0"></span>它语<span class="_ _0"></span>言中，但<span class="_ _0"></span>是关<span class="_ _0"></span>键字<span class="_ _a"> </span><span class="ff22">elif<span class="_ _a"> </span></span>会比<span class="_ _0"></span>较独</span></div><div class="t m0 x2a h1f y425 ff1d fsf fc5 sc0 ls1 ws1">特，<span class="_ _4"></span>它是<span class="_ _e"> </span><span class="ff22">else<span class="_ _3"> </span>if<span class="_ _a"> </span></span>的缩写。<span class="_ _5"></span>在这些条件语句中，<span class="ff22">elif<span class="_ _e"> </span></span>和<span class="_ _e"> </span><span class="ff22">else<span class="_ _a"> </span></span>块是可选的。<span class="_ _4"></span>另外，<span class="_ _4"></span>你可以根据</div><div class="t m0 x2a h1f y426 ff1d fsf fc5 sc0 ls1 ws1">需要使用任意数量的<span class="_ _e"> </span><span class="ff22">elif<span class="_ _a"> </span></span>语句。</div><div class="t m0 x2a h23 y427 ff19 fsd fc5 sc0 ls1 ws1">8.2<span class="_ _15"> </span><span class="ff29">for<span class="_ _3"> </span><span class="ff1a">循环</span></span></div><div class="t m0 x1a h1f yd6 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _e"> </span><span class="ff1d">中的循环是一种重复执行某些代码语句的一种方式。<span class="_ _9"></span>举个例子，<span class="_ _5"></span>如果我们想要打印</span></div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">出一个列表中的每一个元素，我们可以使用<span class="_ _e"> </span><span class="ff22">for<span class="_ _a"> </span></span>循环：</div><div class="t m0 x4f h22 y5c ff1f fsf fc5 sc0 ls1 ws1">43</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf35" class="pf w3 h1b" data-page-no="35"><div class="pc pc35 w3 h1b"><img class="bi x2a y7c w4 h2c" alt="" src="bg35.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">44<span class="_ _75"> </span><span class="ff24">8.<span class="_ _2c"> </span><span class="ff1e">控制流</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[2]:<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span><span class="fc5">N<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _2"> </span></span>[<span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">3</span>,<span class="_ _3"> </span><span class="fcb">5</span>,<span class="_ _3"> </span><span class="fcb">7</span>]:</span></div><div class="t m0 x76 h21 y137 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(N,<span class="_ _3"> </span>end<span class="fcb">=<span class="ff2a fc11">&apos;<span class="_ _3"> </span>&apos;</span></span>)<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">在同一行上打印</span></span></span></div><div class="t m0 x36 h27 y257 ff22 fsf fc5 sc0 ls1 ws1">2<span class="_ _3"> </span>3<span class="_ _3"> </span>5<span class="_ _3"> </span>7</div><div class="t m0 x1a h1f y428 ff1d fsf fc5 sc0 ls1 ws1">注意到<span class="_ _38"> </span><span class="ff22">for<span class="_ _38"> </span></span>循环的简洁性：<span class="_ _3f"></span>我们可以定义我们想要用的循环变量和循环的序列，<span class="_ _40"></span>使用<span class="_ _38"> </span><span class="ff22">in<span class="_ _38"> </span></span>来</div><div class="t m0 x2a h1f y429 ff1d fsf fc5 sc0 ls1 ws1">连接它们，这是一种非常符合直觉且可读的方式。更具体地，<span class="ff22">in<span class="_ _e"> </span></span>运算符右边的对象可以使用任</div><div class="t m0 x2a h1f y42a ff1d fsf fc5 sc0 ls1 ws1">何</div><div class="t m0 x17 h22 y42b ff1f fsf fc5 sc0 ls1 ws1">Python</div><div class="t m0 x51 h1f y42a ff1d fsf fc5 sc0 ls1 ws1">中<span class="_ _0"></span>的迭代<span class="_ _0"></span>器。一<span class="_ _0"></span>个迭代<span class="_ _0"></span>器<span class="_ _0"></span>可以<span class="_ _0"></span>被理<span class="_ _0"></span>解成<span class="_ _0"></span>一<span class="_ _0"></span>个一<span class="_ _0"></span>般的<span class="_ _0"></span>序列，<span class="_ _0"></span>我<span class="_ _0"></span>们将<span class="_ _0"></span>会在<span class="_ _0"></span>第<span class="_ _a"> </span><span class="ff1f fc6">11<span class="_ _a"> </span></span>章<span class="fc6">迭<span class="_ _0"></span>代</span></div><div class="t m0 x2a h1f y42c ff1d fsf fc6 sc0 ls1 ws1">器</div><div class="t m0 x7d h1f y42d ff1d fsf fc5 sc0 ls1 ws1">中讨论它们。</div><div class="t m0 x1a h1f y42e ff1d fsf fc5 sc0 ls1 ws1">举个例子，<span class="ff1f">Python<span class="_ _e"> </span></span>中最常用的迭代器是<span class="_ _a"> </span><span class="ff22">range<span class="_ _e"> </span></span>对象，它可以生成数字的序列：</div><div class="t m0 x36 h27 y42f ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[3]:<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span><span class="fc5">i<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _2"> </span></span><span class="fc9">range</span>(<span class="fcb">10</span>):</span></div><div class="t m0 x76 h27 y430 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(i,<span class="_ _3"> </span>end<span class="fcb">=<span class="ff2a fc11">&apos;<span class="_ _3"> </span>&apos;</span></span>)</span></div><div class="t m0 x36 h27 y431 ff22 fsf fc5 sc0 ls1 ws1">0<span class="_ _3"> </span>1<span class="_ _3"> </span>2<span class="_ _3"> </span>3<span class="_ _3"> </span>4<span class="_ _2"> </span>5<span class="_ _3"> </span>6<span class="_ _3"> </span>7<span class="_ _3"> </span>8<span class="_ _3"> </span>9</div><div class="t m0 x1a h1f y432 ff1d fsf fc5 sc0 ls1 ws1">序列默认<span class="_ _0"></span>从<span class="_ _e"> </span><span class="ff2d">0<span class="_ _a"> </span></span>开始生成，<span class="_ _0"></span>按照惯例，域的<span class="_ _0"></span>上界并没有包<span class="_ _0"></span>含在输出中。<span class="ff22">range<span class="_ _a"> </span></span>对象也可<span class="_ _0"></span>以使</div><div class="t m0 x2a h1f y433 ff1d fsf fc5 sc0 ls1 ws1">用更为复杂的参数来生成：</div><div class="t m0 x36 h21 y434 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[4]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">从<span class="_ _3"> </span></span>5<span class="_ _2"> </span><span class="ff1e">到<span class="_ _3"> </span></span>10<span class="_ _3"> </span><span class="ff1e">的范围</span></span></div><div class="t m0 x46 h27 y435 ff22 fsf fc9 sc0 ls1 ws1">list<span class="fc5">(</span>range<span class="fc5">(<span class="fcb">5</span>,<span class="_ _3"> </span><span class="fcb">10</span>))</span></div><div class="t m0 x36 h27 y436 ff22 fsf fc14 sc0 ls1 ws1">Out[4]:<span class="_ _3"> </span><span class="fc5">[5,<span class="_ _3"> </span>6,<span class="_ _3"> </span>7,<span class="_ _3"> </span>8,<span class="_ _2"> </span>9]</span></div><div class="t m0 x36 h21 y437 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[5]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">从<span class="_ _3"> </span></span>0<span class="_ _2"> </span><span class="ff1e">到<span class="_ _3"> </span></span>10<span class="_ _3"> </span><span class="ff1e">的范围，步长为<span class="_ _3"> </span></span>2</span></div><div class="t m0 x46 h27 y438 ff22 fsf fc9 sc0 ls1 ws1">list<span class="fc5">(</span>range<span class="fc5">(<span class="fcb">0</span>,<span class="_ _3"> </span><span class="fcb">10</span>,<span class="_ _3"> </span><span class="fcb">2</span>))</span></div><div class="t m0 x36 h27 y439 ff22 fsf fc14 sc0 ls1 ws1">Out[5]:<span class="_ _3"> </span><span class="fc5">[0,<span class="_ _3"> </span>2,<span class="_ _3"> </span>4,<span class="_ _3"> </span>6,<span class="_ _2"> </span>8]</span></div><div class="t m0 x1a h1f y43a ff1d fsf fc5 sc0 ls1 ws1">你会发现<span class="_ _e"> </span><span class="ff22">range<span class="_ _a"> </span></span>参数的意义和我们在第<span class="_ _e"> </span><span class="ff1f fc6">7.1<span class="_ _a"> </span></span>节<span class="fc6">列表</span>中提到的切片的语法很像。</div><div class="t m0 x1a h1f y43b ff1d fsf fc5 sc0 ls1 ws1">同时要留意<span class="_ _38"> </span><span class="ff22">range()<span class="_ _35"> </span></span>也是<span class="_ _38"> </span><span class="ff1f">Python<span class="_ _38"> </span>2<span class="_ _38"> </span></span>和<span class="_ _38"> </span><span class="ff1f">Python<span class="_ _38"> </span>3<span class="_ _38"> </span></span>的区别之一：<span class="_ _40"></span>在<span class="_ _35"> </span><span class="ff1f">Python<span class="_ _38"> </span>2<span class="_ _38"> </span></span>中，<span class="_ _40"></span><span class="ff22">range()<span class="_ _35"> </span><span class="ff1d">生</span></span></div><div class="t m0 x2a h1f y43c ff1d fsf fc5 sc0 ls1 ws1">成一个列表，而在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span>3<span class="_ _e"> </span></span>中，<span class="ff22">range()<span class="_ _a"> </span></span>生成一个可迭代的对象。</div><div class="t m0 x2a h23 y43d ff19 fsd fc5 sc0 ls1 ws1">8.3<span class="_ _15"> </span><span class="ff29">while<span class="_ _3"> </span><span class="ff1a">循环</span></span></div><div class="t m0 x1a h1f y43e ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _e"> </span><span class="ff1d">中另外的一种循环类型是<span class="_ _a"> </span><span class="ff22">while<span class="_ _e"> </span></span>循环，它保持循环直到不再满足某种条件：</span></div><div class="t m0 x36 h27 y43f ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[6]:<span class="_ _3"> </span><span class="fc5">i<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>0</span></span></div><div class="t m0 x46 h27 y440 ff29 fsf fc9 sc0 ls1 ws1">while<span class="_ _3"> </span><span class="ff22 fc5">i<span class="_ _3"> </span><span class="fcb">&lt;<span class="_ _3"> </span>10</span>:</span></div><div class="t m0 x76 h27 y256 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(i,<span class="_ _3"> </span>end<span class="fcb">=<span class="ff2a fc11">&apos;<span class="_ _3"> </span>&apos;</span></span>)</span></div><div class="t m0 x76 h27 y153 ff22 fsf fc5 sc0 ls1 ws1">i<span class="_ _3"> </span><span class="fcb">+=<span class="_ _3"> </span>1</span></div><div class="t m0 x36 h27 y155 ff22 fsf fc5 sc0 ls1 ws1">0<span class="_ _3"> </span>1<span class="_ _3"> </span>2<span class="_ _3"> </span>3<span class="_ _3"> </span>4<span class="_ _2"> </span>5<span class="_ _3"> </span>6<span class="_ _3"> </span>7<span class="_ _3"> </span>8<span class="_ _3"> </span>9</div><a class="l" href="#pf46" data-dest-detail='[70,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:475.341000px;bottom:629.775000px;width:10.909000px;height:6.870000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf46" data-dest-detail='[70,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:501.181000px;bottom:626.664000px;width:22.095000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf46" data-dest-detail='[70,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:610.405000px;width:10.909000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2c" data-dest-detail='[44,"XYZ",72,435.51,null]'><div class="d m7" style="border-style:none;position:absolute;left:286.091000px;bottom:284.513000px;width:13.939000px;height:6.870000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2c" data-dest-detail='[44,"XYZ",72,435.51,null]'><div class="d m7" style="border-style:none;position:absolute;left:314.576000px;bottom:281.402000px;width:21.818000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf36" class="pf w3 h1b" data-page-no="36"><div class="pc pc36 w3 h1b"><img class="bi x2a y441 w4 h4b" alt="" src="bg36.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">8.4.<span class="_ _2c"> </span><span class="ff1e">调整循环执行：<span class="ff31">BREAK<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff31">CONTINUE<span class="_ _76"> </span><span class="ff1f">45</span></span></span></div><div class="t m0 x1a h1f y7e ff22 fsf fc5 sc0 ls1 ws1">while<span class="_ _e"> </span><span class="ff1d">循环的参数用一个布尔表达式来表示，循环一直被执行直到表达式的值为假。</span></div><div class="t m0 x2a h23 y442 ff19 fsd fc5 sc0 ls1 ws1">8.4<span class="_ _15"> </span><span class="ff1a">调整循环执行：<span class="ff29">break<span class="_ _3"> </span></span>和<span class="_ _8"> </span><span class="ff29">continue</span></span></div><div class="t m0 x1a h1f y443 ff1d fsf fc5 sc0 ls1 ws1">循环中有两种有用的语句来微调它们的执行：</div><div class="t m0 x1a h1f y444 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">break<span class="_ _a"> </span><span class="ff1d">语句跳出整个循环体。</span></span></div><div class="t m0 x1a h1f y445 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">continue<span class="_ _a"> </span><span class="ff1d">语句跳出当前循环，转到下一次迭代中。</span></span></div><div class="t m0 x1a h1f y446 ff1d fsf fc5 sc0 ls1 ws1">它们可以被用在<span class="_ _e"> </span><span class="ff22">for<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff22">while<span class="_ _a"> </span></span>循环中。</div><div class="t m0 x1a h1f y447 ff1d fsf fc5 sc0 ls1 ws1">这里有一个<span class="_ _0"></span>使用<span class="_ _e"> </span><span class="ff22">continue<span class="_ _a"> </span></span>语句来打印奇<span class="_ _0"></span>数串的例子。在这个<span class="_ _0"></span>例子中，用<span class="_ _a"> </span><span class="ff22">if-else<span class="_ _e"> </span></span>也可以</div><div class="t m0 x2a h1f y448 ff1d fsf fc5 sc0 ls1 ws1">完成任务，只是有时候<span class="_ _e"> </span><span class="ff22">continue<span class="_ _a"> </span></span>语句是一种表达你心中想法的更为方便的方式。</div><div class="t m0 x36 h27 y449 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[7]:<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span><span class="fc5">n<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _2"> </span></span><span class="fc9">range</span>(<span class="fcb">20</span>):</span></div><div class="t m0 x76 h21 y44a ff2c fsf fcf sc0 ls1 ws1">#<span class="_ _3"> </span><span class="ff1e">如果<span class="_ _3"> </span></span>n/2<span class="_ _3"> </span><span class="ff1e">的余数为<span class="_ _3"> </span></span>0<span class="ff1e">，跳过本次循环的循环部分</span></div><div class="t m0 x76 h27 y44b ff29 fsf fc9 sc0 ls1 ws1">if<span class="_ _3"> </span><span class="ff22 fc5">n<span class="_ _3"> </span><span class="fcb">%<span class="_ _3"> </span>2<span class="_ _3"> </span>==<span class="_ _2"> </span>0</span>:</span></div><div class="t m0 x47 h4c y44c ff29 fsf fc9 sc0 ls1 ws1">continue</div><div class="t m0 x76 h27 y44d ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(n,<span class="_ _3"> </span>end<span class="fcb">=<span class="ff2a fc11">&apos;<span class="_ _3"> </span>&apos;</span></span>)</span></div><div class="t m0 x36 h27 y44e ff22 fsf fc5 sc0 ls1 ws1">1<span class="_ _3"> </span>3<span class="_ _3"> </span>5<span class="_ _3"> </span>7<span class="_ _3"> </span>9<span class="_ _2"> </span>11<span class="_ _3"> </span>13<span class="_ _3"> </span>15<span class="_ _3"> </span>17<span class="_ _3"> </span>19</div><div class="t m0 x1a h1f y44f ff1d fsf fc5 sc0 ls1 ws1">这<span class="_ _0"></span>里用<span class="_ _10"> </span><span class="ff22">break<span class="_ _a"> </span></span>语<span class="_ _0"></span>句<span class="_ _0"></span>完成<span class="_ _0"></span>了一<span class="_ _0"></span>个<span class="_ _0"></span>不算<span class="_ _0"></span>简<span class="_ _0"></span>单的<span class="_ _0"></span>任<span class="_ _0"></span>务。这<span class="_ _0"></span>个<span class="_ _0"></span>循环<span class="_ _0"></span>会用<span class="ff1e">斐<span class="_ _0"></span>波<span class="_ _0"></span>那契<span class="_ _0"></span>数<span class="_ _0"></span>列</span>（<span class="ff1f">Fib<span class="_ _0"></span>onacci</span></div><div class="t m0 x2a h1f y450 ff1f fsf fc5 sc0 ls1 ws1">n<span class="_ _4"></span>umbers<span class="ff1d">）填充一个列表，直到数字超过某一个值：</span></div><div class="t m0 x36 h27 y451 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[8]:<span class="_ _3"> </span><span class="fc5">a,<span class="_ _3"> </span>b<span class="_ _3"> </span><span class="fcb">=<span class="_ _2"> </span>0</span>,<span class="_ _3"> </span><span class="fcb">1</span></span></div><div class="t m0 x46 h27 y452 ff22 fsf fc5 sc0 ls1 ws1">amax<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>100</span></div><div class="t m0 x46 h27 y453 ff22 fsf fc5 sc0 ls1 ws1">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[]</div><div class="t m0 x46 h27 y454 ff29 fsf fc9 sc0 ls1 ws1">while<span class="_ _3"> </span>True<span class="ff22 fc5">:</span></div><div class="t m0 x76 h27 y455 ff22 fsf fc5 sc0 ls1 ws1">(a,<span class="_ _3"> </span>b)<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>(b,<span class="_ _3"> </span>a<span class="_ _2"> </span><span class="fcb">+<span class="_ _3"> </span></span>b)</div><div class="t m0 x76 h27 y456 ff29 fsf fc9 sc0 ls1 ws1">if<span class="_ _3"> </span><span class="ff22 fc5">a<span class="_ _3"> </span><span class="fcb">&gt;<span class="_ _3"> </span></span>amax:</span></div><div class="t m0 x47 h4c y457 ff29 fsf fc9 sc0 ls1 ws1">break</div><div class="t m0 x76 h27 y458 ff22 fsf fc5 sc0 ls1 ws1">L<span class="fcb">.</span>append(a)</div><div class="t m0 x46 h27 y459 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(L)</span></div><div class="t m0 x36 h27 y45a ff22 fsf fc5 sc0 ls1 ws1">[1,<span class="_ _3"> </span>1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>5,<span class="_ _2"> </span>8,<span class="_ _3"> </span>13,<span class="_ _3"> </span>21,<span class="_ _3"> </span>34,<span class="_ _3"> </span>55,<span class="_ _3"> </span>89]</div><div class="t m0 x1a h1f y45b ff1d fsf fc5 sc0 ls1 ws1">注意到我们使用<span class="_ _e"> </span><span class="ff22">while<span class="_ _3"> </span>True<span class="_ _a"> </span></span>循环，它会一直循环直到遇到一个跳出语句！</div><div class="t m0 x2a h23 y408 ff19 fsd fc5 sc0 ls1 ws1">8.5<span class="_ _15"> </span><span class="ff1a">带有<span class="_ _3"> </span><span class="ff29">else<span class="_ _8"> </span></span>块的循环</span></div><div class="t m0 x1a h1f yd5 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _10"> </span><span class="ff1d">中<span class="_ _f"></span>有<span class="_ _0"></span>一<span class="_ _0"></span>个<span class="_ _0"></span>很<span class="_ _f"></span>少<span class="_ _0"></span>用<span class="_ _0"></span>到<span class="_ _f"></span>的<span class="_ _10"> </span><span class="ff22">else<span class="_ _3b"> </span></span>语<span class="_ _0"></span>句，<span class="_ _0"></span>它<span class="_ _0"></span>作<span class="_ _f"></span>为<span class="_ _3b"> </span><span class="ff22">for<span class="_ _10"> </span></span>和<span class="_ _3b"> </span><span class="ff22">while<span class="_ _10"> </span></span>循<span class="_ _0"></span>环<span class="_ _f"></span>的<span class="_ _0"></span>一<span class="_ _0"></span>部<span class="_ _0"></span>分。<span class="_ _f"></span>这<span class="_ _0"></span>个<span class="_ _0"></span><span class="ff1a">循</span></span></div><div class="t m0 x2a h1f yd6 ff1a fsf fc5 sc0 ls1 ws1">环<span class="ff21">-<span class="ff29">else<span class="_ _e"> </span><span class="ff1d">或许是<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>中一个让人困惑的名字，<span class="_ _4"></span>我更倾向于把它当作<span class="_ _e"> </span><span class="ff22">nobreak<span class="_ _a"> </span></span>语句：<span class="_ _5"></span><span class="ff22">else<span class="_ _a"> </span><span class="ff1d">块</span></span></span></span></span></div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">的代码只有当循环自然结束时才能执行，也就是说不能遇到<span class="_ _e"> </span><span class="ff22">break<span class="_ _a"> </span></span>语句。</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf37" class="pf w3 h1b" data-page-no="37"><div class="pc pc37 w3 h1b"><img class="bi x2a y45c w4 h4a" alt="" src="bg37.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">46<span class="_ _75"> </span><span class="ff24">8.<span class="_ _2c"> </span><span class="ff1e">控制流</span></span></div><div class="t m0 x1a h1f y7e ff1d fsf fc5 sc0 ls1 ws1">下面是一<span class="_ _0"></span>个可能用到这个语<span class="_ _0"></span>法的例子：未优<span class="_ _0"></span>化的<span class="ff1e">爱拉托逊斯筛<span class="_ _0"></span>法</span>（<span class="ff1f">Siev<span class="_ _4"></span>e<span class="_ _e"> </span>of<span class="_ _a"> </span>Eratosthenes<span class="ff1d">）<span class="_ _d"></span>，</span></span></div><div class="t m0 x2a h1f yb3 ff1d fsf fc5 sc0 ls1 ws1">一个用来找出质数的著名算法：</div><div class="t m0 x36 h27 y45d ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[9]:<span class="_ _3"> </span><span class="fc5">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[]</span></div><div class="t m0 x46 h27 y45e ff22 fsf fc5 sc0 ls1 ws1">nmax<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>30</span></div><div class="t m0 x46 h27 y45f ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">n<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span></span><span class="ff22">range<span class="fc5">(<span class="fcb">2</span>,<span class="_ _3"> </span>nmax):</span></span></div><div class="t m0 x76 h27 y460 ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">factor<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span><span class="ff22 fc5">L:</span></span></div><div class="t m0 x47 h27 y461 ff29 fsf fc9 sc0 ls1 ws1">if<span class="_ _3"> </span><span class="ff22 fc5">n<span class="_ _3"> </span><span class="fcb">%<span class="_ _3"> </span></span>factor<span class="_ _3"> </span><span class="fcb">==<span class="_ _2"> </span>0</span>:</span></div><div class="t m0 x31 h4c y462 ff29 fsf fc9 sc0 ls1 ws1">break</div><div class="t m0 x76 h21 y463 ff29 fsf fc9 sc0 ls1 ws1">else<span class="ff22 fc5">:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">没有<span class="_ _3"> </span></span>break</span></span></div><div class="t m0 x47 h27 y464 ff22 fsf fc5 sc0 ls1 ws1">L<span class="fcb">.</span>append(n)</div><div class="t m0 x46 h27 y465 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(L)</span></div><div class="t m0 x36 h27 y466 ff22 fsf fc5 sc0 ls1 ws1">[2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>5,<span class="_ _3"> </span>7,<span class="_ _3"> </span>11,<span class="_ _2"> </span>13,<span class="_ _3"> </span>17,<span class="_ _3"> </span>19,<span class="_ _3"> </span>23,<span class="_ _3"> </span>29]</div><div class="t m0 x1a h1f y467 ff1d fsf fc5 sc0 ls1 ws1">只有当所有的因子都不能整除给定数字<span class="_ _e"> </span><span class="ff22">n<span class="_ _a"> </span></span>时，<span class="ff22">else<span class="_ _e"> </span></span>语句才被执行。</div><div class="t m0 x1a h1f y468 ff22 fsf fc5 sc0 ls1 ws1">while<span class="_ _e"> </span><span class="ff1d">循环的<span class="_ _a"> </span></span>else<span class="_ _e"> </span><span class="ff1d">语句也是同样的工作机制。</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf38" class="pf w3 h1b" data-page-no="38"><div class="pc pc38 w3 h1b"><img class="bi x2a y1f9 w4 h4d" alt="" src="bg38.png"/><div class="t m0 x7e h1c y3f ff1a fsc fc5 sc0 ls1 ws1">第<span class="_ _7"> </span><span class="ff19">9<span class="_ _7"> </span></span>章<span class="_ _33"> </span>定义和使用函数</div><div class="t m0 x1a h1f y119 ff1d fsf fc5 sc0 ls1 ws1">到<span class="_ _0"></span>现<span class="_ _0"></span>在<span class="_ _0"></span>为<span class="_ _0"></span>止，<span class="_ _0"></span>我<span class="_ _0"></span>们<span class="_ _0"></span>的<span class="_ _0"></span>脚本<span class="_ _0"></span>只<span class="_ _0"></span>是<span class="_ _0"></span>被<span class="_ _0"></span>使<span class="_ _0"></span>用<span class="_ _0"></span>一<span class="_ _0"></span>次<span class="_ _0"></span>的<span class="_ _0"></span>简<span class="_ _0"></span>单代<span class="_ _0"></span>码<span class="_ _0"></span>块。<span class="_ _0"></span>但<span class="_ _0"></span>事<span class="_ _0"></span>实<span class="_ _0"></span>上，我<span class="_ _0"></span>们<span class="_ _0"></span>可<span class="_ _0"></span>以<span class="_ _0"></span>将<span class="_ _0"></span>代<span class="_ _0"></span>码<span class="_ _0"></span>中</div><div class="t m0 x2a h1f y11a ff1d fsf fc5 sc0 ls1 ws1">有<span class="_ _0"></span>用<span class="_ _0"></span>的<span class="_ _0"></span>块<span class="_ _0"></span>提<span class="_ _0"></span>取<span class="_ _0"></span>出<span class="_ _0"></span>来<span class="_ _0"></span>作<span class="_ _0"></span>为<span class="_ _0"></span>可<span class="_ _0"></span>复<span class="_ _0"></span>用<span class="_ _0"></span>的函<span class="_ _0"></span>数<span class="_ _0"></span>来<span class="_ _0"></span>重<span class="_ _0"></span>新<span class="_ _0"></span>组织<span class="_ _0"></span>我<span class="_ _0"></span>们<span class="_ _0"></span>的<span class="_ _3b"> </span><span class="ff1f">Python<span class="_ _10"> </span></span>代<span class="_ _0"></span>码，<span class="_ _0"></span>使<span class="_ _0"></span>得<span class="_ _0"></span>程<span class="_ _0"></span>序<span class="_ _0"></span>更<span class="_ _0"></span>具<span class="_ _0"></span>可<span class="_ _0"></span>读<span class="_ _0"></span>性</div><div class="t m0 x2a h1f y11b ff1d fsf fc5 sc0 ls1 ws1">和<span class="_ _0"></span>可<span class="_ _0"></span>复<span class="_ _0"></span>用<span class="_ _0"></span>性。<span class="_ _0"></span>这<span class="_ _0"></span>里<span class="_ _0"></span>我<span class="_ _0"></span>们<span class="_ _0"></span>将<span class="_ _0"></span>介<span class="_ _0"></span>绍<span class="_ _0"></span>两<span class="_ _0"></span>种<span class="_ _0"></span>创<span class="_ _0"></span>建<span class="_ _0"></span>函<span class="_ _0"></span>数<span class="_ _0"></span>的<span class="_ _0"></span>方<span class="_ _0"></span>法：<span class="ff22">def<span class="_ _10"> </span></span>语<span class="_ _0"></span>句，<span class="_ _0"></span>适<span class="_ _0"></span>用<span class="_ _0"></span>于<span class="_ _0"></span>任<span class="_ _0"></span>何<span class="_ _0"></span>类<span class="_ _0"></span>型<span class="_ _0"></span>的<span class="_ _0"></span>函<span class="_ _0"></span>数；<span class="_ _0"></span>以</div><div class="t m0 x2a h1f y11d ff1d fsf fc5 sc0 ls1 ws1">及</div><div class="t m0 x17 h27 y11e ff22 fsf fc5 sc0 ls1 ws1">lambda</div><div class="t m0 x52 h1f y11d ff1d fsf fc5 sc0 ls1 ws1">语句，适用于创建较短的匿名函数。</div><div class="t m0 x2a h23 y469 ff19 fsd fc5 sc0 ls1 ws1">9.1<span class="_ _15"> </span><span class="ff1a">使用函数</span></div><div class="t m0 x1a h1f y46a ff1d fsf fc5 sc0 ls1 ws1">函数是<span class="_ _0"></span>一组有名<span class="_ _0"></span>字的代码，<span class="_ _0"></span>它可以通<span class="_ _0"></span>过圆括号<span class="_ _0"></span>来进行调用。<span class="_ _0"></span>我们已经<span class="_ _0"></span>接触过一<span class="_ _0"></span>些函数，例</div><div class="t m0 x2a h1f y46b ff1d fsf fc5 sc0 ls1 ws1">如<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span>3<span class="_ _e"> </span></span>中的<span class="_ _a"> </span><span class="ff22">print<span class="_ _e"> </span></span>就是一个函数：</div><div class="t m0 x36 h27 y46c ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[1]:<span class="_ _3"> </span><span class="fc9">print<span class="fc5">(<span class="ff2a fc11">&apos;<span class="ff22">abc</span>&apos;</span>)</span></span></div><div class="t m0 x36 h27 y46d ff22 fsf fc5 sc0 ls1 ws1">abc</div><div class="t m0 x1a h1f y46e ff1d fsf fc5 sc0 ls1 ws1">这里<span class="_ _e"> </span><span class="ff22">print<span class="_ _a"> </span></span>是函数名，而<span class="_ _e"> </span><span class="ff2a">&apos;<span class="ff22">abc</span>&apos;<span class="_ _a"> </span></span>是函数的参数。</div><div class="t m0 x1a h1f y46f ff1d fsf fc5 sc0 ls1 ws1">除了普通参数，<span class="_ _34"></span>还有用名字指定的<span class="ff1e">关键字形式参数<span class="_ _5"></span><span class="ff1d">（<span class="ff1f">keyw<span class="_ _5"></span>ord<span class="_ _e"> </span>argument<span class="ff1d">）<span class="_ _39"></span>。<span class="_ _34"></span><span class="ff22">sep<span class="_ _38"> </span><span class="ff1d">是<span class="_ _e"> </span></span>print<span class="_ _38"> </span><span class="ff1d">函</span></span></span></span></span></span></div><div class="t m0 x2a h1f y470 ff1d fsf fc5 sc0 ls1 ws1">数的一个可用的关键字形式参数（<span class="ff1f">Python<span class="_ _e"> </span>3</span>）<span class="_ _c"></span>，它表示用来间隔各个项之间的字符：</div><div class="t m0 x36 h27 y471 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[2]:<span class="_ _3"> </span><span class="fc9">print<span class="fc5">(<span class="fcb">1</span>,<span class="_ _3"> </span><span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">3</span>)</span></span></div><div class="t m0 x36 h27 y472 ff22 fsf fc5 sc0 ls1 ws1">1<span class="_ _3"> </span>2<span class="_ _3"> </span>3</div><div class="t m0 x36 h27 y473 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[3]:<span class="_ _3"> </span><span class="fc9">print<span class="fc5">(<span class="fcb">1</span>,<span class="_ _3"> </span><span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">3</span>,<span class="_ _2"> </span>sep<span class="fcb">=<span class="ff2a fc11">&apos;<span class="ff22">--</span>&apos;</span></span>)</span></span></div><div class="t m0 x36 h27 y474 ff22 fsf fc5 sc0 ls1 ws1">1--2--3</div><div class="t m0 x1a h1f y475 ff1d fsf fc5 sc0 ls1 ws1">当无关键字的参数和有关键字的参数共同使用时，有关键字的参数必须被放到后面。</div><div class="t m0 x2a h23 y476 ff19 fsd fc5 sc0 ls1 ws1">9.2<span class="_ _15"> </span><span class="ff1a">定义函数</span></div><div class="t m0 x1a h1f y477 ff1d fsf fc5 sc0 ls1 ws1">自定义函数使得函数更加实用，<span class="_ _1"></span>这样代码就可以被多个不同的地方调用。<span class="_ _34"></span>在<span class="_ _38"> </span><span class="ff1f">Python<span class="_ _38"> </span></span>中，<span class="_ _34"></span>函</div><div class="t m0 x2a h1f y478 ff1d fsf fc5 sc0 ls1 ws1">数通过<span class="_ _e"> </span><span class="ff22">def<span class="_ _a"> </span></span>语句来定义。举个例子，我们可以将前一节生成斐波那契数列的代码进行封装：</div><div class="t m0 x36 h27 yd6 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[4]:<span class="_ _3"> </span><span class="ff29 fc9">def<span class="_ _3"> </span></span><span class="fca">fibonacci<span class="fc5">(N):</span></span></div><div class="t m0 x76 h27 y7c ff22 fsf fc5 sc0 ls1 ws1">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[]</div><div class="t m0 x4f h22 y5c ff1f fsf fc5 sc0 ls1 ws1">47</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf39" class="pf w3 h1b" data-page-no="39"><div class="pc pc39 w3 h1b"><img class="bi x2a y7c w4 h4e" alt="" src="bg39.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">48<span class="_ _77"> </span><span class="ff24">9.<span class="_ _2c"> </span><span class="ff1e">定义和使用函数</span></span></div><div class="t m0 x76 h27 y212 ff22 fsf fc5 sc0 ls1 ws1">a,<span class="_ _3"> </span>b<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>0</span>,<span class="_ _3"> </span><span class="fcb">1</span></div><div class="t m0 x76 h27 y213 ff29 fsf fc9 sc0 ls1 ws1">while<span class="_ _3"> </span><span class="ff22">len<span class="fc5">(L)<span class="_ _3"> </span><span class="fcb">&lt;<span class="_ _3"> </span></span>N:</span></span></div><div class="t m0 x47 h27 y386 ff22 fsf fc5 sc0 ls1 ws1">a,<span class="_ _3"> </span>b<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>b,<span class="_ _3"> </span>a<span class="_ _2"> </span><span class="fcb">+<span class="_ _3"> </span></span>b</div><div class="t m0 x47 h27 y387 ff22 fsf fc5 sc0 ls1 ws1">L<span class="fcb">.</span>append(a)</div><div class="t m0 x76 h27 y388 ff29 fsf fc9 sc0 ls1 ws1">return<span class="_ _3"> </span><span class="ff22 fc5">L</span></div><div class="t m0 x1a h1f y479 ff1d fsf fc5 sc0 ls1 ws1">现在我们有了一个叫做<span class="_ _e"> </span><span class="ff22">fibonacci<span class="_ _e"> </span></span>的函数，<span class="_ _5"></span>它接受一个参数<span class="_ _e"> </span><span class="ff22">N</span>，<span class="_ _9"></span>完成对应这个参数的工作，</div><div class="t m0 x2a h1f y47a ff1d fsf fc5 sc0 ls1 ws1">并且返回一个值。下面是一个前<span class="_ _e"> </span><span class="ff22">N<span class="_ _a"> </span></span>项斐波那契数的列表：</div><div class="t m0 x36 h27 y47b ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[5]:<span class="_ _3"> </span><span class="fc5">fibonacci(<span class="fcb">10</span>)</span></div><div class="t m0 x36 h27 y47c ff22 fsf fc14 sc0 ls1 ws1">Out[5]:<span class="_ _3"> </span><span class="fc5">[1,<span class="_ _3"> </span>1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3,<span class="_ _2"> </span>5,<span class="_ _3"> </span>8,<span class="_ _3"> </span>13,<span class="_ _3"> </span>21,<span class="_ _3"> </span>34,<span class="_ _3"> </span>55]</span></div><div class="t m0 x1a h1f y47d ff1d fsf fc5 sc0 ls1 ws1">如果<span class="_ _0"></span>你对类<span class="_ _0"></span>似<span class="_ _a"> </span><span class="ff1f">C<span class="_ _a"> </span></span>这样的<span class="_ _0"></span>强类型<span class="_ _0"></span>语言<span class="_ _0"></span>比较熟<span class="_ _0"></span>悉的话，<span class="_ _0"></span>你会立<span class="_ _0"></span>即发现<span class="_ _0"></span>这里没<span class="_ _0"></span>有关<span class="_ _0"></span>于函数<span class="_ _0"></span>输入、</div><div class="t m0 x2a h1f y47e ff1d fsf fc5 sc0 ls1 ws1">输<span class="_ _0"></span>出<span class="_ _0"></span>的类<span class="_ _0"></span>型<span class="_ _0"></span>信<span class="_ _0"></span>息。<span class="ff1f">Python<span class="_ _a"> </span></span>的函<span class="_ _0"></span>数<span class="_ _0"></span>可以<span class="_ _0"></span>返<span class="_ _0"></span>回<span class="_ _0"></span>任何<span class="_ _10"> </span><span class="ff1f">Python<span class="_ _10"> </span></span>的对<span class="_ _0"></span>象，<span class="_ _0"></span>无论<span class="_ _0"></span>是<span class="_ _0"></span>简<span class="_ _0"></span>单对<span class="_ _0"></span>象还<span class="_ _0"></span>是复<span class="_ _0"></span>合<span class="_ _0"></span>对</div><div class="t m0 x2a h1f y47f ff1d fsf fc5 sc0 ls1 ws1">象。这就意味着对其他语言来说比较难以构造的函数在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>里面却可以直接实现。</div><div class="t m0 x1a h1f y480 ff1d fsf fc5 sc0 ls1 ws1">举个例子：多个返回值会被简单地放入一个用逗号间隔的元组中：</div><div class="t m0 x36 h27 y481 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[6]:<span class="_ _3"> </span><span class="ff29 fc9">def<span class="_ _3"> </span></span><span class="fca">real_imag_conj<span class="fc5">(val):</span></span></div><div class="t m0 x76 h27 y482 ff29 fsf fc9 sc0 ls1 ws1">return<span class="_ _3"> </span><span class="ff22 fc5">val<span class="fcb">.</span>real,<span class="_ _3"> </span>val<span class="fcb">.</span>imag,<span class="_ _3"> </span>val<span class="fcb">.</span>conjugate()</span></div><div class="t m0 x46 h27 y483 ff22 fsf fc5 sc0 ls1 ws1">r,<span class="_ _3"> </span>i,<span class="_ _3"> </span>c<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>real_imag_conj(<span class="fcb">3<span class="_ _2"> </span>+<span class="_ _3"> </span>4</span>j)</div><div class="t m0 x46 h27 y484 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(r,<span class="_ _3"> </span>i,<span class="_ _3"> </span>c)</span></div><div class="t m0 x36 h27 y485 ff22 fsf fc5 sc0 ls1 ws1">3.0<span class="_ _3"> </span>4.0<span class="_ _3"> </span>(3-4j)</div><div class="t m0 x2a h23 y486 ff19 fsd fc5 sc0 ls1 ws1">9.3<span class="_ _15"> </span><span class="ff1a">默认参数</span></div><div class="t m0 x1a h1f y487 ff1d fsf fc5 sc0 ls1 ws1">在定义<span class="_ _0"></span>函数时，通<span class="_ _0"></span>常会有某<span class="_ _0"></span>些参数在<span class="ff1a">大<span class="_ _0"></span>多数情况<span class="_ _0"></span></span>下是同一个<span class="_ _0"></span>特定值，但<span class="_ _0"></span>同时我们<span class="_ _0"></span>又希望用</div><div class="t m0 x2a h1f y488 ff1d fsf fc5 sc0 ls1 ws1">户具<span class="_ _0"></span>有调<span class="_ _0"></span>整它<span class="_ _0"></span>的能<span class="_ _0"></span>力，因而<span class="_ _0"></span>我们<span class="_ _0"></span>给这<span class="_ _0"></span>些参<span class="_ _0"></span>数加<span class="_ _0"></span>上了默认<span class="_ _0"></span>值。思<span class="_ _0"></span>考一<span class="_ _0"></span>下之<span class="_ _0"></span>前的<span class="_ _a"> </span><span class="ff22">fibonacci<span class="_ _a"> </span></span>函<span class="_ _0"></span>数，</div><div class="t m0 x2a h1f y489 ff1d fsf fc5 sc0 ls1 ws1">假如我们希望用户可以自己设定起始数值，我们可以采用下面的方法：</div><div class="t m0 x36 h27 y48a ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[7]:<span class="_ _3"> </span><span class="ff29 fc9">def<span class="_ _3"> </span></span><span class="fca">fibonacci<span class="fc5">(N,<span class="_ _3"> </span>a<span class="fcb">=0</span>,<span class="_ _2"> </span>b<span class="fcb">=1</span>):</span></span></div><div class="t m0 x76 h27 y48b ff22 fsf fc5 sc0 ls1 ws1">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[]</div><div class="t m0 x76 h27 y48c ff29 fsf fc9 sc0 ls1 ws1">while<span class="_ _3"> </span><span class="ff22">len<span class="fc5">(L)<span class="_ _3"> </span><span class="fcb">&lt;<span class="_ _3"> </span></span>N:</span></span></div><div class="t m0 x47 h27 y48d ff22 fsf fc5 sc0 ls1 ws1">a,<span class="_ _3"> </span>b<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>b,<span class="_ _3"> </span>a<span class="_ _2"> </span><span class="fcb">+<span class="_ _3"> </span></span>b</div><div class="t m0 x47 h27 y48e ff22 fsf fc5 sc0 ls1 ws1">L<span class="fcb">.</span>append(a)</div><div class="t m0 x76 h27 y48f ff29 fsf fc9 sc0 ls1 ws1">return<span class="_ _3"> </span><span class="ff22 fc5">L</span></div><div class="t m0 x1a h1f y490 ff1d fsf fc5 sc0 ls1 ws1">如果只给一个参数，那么函数的调用结果和之前完全一样：</div><div class="t m0 x36 h27 y153 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[8]:<span class="_ _3"> </span><span class="fc5">fibonacci(<span class="fcb">10</span>)</span></div><div class="t m0 x36 h27 y155 ff22 fsf fc14 sc0 ls1 ws1">Out[8]:<span class="_ _3"> </span><span class="fc5">[1,<span class="_ _3"> </span>1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3,<span class="_ _2"> </span>5,<span class="_ _3"> </span>8,<span class="_ _3"> </span>13,<span class="_ _3"> </span>21,<span class="_ _3"> </span>34,<span class="_ _3"> </span>55]</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf3a" class="pf w3 h1b" data-page-no="3a"><div class="pc pc3a w3 h1b"><img class="bi x2a y7c w4 h4f" alt="" src="bg3a.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">9.4.<span class="_ _2c"> </span><span class="ff1e">可变参数：<span class="ff31">*ARGS<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff31">**KWARGS<span class="_ _78"> </span><span class="ff1f">49</span></span></span></div><div class="t m0 x1a h1f y7e ff1d fsf fc5 sc0 ls1 ws1">但是现在，我们可以用这个函数来探索新事物，比如设定新的初始值：</div><div class="t m0 x36 h27 y491 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[9]:<span class="_ _3"> </span><span class="fc5">fibonacci(<span class="fcb">10</span>,<span class="_ _3"> </span><span class="fcb">0</span>,<span class="_ _3"> </span><span class="fcb">2</span>)</span></div><div class="t m0 x36 h27 y492 ff22 fsf fc14 sc0 ls1 ws1">Out[9]:<span class="_ _3"> </span><span class="fc5">[2,<span class="_ _3"> </span>2,<span class="_ _3"> </span>4,<span class="_ _3"> </span>6,<span class="_ _2"> </span>10,<span class="_ _3"> </span>16,<span class="_ _3"> </span>26,<span class="_ _3"> </span>42,<span class="_ _3"> </span>68,<span class="_ _3"> </span>110]</span></div><div class="t m0 x1a h1f y493 ff1d fsf fc5 sc0 ls1 ws1">我们也可以按照意愿用名字来指定参数的值，这样参数变量的顺序就无所谓先后了：</div><div class="t m0 x36 h27 y494 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[10]:<span class="_ _3"> </span><span class="fc5">fibonacci(<span class="fcb">10</span>,<span class="_ _3"> </span>b<span class="fcb">=3</span>,<span class="_ _3"> </span>a<span class="fcb">=1</span>)</span></div><div class="t m0 x36 h27 y495 ff22 fsf fc14 sc0 ls1 ws1">Out[10]:<span class="_ _3"> </span><span class="fc5">[3,<span class="_ _3"> </span>4,<span class="_ _3"> </span>7,<span class="_ _3"> </span>11,<span class="_ _2"> </span>18,<span class="_ _3"> </span>29,<span class="_ _3"> </span>47,<span class="_ _3"> </span>76,<span class="_ _3"> </span>123,<span class="_ _3"> </span>199]</span></div><div class="t m0 x2a h23 y496 ff19 fsd fc5 sc0 ls1 ws1">9.4<span class="_ _15"> </span><span class="ff1a">可变参数：<span class="ff29">*args<span class="_ _3"> </span></span>和<span class="_ _8"> </span><span class="ff29">**kwargs</span></span></div><div class="t m0 x1a h1f y497 ff1d fsf fc5 sc0 ls1 ws1">有时候，你可能会希望有这样一个函数：你一开始并不知道用户会传多少参数给这个函数。</div><div class="t m0 x2a h1f y498 ff1d fsf fc5 sc0 ls1 ws1">在这种情况下，你可以使用<span class="_ _e"> </span><span class="ff22">*args<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff22">**kwargs<span class="_ _a"> </span></span>的特殊形式来捕捉传进来的参数。就像这样：</div><div class="t m0 x36 h27 y499 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[11]:<span class="_ _3"> </span><span class="ff29 fc9">def<span class="_ _3"> </span></span><span class="fca">catch_all<span class="fc5">(<span class="fcb">*</span>args,<span class="_ _3"> </span><span class="fcb">**</span>kwargs):</span></span></div><div class="t m0 x25 h27 y49a ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;args<span class="_ _3"> </span>=&quot;</span>,<span class="_ _3"> </span>args)</span></div><div class="t m0 x25 h27 y49b ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;kwargs<span class="_ _3"> </span>=<span class="_ _3"> </span>&quot;</span>,<span class="_ _3"> </span>kwargs)</span></div><div class="t m0 x36 h27 y49c ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[12]:<span class="_ _3"> </span><span class="fc5">catch_all(<span class="fcb">1</span>,<span class="_ _3"> </span><span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">3</span>,<span class="_ _2"> </span>a<span class="fcb">=4</span>,<span class="_ _3"> </span>b<span class="fcb">=5</span>)</span></div><div class="t m0 x36 h27 y49d ff22 fsf fc5 sc0 ls1 ws1">args<span class="_ _3"> </span>=<span class="_ _3"> </span>(1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3)</div><div class="t m0 x36 h27 y49e ff22 fsf fc5 sc0 ls1 ws1">kwargs<span class="_ _3"> </span>=<span class="_ _44"> </span>{</div><div class="t m0 x5d h27 y49f ff2a fsf fc5 sc0 ls1 ws1">&apos;</div><div class="t m0 x76 h27 y49e ff22 fsf fc5 sc0 ls1 ws1">a</div><div class="t m0 x25 h27 y49f ff2a fsf fc5 sc0 ls1 ws1">&apos;</div><div class="t m0 x7f h27 y49e ff22 fsf fc5 sc0 ls1 ws1">:<span class="_ _3"> </span>4,</div><div class="t m0 x80 h27 y49f ff2a fsf fc5 sc0 ls1 ws1">&apos;</div><div class="t m0 x31 h27 y49e ff22 fsf fc5 sc0 ls1 ws1">b</div><div class="t m0 x5c h27 y49f ff2a fsf fc5 sc0 ls1 ws1">&apos;</div><div class="t m0 x81 h27 y49e ff22 fsf fc5 sc0 ls1 ws1">:<span class="_ _3"> </span>5}</div><div class="t m0 x36 h27 y4a0 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[13]:<span class="_ _3"> </span><span class="fc5">catch_all(<span class="ff2a fc11">&apos;<span class="ff22">a</span>&apos;</span>,<span class="_ _3"> </span>keyword<span class="fcb">=2</span>)</span></div><div class="t m0 x36 h27 y4a1 ff22 fsf fc5 sc0 ls1 ws1">args<span class="_ _3"> </span>=<span class="_ _3"> </span>(<span class="ff2a">&apos;</span>a<span class="ff2a">&apos;</span>,)</div><div class="t m0 x36 h27 y4a2 ff22 fsf fc5 sc0 ls1 ws1">kwargs<span class="_ _3"> </span>=<span class="_ _44"> </span>{<span class="ff2a">&apos;</span>keyword<span class="ff2a">&apos;</span>:<span class="_ _2"> </span>2}</div><div class="t m0 x1a h1f y4a3 ff1d fsf fc5 sc0 ls1 ws1">这<span class="_ _35"> </span>里<span class="_ _7"> </span><span class="ff22">*args<span class="_ _7"> </span></span>和<span class="_ _7"> </span><span class="ff22">**kwargs<span class="_ _7"> </span></span>的<span class="_ _35"> </span>名<span class="_ _38"> </span>字<span class="_ _35"> </span>并<span class="_ _38"> </span>不<span class="_ _35"> </span>重<span class="_ _35"> </span>要，<span class="_ _38"> </span>重<span class="_ _35"> </span>要<span class="_ _38"> </span>的<span class="_ _35"> </span>是<span class="_ _38"> </span>在<span class="_ _35"> </span>它<span class="_ _38"> </span>们<span class="_ _35"> </span>前<span class="_ _35"> </span>面<span class="_ _38"> </span>的<span class="_ _35"> </span>字<span class="_ _38"> </span>符<span class="_ _7"> </span><span class="ff22">*</span>。</div><div class="t m0 x2a h1f y4a4 ff22 fsf fc5 sc0 ls1 ws1">args<span class="_ _3b"> </span><span class="ff1d">和<span class="_ _3b"> </span></span>kwargs<span class="_ _3b"> </span><span class="ff1d">只<span class="_ _f"></span>不<span class="_ _f"></span>过<span class="_ _f"></span>是<span class="_ _f"></span>惯<span class="_ _f"></span>用<span class="_ _f"></span>的变<span class="_ _f"></span>量<span class="_ _f"></span>名，<span class="_ _0"></span>是<span class="_ _8"> </span><span class="ff1f">“argumen<span class="_ _4"></span>ts”<span class="_ _3b"> </span><span class="ff1d">和<span class="_ _3b"> </span></span>“keyw<span class="_ _5"></span>ord<span class="_ _8"> </span>arguemn<span class="_ _4"></span>ts”<span class="_ _3b"> </span><span class="ff1d">的<span class="_ _0"></span>缩<span class="_ _f"></span>写。</span></span></span></div><div class="t m0 x2a h1f y4a5 ff1d fsf fc5 sc0 ls1 ws1">起<span class="_ _f"></span>作<span class="_ _0"></span>用<span class="_ _f"></span>的<span class="_ _f"></span>还<span class="_ _f"></span>是<span class="_ _f"></span>星<span class="_ _f"></span>号<span class="_ _f"></span>字<span class="_ _f"></span>符<span class="_ _f"></span>（<span class="ff22">*</span>）<span class="_ _40"></span>：变<span class="_ _f"></span>量<span class="_ _f"></span>前<span class="_ _f"></span>面<span class="_ _f"></span>单<span class="_ _f"></span>独<span class="_ _f"></span>的<span class="_ _3b"> </span><span class="ff22">*<span class="_ _3b"> </span></span>意<span class="_ _f"></span>味<span class="_ _f"></span>着<span class="_ _f"></span>“将<span class="_ _f"></span>其<span class="_ _f"></span>展<span class="_ _f"></span>开<span class="_ _f"></span>为列<span class="_ _f"></span>表”<span class="_ _40"></span>，<span class="_ _f"></span>而变<span class="_ _f"></span>量<span class="_ _f"></span>前<span class="_ _f"></span>面</div><div class="t m0 x2a h1f y4a6 ff1d fsf fc5 sc0 ls1 ws1">的<span class="_ _a"> </span><span class="ff22">**<span class="_ _e"> </span></span>则意味着<span class="_ _0"></span>“将其展开为字典”<span class="_ _c"></span>。事实上，<span class="_ _0"></span>这种语法不仅仅被用在函数定<span class="_ _0"></span>义中，函数的调用</div><div class="t m0 x2a h1f y4a7 ff1d fsf fc5 sc0 ls1 ws1">同样也是如此：</div><div class="t m0 x36 h27 y4a8 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[14]:<span class="_ _3"> </span><span class="fc5">inputs<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>(<span class="fcb">1</span>,<span class="_ _2"> </span><span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">3</span>)</span></div><div class="t m0 x51 h27 y43f ff22 fsf fc5 sc0 ls1 ws1">keywords<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>{<span class="ff2a fc11">&apos;<span class="ff22">pi</span>&apos;</span>:<span class="_ _3"> </span><span class="fcb">3.14</span>}</div><div class="t m0 x51 h27 y256 ff22 fsf fc5 sc0 ls1 ws1">catch_all(<span class="fcb">*</span>inputs,<span class="_ _3"> </span><span class="fcb">**</span>keywords)</div><div class="t m0 x36 h27 y154 ff22 fsf fc5 sc0 ls1 ws1">args<span class="_ _3"> </span>=<span class="_ _3"> </span>(1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3)</div><div class="t m0 x36 h27 y155 ff22 fsf fc5 sc0 ls1 ws1">kwargs<span class="_ _3"> </span>=<span class="_ _44"> </span>{<span class="ff2a">&apos;</span>pi<span class="ff2a">&apos;</span>:<span class="_ _2"> </span>3.14}</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf3b" class="pf w3 h1b" data-page-no="3b"><div class="pc pc3b w3 h1b"><img class="bi x2a y118 w4 h50" alt="" src="bg3b.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">50<span class="_ _77"> </span><span class="ff24">9.<span class="_ _2c"> </span><span class="ff1e">定义和使用函数</span></span></div><div class="t m0 x2a h23 yf7 ff19 fsd fc5 sc0 ls1 ws1">9.5<span class="_ _15"> </span><span class="ff1a">匿名（</span>Lambda<span class="ff1a">）函数</span></div><div class="t m0 x1a h1f y4a9 ff1d fsf fc5 sc0 ls1 ws1">之前我们已经快<span class="_ _0"></span>速了解了定义函数最常用的方<span class="_ _0"></span>式，也就是通过<span class="_ _a"> </span><span class="ff22">def<span class="_ _e"> </span></span>语句。这里我们<span class="_ _0"></span>将介绍</div><div class="t m0 x2a h1f y4aa ff1d fsf fc5 sc0 ls1 ws1">另一种用<span class="_ _e"> </span><span class="ff22">lambda<span class="_ _a"> </span></span>语句定义的更为短小的一次性函数。它看起来长成这样：</div><div class="t m0 x36 h27 y4ab ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[15]:<span class="_ _3"> </span><span class="fc5">add<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="ff29 fc9">lambda<span class="_ _2"> </span></span></span>x,<span class="_ _3"> </span>y:<span class="_ _3"> </span>x<span class="_ _3"> </span><span class="fcb">+<span class="_ _3"> </span></span>y</span></div><div class="t m0 x51 h27 y4ac ff22 fsf fc5 sc0 ls1 ws1">add(<span class="fcb">1</span>,<span class="_ _3"> </span><span class="fcb">2</span>)</div><div class="t m0 x36 h27 y4ad ff22 fsf fc14 sc0 ls1 ws1">Out[15]:<span class="_ _3"> </span><span class="fc5">3</span></div><div class="t m0 x1a h1f y4ae ff1d fsf fc5 sc0 ls1 ws1">这个<span class="_ _e"> </span><span class="ff1f">Lambda<span class="_ _a"> </span></span>函数粗略地等价于：</div><div class="t m0 x36 h27 y4af ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[16]:<span class="_ _3"> </span><span class="ff29 fc9">def<span class="_ _3"> </span></span><span class="fca">add<span class="fc5">(x,<span class="_ _3"> </span>y):</span></span></div><div class="t m0 x25 h27 y4b0 ff29 fsf fc9 sc0 ls1 ws1">return<span class="_ _3"> </span><span class="ff22 fc5">x<span class="_ _3"> </span><span class="fcb">+<span class="_ _3"> </span></span>y</span></div><div class="t m0 x1a h1f y4b1 ff1d fsf fc5 sc0 ls1 ws1">那么<span class="_ _0"></span>为什么<span class="_ _0"></span>我们<span class="_ _0"></span>会想要<span class="_ _0"></span>用这种语<span class="_ _0"></span>法呢？首<span class="_ _0"></span>先，在<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中有<span class="_ _0"></span>这样<span class="_ _0"></span>一个事<span class="_ _0"></span>实：<span class="ff1a">一切<span class="_ _0"></span>都是对</span></div><div class="t m0 x2a h1f y4b2 ff1a fsf fc5 sc0 ls1 ws1">象<span class="ff1d">，甚至是函数本身！这就意味着函数可以被当作参数传入另一个函数。</span></div><div class="t m0 x82 h26 y4b3 ff26 fs10 fc6 sc0 ls1 ws1">1</div><div class="t m0 x1a h1f y4b4 ff1d fsf fc5 sc0 ls1 ws1">下面是对应的例子：假设我们有一些数据，它们存放在一个由字典组成的列表中。</div><div class="t m0 x36 h27 y4b5 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[17]:<span class="_ _3"> </span><span class="fc5">data<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[{<span class="ff2a fc11">&apos;<span class="ff22">first</span>&apos;</span>:<span class="ff2a fc11">&apos;<span class="ff22">Guido</span>&apos;</span>,<span class="_ _2"> </span><span class="ff2a fc11">&apos;<span class="ff22">last</span>&apos;</span>:<span class="ff2a fc11">&apos;<span class="ff22">Van<span class="_ _3"> </span>Rossum</span>&apos;</span>,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">YOB</span>&apos;</span>:<span class="fcb">1956</span>},</span></div><div class="t m0 x59 h27 y4b6 ff22 fsf fc5 sc0 ls1 ws1">{<span class="ff2a fc11">&apos;<span class="ff22">first</span>&apos;</span>:<span class="ff2a fc11">&apos;<span class="ff22">Grace</span>&apos;</span>,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">last</span>&apos;</span>:<span class="ff2a fc11">&apos;<span class="ff22">Hopper</span>&apos;</span>,<span class="_ _4f"> </span><span class="ff2a fc11">&apos;<span class="ff22">YOB</span>&apos;</span>:<span class="fcb">1906</span>},</div><div class="t m0 x59 h27 y4b7 ff22 fsf fc5 sc0 ls1 ws1">{<span class="ff2a fc11">&apos;<span class="ff22">first</span>&apos;</span>:<span class="ff2a fc11">&apos;<span class="ff22">Alan</span>&apos;</span>,<span class="_ _44"> </span><span class="ff2a fc11">&apos;<span class="ff22">last</span>&apos;</span>:<span class="ff2a fc11">&apos;<span class="ff22">Turing</span>&apos;</span>,<span class="_ _4f"> </span><span class="ff2a fc11">&apos;<span class="ff22">YOB</span>&apos;</span>:<span class="fcb">1912</span>}]</div><div class="t m0 x1a h1f y4b8 ff1d fsf fc5 sc0 ls1 ws1">现在我们想要对数据进行排序。<span class="ff1f">Python<span class="_ _e"> </span></span>已经有一个<span class="_ _a"> </span><span class="ff22">sorted<span class="_ _e"> </span></span>函数来完成这项工作：</div><div class="t m0 x36 h27 y4b9 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[18]:<span class="_ _3"> </span><span class="fc9">sorted<span class="fc5">([<span class="fcb">2</span>,<span class="fcb">4</span>,<span class="fcb">3</span>,<span class="fcb">5</span>,<span class="fcb">1</span>,<span class="fcb">6</span>])</span></span></div><div class="t m0 x36 h27 y4ba ff22 fsf fc14 sc0 ls1 ws1">Out[18]:<span class="_ _3"> </span><span class="fc5">[1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>4,<span class="_ _2"> </span>5,<span class="_ _3"> </span>6]</span></div><div class="t m0 x1a h1f y4bb ff1d fsf fc5 sc0 ls1 ws1">然而字<span class="_ _0"></span>典并不可<span class="_ _0"></span>排序：我们<span class="_ _0"></span>需要一种<span class="_ _0"></span>方法来告<span class="_ _0"></span>诉函数按照<span class="ff1a">什<span class="_ _0"></span>么顺序</span>排<span class="_ _0"></span>列我们的<span class="_ _0"></span>数据。我们</div><div class="t m0 x2a h1f y4bc ff1d fsf fc5 sc0 ls1 ws1">可以定义一个<span class="_ _e"> </span><span class="ff22">key<span class="_ _a"> </span></span>函数，只要给它一个项，它就可以返回排序所依据的键：</div><div class="t m0 x36 h21 y4bd ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[19]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">根据名字按字典序排序</span></span></div><div class="t m0 x51 h27 y4be ff22 fsf fc9 sc0 ls1 ws1">sorted<span class="fc5">(data,<span class="_ _3"> </span>key<span class="fcb">=</span></span><span class="ff29">lambda<span class="_ _3"> </span></span><span class="fc5">item:<span class="_ _3"> </span>item[<span class="ff2a fc11">&apos;<span class="ff22">first</span>&apos;</span>])</span></div><div class="t m0 x36 h27 y4bf ff22 fsf fc14 sc0 ls1 ws1">Out[19]:<span class="_ _3"> </span><span class="fc5">[{<span class="ff2a">&apos;</span>YOB<span class="ff2a">&apos;</span>:<span class="_ _3"> </span>1912,<span class="_ _3"> </span><span class="ff2a">&apos;</span>first<span class="ff2a">&apos;</span>:<span class="_ _3"> </span><span class="ff2a">&apos;</span>Alan<span class="ff2a">&apos;</span>,<span class="_ _2"> </span><span class="ff2a">&apos;</span>last<span class="ff2a">&apos;</span>:<span class="_ _3"> </span><span class="ff2a">&apos;</span>Turing<span class="ff2a">&apos;</span>},</span></div><div class="t m0 x3 h27 y4c0 ff22 fsf fc5 sc0 ls1 ws1">{<span class="ff2a">&apos;</span>YOB<span class="ff2a">&apos;</span>:<span class="_ _3"> </span>1906,<span class="_ _3"> </span><span class="ff2a">&apos;</span>first<span class="ff2a">&apos;</span>:<span class="_ _3"> </span><span class="ff2a">&apos;</span>Grace<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>last<span class="ff2a">&apos;</span>:<span class="_ _2"> </span><span class="ff2a">&apos;</span>Hopper<span class="ff2a">&apos;</span>},</div><div class="t m0 x3 h27 y4c1 ff22 fsf fc5 sc0 ls1 ws1">{<span class="ff2a">&apos;</span>YOB<span class="ff2a">&apos;</span>:<span class="_ _3"> </span>1956,<span class="_ _3"> </span><span class="ff2a">&apos;</span>first<span class="ff2a">&apos;</span>:<span class="_ _3"> </span><span class="ff2a">&apos;</span>Guido<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>last<span class="ff2a">&apos;</span>:<span class="_ _2"> </span><span class="ff2a">&apos;</span>Van<span class="_ _3"> </span>Rossum<span class="ff2a">&apos;</span>}]</div><div class="t m0 x36 h21 y4c2 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[20]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">根据出生日期排序</span></span></div><div class="t m0 x51 h27 y4c3 ff22 fsf fc9 sc0 ls1 ws1">sorted<span class="fc5">(data,<span class="_ _3"> </span>key<span class="fcb">=</span></span><span class="ff29">lambda<span class="_ _3"> </span></span><span class="fc5">item:<span class="_ _3"> </span>item[<span class="ff2a fc11">&apos;<span class="ff22">YOB</span>&apos;</span>])</span></div><div class="t m0 x37 h28 y135 ff27 fs11 fc5 sc0 ls1 ws1">1</div><div class="t m0 x2f h29 y7c ff1d fs12 fc5 sc0 ls1 ws1">译者注：这就是所谓<span class="ff1e">一等函数</span>（<span class="ff28">ﬁrst-order<span class="_ _38"> </span>function</span>）的概念：将函数像值一样传递。</div><a class="l" href="#pf3b" data-dest-detail='[59,"XYZ",88.59,85.15,null]'><div class="d m7" style="border-style:none;position:absolute;left:421.091000px;bottom:503.583000px;width:4.234000px;height:5.136000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf3c" class="pf w3 h1b" data-page-no="3c"><div class="pc pc3c w3 h1b"><img class="bi x2a y4c4 w4 h51" alt="" src="bg3c.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">9.5.<span class="_ _2c"> </span><span class="ff1e">匿名（</span>LAMBDA<span class="ff1e">）函数<span class="_ _79"> </span><span class="ff1f">51</span></span></div><div class="t m0 x36 h27 y212 ff22 fsf fc14 sc0 ls1 ws1">Out[20]:<span class="_ _3"> </span><span class="fc5">[{<span class="ff2a">&apos;</span>YOB<span class="ff2a">&apos;</span>:<span class="_ _3"> </span>1906,<span class="_ _3"> </span><span class="ff2a">&apos;</span>first<span class="ff2a">&apos;</span>:<span class="_ _3"> </span><span class="ff2a">&apos;</span>Grace<span class="ff2a">&apos;</span>,<span class="_ _2"> </span><span class="ff2a">&apos;</span>last<span class="ff2a">&apos;</span>:<span class="_ _3"> </span><span class="ff2a">&apos;</span>Hopper<span class="ff2a">&apos;</span>},</span></div><div class="t m0 x3 h27 y213 ff22 fsf fc5 sc0 ls1 ws1">{<span class="ff2a">&apos;</span>YOB<span class="ff2a">&apos;</span>:<span class="_ _3"> </span>1912,<span class="_ _3"> </span><span class="ff2a">&apos;</span>first<span class="ff2a">&apos;</span>:<span class="_ _3"> </span><span class="ff2a">&apos;</span>Alan<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>last<span class="ff2a">&apos;</span>:<span class="_ _2"> </span><span class="ff2a">&apos;</span>Turing<span class="ff2a">&apos;</span>},</div><div class="t m0 x3 h27 y386 ff22 fsf fc5 sc0 ls1 ws1">{<span class="ff2a">&apos;</span>YOB<span class="ff2a">&apos;</span>:<span class="_ _3"> </span>1956,<span class="_ _3"> </span><span class="ff2a">&apos;</span>first<span class="ff2a">&apos;</span>:<span class="_ _3"> </span><span class="ff2a">&apos;</span>Guido<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>last<span class="ff2a">&apos;</span>:<span class="_ _2"> </span><span class="ff2a">&apos;</span>Van<span class="_ _3"> </span>Rossum<span class="ff2a">&apos;</span>}]</div><div class="t m0 x1a h1f y4c5 ff1d fsf fc5 sc0 ls1 ws1">尽管这<span class="_ _0"></span>些函数一定可<span class="_ _0"></span>以用正常<span class="_ _0"></span>的<span class="_ _e"> </span><span class="ff22">def<span class="_ _a"> </span></span>语法来<span class="_ _0"></span>定义，但<span class="_ _a"> </span><span class="ff22">lambda<span class="_ _a"> </span></span>的语法则让<span class="_ _0"></span>这些短小的<span class="_ _0"></span>一次</div><div class="t m0 x2a h1f y4c6 ff1d fsf fc5 sc0 ls1 ws1">性函数使用起来更加方便。</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf3d" class="pf w3 h1b" data-page-no="3d"><div class="pc pc3d w3 h1b"></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf3e" class="pf w3 h1b" data-page-no="3e"><div class="pc pc3e w3 h1b"><img class="bi x2a y1f9 w4 h52" alt="" src="bg3e.png"/><div class="t m0 x83 h1c y3f ff1a fsc fc5 sc0 ls1 ws1">第<span class="_ _7"> </span><span class="ff19">10<span class="_ _7"> </span></span>章<span class="_ _33"> </span>错误和异常</div><div class="t m0 x1a h1f y240 ff1d fsf fc5 sc0 ls1 ws1">不论你<span class="_ _0"></span>的代码水<span class="_ _0"></span>平怎么样，<span class="_ _0"></span>你终究会在<span class="_ _0"></span>代码中遇<span class="_ _0"></span>到一些错<span class="_ _0"></span>误。可能遇到<span class="_ _0"></span>的错误一<span class="_ _0"></span>般有下列</div><div class="t m0 x2a h1f y241 ff1d fsf fc5 sc0 ls1 ws1">三种：</div><div class="t m0 x1a h1f y4c7 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1e">语<span class="_ _0"></span>法错误<span class="ff1d">（<span class="ff1f">syntax<span class="_ _a"> </span>error</span>）<span class="_ _d"></span>：由于<span class="_ _0"></span>你写出了<span class="_ _0"></span>不合法<span class="_ _0"></span>的<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>代<span class="_ _0"></span>码导致的<span class="_ _0"></span>错误（一般<span class="_ _0"></span>很好</span></span></div><div class="t m0 x32 h1f y4c8 ff1d fsf fc5 sc0 ls1 ws1">修改）<span class="_ _39"></span>。</div><div class="t m0 x1a h1f y4c9 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1e">运行时错误<span class="_ _4"></span><span class="ff1d">（<span class="ff1f">runtime<span class="_ _38"> </span>error</span>）<span class="_ _39"></span>：<span class="_ _9"></span>由于语法上有效代码无法得到执行导致的错误。<span class="_ _34"></span>也许是由</span></span></div><div class="t m0 x32 h1f y4ca ff1d fsf fc5 sc0 ls1 ws1">于不合法的用户输入导致的（有时候很好修改）<span class="_ _39"></span>。</div><div class="t m0 x1a h1f y4cb ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1e">语义<span class="_ _0"></span>错误<span class="ff1d">（<span class="ff1f">semantic<span class="_ _e"> </span>error</span>）<span class="_ _d"></span>：<span class="_ _0"></span>那些逻辑上<span class="_ _0"></span>的错误。代<span class="_ _0"></span>码执行时并<span class="_ _0"></span>没有出现<span class="_ _0"></span>问题，但是<span class="_ _0"></span>结</span></span></div><div class="t m0 x32 h1f y4cc ff1d fsf fc5 sc0 ls1 ws1">果却不是你想要的那样（一般很难追踪和修改）<span class="_ _39"></span>。</div><div class="t m0 x1a h1f y4cd ff1d fsf fc5 sc0 ls1 ws1">这里我们主要来看一下如何干净地处理运行时错误。<span class="_ _9"></span>我们可以看到，<span class="_ _5"></span><span class="ff1f">Python<span class="_ _e"> </span><span class="ff1d">使用它的<span class="ff1e">异常</span></span></span></div><div class="t m0 x2a h1f y4ce ff1e fsf fc5 sc0 ls1 ws1">处理<span class="ff1d">（<span class="ff1f">exception<span class="_ _e"> </span>handling</span>）框架来处理运行时错误。</span></div><div class="t m0 x2a h23 y4cf ff19 fsd fc5 sc0 ls1 ws1">10.1<span class="_ _15"> </span><span class="ff1a">运行时错误</span></div><div class="t m0 x1a h1f y4d0 ff1d fsf fc5 sc0 ls1 ws1">如果<span class="_ _0"></span>你写过<span class="_ _0"></span>一些<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>代码，<span class="_ _0"></span>你应该<span class="_ _0"></span>会遇到<span class="_ _0"></span>一些运行<span class="_ _0"></span>时错误，<span class="_ _0"></span>它们可<span class="_ _0"></span>能发生<span class="_ _0"></span>在各种<span class="_ _0"></span>情况</div><div class="t m0 x2a h1f y4d1 ff1d fsf fc5 sc0 ls1 ws1">下。</div><div class="t m0 x1a h1f y4d2 ff1d fsf fc5 sc0 ls1 ws1">比如，如果你尝试使用一个未定义的变量：</div><div class="t m0 x36 h27 y4d3 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[1]:<span class="_ _3"> </span><span class="fc9">print<span class="fc5">(Q)</span></span></div><div class="t m0 x46 h27 y4d4 ff22 fsf fc5 sc0 ls1 ws1">----------------------------------------------------------------------</div><div class="t m0 x46 h27 y4d5 ff22 fsf fc5 sc0 ls1 ws1">NameError<span class="_ _71"> </span>Traceback<span class="_ _3"> </span>(most<span class="_ _3"> </span>recent<span class="_ _3"> </span>call<span class="_ _3"> </span>last)</div><div class="t m0 x46 h27 y4d6 ff22 fsf fc5 sc0 ls1 ws1">&lt;ipython-input-3-e796bdcf24ff&gt;<span class="_ _3"> </span>in<span class="_ _3"> </span>&lt;module&gt;()</div><div class="t m0 x49 h27 y4d7 ff22 fsf fc5 sc0 ls1 ws1">----&gt;<span class="_ _3"> </span>1<span class="_ _3"> </span>print(Q)</div><div class="t m0 x46 h27 y4d8 ff22 fsf fc5 sc0 ls1 ws1">NameError:<span class="_ _3"> </span>name<span class="_ _3"> </span><span class="ff2a">&apos;</span>Q<span class="ff2a">&apos;<span class="_ _3"> </span></span>is<span class="_ _3"> </span>not<span class="_ _2"> </span>defined</div><div class="t m0 x1a h1f y4d9 ff1d fsf fc5 sc0 ls1 ws1">或者你使用一个未定义的操作：</div><div class="t m0 x36 h27 yd5 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[2]:<span class="_ _3"> </span><span class="fcb">1<span class="_ _3"> </span>+<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">abc</span>&apos;</span></span></div><div class="t m0 x46 h27 y7c ff22 fsf fc5 sc0 ls1 ws1">----------------------------------------------------------------------</div><div class="t m0 x4f h22 y5c ff1f fsf fc5 sc0 ls1 ws1">53</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf3f" class="pf w3 h1b" data-page-no="3f"><div class="pc pc3f w3 h1b"><img class="bi x2a y4da w4 h53" alt="" src="bg3f.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">54<span class="_ _7a"> </span><span class="ff24">10.<span class="_ _2c"> </span><span class="ff1e">错误和异常</span></span></div><div class="t m0 x46 h27 y213 ff22 fsf fc5 sc0 ls1 ws1">TypeError<span class="_ _71"> </span>Traceback<span class="_ _3"> </span>(most<span class="_ _3"> </span>recent<span class="_ _3"> </span>call<span class="_ _3"> </span>last)</div><div class="t m0 x46 h27 y387 ff22 fsf fc5 sc0 ls1 ws1">&lt;ipython-input-4-aab9e8ede4f7&gt;<span class="_ _3"> </span>in<span class="_ _3"> </span>&lt;module&gt;()</div><div class="t m0 x49 h27 y388 ff22 fsf fc5 sc0 ls1 ws1">----&gt;<span class="_ _3"> </span>1<span class="_ _3"> </span>1<span class="_ _3"> </span>+<span class="_ _3"> </span><span class="ff2a">&apos;</span>abc<span class="ff2a">&apos;</span></div><div class="t m0 x46 h27 y38a ff22 fsf fc5 sc0 ls1 ws1">TypeError:<span class="_ _3"> </span>unsupported<span class="_ _3"> </span>operand<span class="_ _3"> </span>type(s)<span class="_ _3"> </span>for<span class="_ _2"> </span>+:<span class="_ _3"> </span><span class="ff2a">&apos;</span>int<span class="ff2a">&apos;<span class="_ _3"> </span></span>and<span class="_ _3"> </span><span class="ff2a">&apos;</span>str<span class="ff2a">&apos;</span></div><div class="t m0 x1a h1f y4db ff1d fsf fc5 sc0 ls1 ws1">或者你在尝试计算一个数学上非法的结果：</div><div class="t m0 x36 h27 y4dc ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[3]:<span class="_ _3"> </span><span class="fcb">2<span class="_ _3"> </span>/<span class="_ _3"> </span>0</span></div><div class="t m0 x46 h27 y4dd ff22 fsf fc5 sc0 ls1 ws1">----------------------------------------------------------------------</div><div class="t m0 x46 h27 y4de ff22 fsf fc5 sc0 ls1 ws1">ZeroDivisionError<span class="_ _7b"> </span>Traceback<span class="_ _3"> </span>(most<span class="_ _3"> </span>recent<span class="_ _3"> </span>call<span class="_ _3"> </span>last)</div><div class="t m0 x46 h27 y4df ff22 fsf fc5 sc0 ls1 ws1">&lt;ipython-input-5-ae0c5d243292&gt;<span class="_ _3"> </span>in<span class="_ _3"> </span>&lt;module&gt;()</div><div class="t m0 x49 h27 y4e0 ff22 fsf fc5 sc0 ls1 ws1">----&gt;<span class="_ _3"> </span>1<span class="_ _3"> </span>2<span class="_ _3"> </span>/<span class="_ _3"> </span>0</div><div class="t m0 x46 h27 y4e1 ff22 fsf fc5 sc0 ls1 ws1">ZeroDivisionError:<span class="_ _3"> </span>division<span class="_ _3"> </span>by<span class="_ _3"> </span>zero</div><div class="t m0 x1a h1f y4e2 ff1d fsf fc5 sc0 ls1 ws1">或者你在尝试访问一个在列表中不存在的元素：</div><div class="t m0 x36 h27 y4e3 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[4]:<span class="_ _3"> </span><span class="fc5">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[<span class="fcb">1</span>,<span class="_ _2"> </span><span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">3</span>]</span></div><div class="t m0 x46 h27 y4e4 ff22 fsf fc5 sc0 ls1 ws1">L[<span class="fcb">1000</span>]</div><div class="t m0 x46 h27 y4e5 ff22 fsf fc5 sc0 ls1 ws1">----------------------------------------------------------------------</div><div class="t m0 x46 h27 y4e6 ff22 fsf fc5 sc0 ls1 ws1">IndexError<span class="_ _7c"> </span>Traceback<span class="_ _3"> </span>(most<span class="_ _3"> </span>recent<span class="_ _3"> </span>call<span class="_ _3"> </span>last)</div><div class="t m0 x46 h27 y4e7 ff22 fsf fc5 sc0 ls1 ws1">&lt;ipython-input-6-06b6eb1b8957&gt;<span class="_ _3"> </span>in<span class="_ _3"> </span>&lt;module&gt;()</div><div class="t m0 x3 h27 y4e8 ff22 fsf fc5 sc0 ls1 ws1">1<span class="_ _3"> </span>L<span class="_ _3"> </span>=<span class="_ _3"> </span>[1,<span class="_ _3"> </span>2,<span class="_ _2"> </span>3]</div><div class="t m0 x49 h27 y4e9 ff22 fsf fc5 sc0 ls1 ws1">----&gt;<span class="_ _3"> </span>2<span class="_ _3"> </span>L[1000]</div><div class="t m0 x46 h27 y4ea ff22 fsf fc5 sc0 ls1 ws1">IndexError:<span class="_ _3"> </span>list<span class="_ _3"> </span>index<span class="_ _3"> </span>out<span class="_ _3"> </span>of<span class="_ _2"> </span>range</div><div class="t m0 x1a h1f y4eb ff1d fsf fc5 sc0 ls1 ws1">注<span class="_ _0"></span>意到<span class="_ _0"></span>在每<span class="_ _0"></span>个例<span class="_ _0"></span>子<span class="_ _0"></span>中，<span class="ff1f">Python<span class="_ _a"> </span></span>不仅<span class="_ _0"></span>简<span class="_ _0"></span>单地<span class="_ _0"></span>指出<span class="_ _0"></span>了哪<span class="_ _0"></span>里<span class="_ _0"></span>有错<span class="_ _0"></span>误发<span class="_ _0"></span>生，<span class="_ _0"></span>还抛<span class="_ _0"></span>出了<span class="_ _0"></span>一个<span class="_ _0"></span><span class="ff1a">有<span class="_ _0"></span>意义</span></div><div class="t m0 x2a h1f y4ec ff1d fsf fc5 sc0 ls1 ws1">的异常说明：包括了什么代码出错，以及具体哪一行代码出错。</div><div class="t m0 x1a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">在你试图追踪代码中的问题根源时，遇到这样有意义的报错通常很有帮助。</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf40" class="pf w3 h1b" data-page-no="40"><div class="pc pc40 w3 h1b"><img class="bi x2a y7c w4 h54" alt="" src="bg40.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">10.2.<span class="_ _2c"> </span><span class="ff1e">捕获异常：<span class="ff31">TRY<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff31">EXCEPT<span class="_ _7d"> </span><span class="ff1f">55</span></span></span></div><div class="t m0 x2a h23 yf7 ff19 fsd fc5 sc0 ls1 ws1">10.2<span class="_ _15"> </span><span class="ff1a">捕获异常：<span class="ff29">try<span class="_ _3"> </span></span>和<span class="_ _8"> </span><span class="ff29">except</span></span></div><div class="t m0 x1a h1f y4ed ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _a"> </span><span class="ff1d">给<span class="_ _0"></span>你提供<span class="_ _0"></span>的捕<span class="_ _0"></span>获运<span class="_ _0"></span>行时异<span class="_ _0"></span>常的<span class="_ _0"></span>主要<span class="_ _0"></span>工具<span class="_ _0"></span>就是<span class="_ _a"> </span><span class="ff22">try</span></span>...<span class="ff22">except<span class="_ _a"> </span><span class="ff1d">语<span class="_ _0"></span>句，它<span class="_ _0"></span>的基<span class="_ _0"></span>本结<span class="_ _0"></span>构就</span></span></div><div class="t m0 x2a h1f y4ee ff1d fsf fc5 sc0 ls1 ws1">像这样：</div><div class="t m0 x36 h27 y4ef ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[5]:<span class="_ _3"> </span><span class="ff29 fc9">try</span><span class="fc5">:</span></div><div class="t m0 x76 h27 y4f0 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;this<span class="_ _3"> </span>gets<span class="_ _3"> </span>executed<span class="_ _3"> </span>first&quot;</span>)</span></div><div class="t m0 x46 h27 y4f1 ff29 fsf fc9 sc0 ls1 ws1">except<span class="ff22 fc5">:</span></div><div class="t m0 x76 h27 y4f2 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;this<span class="_ _3"> </span>gets<span class="_ _3"> </span>executed<span class="_ _3"> </span>only<span class="_ _3"> </span>if<span class="_ _2"> </span>there<span class="_ _3"> </span>is<span class="_ _3"> </span>an<span class="_ _3"> </span>error&quot;</span>)</span></div><div class="t m0 x36 h27 y4f3 ff22 fsf fc5 sc0 ls1 ws1">this<span class="_ _3"> </span>gets<span class="_ _3"> </span>executed<span class="_ _3"> </span>first</div><div class="t m0 x1a h1f y4f4 ff1d fsf fc5 sc0 ls1 ws1">注<span class="_ _0"></span>意<span class="_ _0"></span>到<span class="_ _0"></span>第<span class="_ _0"></span>二<span class="_ _0"></span>个代<span class="_ _0"></span>码<span class="_ _0"></span>块<span class="_ _0"></span>没有<span class="_ _0"></span>被<span class="_ _0"></span>执<span class="_ _0"></span>行：<span class="_ _0"></span>这<span class="_ _0"></span>是<span class="_ _0"></span>因<span class="_ _0"></span>为<span class="_ _0"></span>第<span class="_ _0"></span>一<span class="_ _0"></span>个代<span class="_ _0"></span>码<span class="_ _0"></span>块<span class="_ _0"></span>并<span class="_ _0"></span>没<span class="_ _0"></span>有<span class="_ _0"></span>返回<span class="_ _0"></span>错<span class="_ _0"></span>误。<span class="_ _0"></span>让<span class="_ _0"></span>我<span class="_ _0"></span>们<span class="_ _0"></span>看<span class="_ _0"></span>看</div><div class="t m0 x2a h1f y4f5 ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _e"> </span><span class="ff22">try<span class="_ _a"> </span></span>代码块中放一个有问题的语句会发生什么：</div><div class="t m0 x36 h27 y4f6 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[6]:<span class="_ _3"> </span><span class="ff29 fc9">try</span><span class="fc5">:</span></div><div class="t m0 x76 h27 y4f7 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;let<span class="ff2a">&apos;</span>s<span class="_ _3"> </span>try<span class="_ _3"> </span>something:&quot;</span>)</span></div><div class="t m0 x76 h27 y4f8 ff22 fsf fc5 sc0 ls1 ws1">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>1<span class="_ _3"> </span>/<span class="_ _3"> </span>0<span class="_ _2"> </span><span class="ff2c fcf">#<span class="_ _3"> </span>ZeroDivisionError</span></span></div><div class="t m0 x46 h27 y4f9 ff29 fsf fc9 sc0 ls1 ws1">except<span class="ff22 fc5">:</span></div><div class="t m0 x76 h27 y4fa ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;something<span class="_ _3"> </span>bad<span class="_ _3"> </span>happened!&quot;</span>)</span></div><div class="t m0 x36 h27 y4fb ff22 fsf fc5 sc0 ls1 ws1">let<span class="ff2a">&apos;</span>s<span class="_ _3"> </span>try<span class="_ _3"> </span>something:</div><div class="t m0 x36 h27 y4fc ff22 fsf fc5 sc0 ls1 ws1">something<span class="_ _3"> </span>bad<span class="_ _3"> </span>happened!</div><div class="t m0 x1a h1f y4fd ff1d fsf fc5 sc0 ls1 ws1">这<span class="_ _0"></span>里我<span class="_ _0"></span>们<span class="_ _0"></span>可<span class="_ _0"></span>以看<span class="_ _0"></span>到，<span class="_ _0"></span>当<span class="_ _0"></span>一<span class="_ _0"></span>个错<span class="_ _0"></span>误<span class="_ _0"></span>（这<span class="_ _0"></span>里是<span class="_ _0"></span>一<span class="_ _0"></span>个<span class="_ _a"> </span><span class="ff22">ZeroDivisionError</span>）<span class="_ _0"></span>在<span class="_ _10"> </span><span class="ff22">try<span class="_ _a"> </span></span>语<span class="_ _0"></span>句<span class="_ _0"></span>中<span class="_ _0"></span>发生</div><div class="t m0 x2a h1f y4fe ff1d fsf fc5 sc0 ls1 ws1">时，这个错误被捕获，然后<span class="_ _e"> </span><span class="ff22">except<span class="_ _a"> </span></span>语句会被执行。</div><div class="t m0 x1a h1f y4ff ff1d fsf fc5 sc0 ls1 ws1">这<span class="_ _0"></span>是<span class="_ _0"></span>我<span class="_ _0"></span>们<span class="_ _0"></span>在一<span class="_ _0"></span>个函<span class="_ _0"></span>数<span class="_ _0"></span>或<span class="_ _0"></span>者<span class="_ _0"></span>其<span class="_ _0"></span>他<span class="_ _0"></span>代<span class="_ _0"></span>码中<span class="_ _0"></span>检<span class="_ _0"></span>测<span class="_ _0"></span>用<span class="_ _0"></span>户<span class="_ _0"></span>输<span class="_ _0"></span>入<span class="_ _0"></span>的<span class="_ _0"></span>一种<span class="_ _0"></span>方<span class="_ _0"></span>法。<span class="_ _0"></span>比<span class="_ _0"></span>如<span class="_ _0"></span>我<span class="_ _0"></span>们<span class="_ _0"></span>可能<span class="_ _0"></span>期<span class="_ _0"></span>望<span class="_ _0"></span>有<span class="_ _0"></span>一</div><div class="t m0 x2a h1f y500 ff1d fsf fc5 sc0 ls1 ws1">个函数可以捕获一个被除零异常并返回一个其他值，也许是一个像<span class="_ _e"> </span><span class="ff2d">10</span></div><div class="t m0 x84 h39 y501 ff2f fs10 fc5 sc0 ls1 ws1">100</div><div class="t m0 x3e h1f y500 ff1d fsf fc5 sc0 ls1 ws1">一样很大的数字<span class="ff1f">:</span></div><div class="t m0 x36 h27 y502 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[7]:<span class="_ _3"> </span><span class="ff29 fc9">def<span class="_ _3"> </span></span><span class="fca">safe_divide<span class="fc5">(a,<span class="_ _3"> </span>b):</span></span></div><div class="t m0 x76 h27 y503 ff29 fsf fc9 sc0 ls1 ws1">try<span class="ff22 fc5">:</span></div><div class="t m0 x47 h27 y504 ff29 fsf fc9 sc0 ls1 ws1">return<span class="_ _3"> </span><span class="ff22 fc5">a<span class="_ _3"> </span><span class="fcb">/<span class="_ _3"> </span></span>b</span></div><div class="t m0 x76 h27 y505 ff29 fsf fc9 sc0 ls1 ws1">except<span class="ff22 fc5">:</span></div><div class="t m0 x47 h27 y506 ff29 fsf fc9 sc0 ls1 ws1">return<span class="_ _3"> </span><span class="ff22 fcb">1E100</span></div><div class="t m0 x36 h27 y4a8 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[8]:<span class="_ _3"> </span><span class="fc5">safe_divide(<span class="fcb">1</span>,<span class="_ _3"> </span><span class="fcb">2</span>)</span></div><div class="t m0 x36 h27 y440 ff22 fsf fc14 sc0 ls1 ws1">Out[10]:<span class="_ _3"> </span><span class="fc5">0.5</span></div><div class="t m0 x36 h27 y153 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[9]:<span class="_ _3"> </span><span class="fc5">safe_divide(<span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">0</span>)</span></div><div class="t m0 x36 h27 y155 ff22 fsf fc14 sc0 ls1 ws1">Out[9]:<span class="_ _3"> </span><span class="fc5">1e+100</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf41" class="pf w3 h1b" data-page-no="41"><div class="pc pc41 w3 h1b"><img class="bi x2a y507 w4 h55" alt="" src="bg41.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">56<span class="_ _7a"> </span><span class="ff24">10.<span class="_ _2c"> </span><span class="ff1e">错误和异常</span></span></div><div class="t m0 x1a h1f y7e ff1d fsf fc5 sc0 ls1 ws1">这段代<span class="_ _0"></span>码存在一<span class="_ _0"></span>个微妙的<span class="_ _0"></span>问题，如果<span class="_ _0"></span>发生了其<span class="_ _0"></span>他的异常会出<span class="_ _0"></span>现什么状<span class="_ _0"></span>况呢？比如<span class="_ _0"></span>这里有一</div><div class="t m0 x2a h1f yb3 ff1d fsf fc5 sc0 ls1 ws1">个不符合我们预期的例子：</div><div class="t m0 x36 h27 y508 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[10]:<span class="_ _3"> </span><span class="fc5">safe_divide<span class="_ _3"> </span>(<span class="fcb">1</span>,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">2</span>&apos;</span>)</span></div><div class="t m0 x36 h27 y509 ff22 fsf fc14 sc0 ls1 ws1">Out[10]:<span class="_ _3"> </span><span class="fc5">1e+100</span></div><div class="t m0 x1a h1f y50a ff1d fsf fc5 sc0 ls1 ws1">在整数和字符串之间进行除法会触发一个<span class="_ _e"> </span><span class="ff22">TypeError<span class="_ _a"> </span></span>异常，<span class="_ _4"></span>但是我们上面写的那段过于热</div><div class="t m0 x2a h1f y50b ff1d fsf fc5 sc0 ls1 ws1">情的代码把它当做<span class="_ _e"> </span><span class="ff22">ZeroDivisionError<span class="_ _e"> </span></span>来处理了。<span class="_ _9"></span>因此，<span class="_ _9"></span>最好要明确指出我们要捕获的异常类</div><div class="t m0 x2a h1f y50c ff1d fsf fc5 sc0 ls1 ws1">型：</div><div class="t m0 x36 h27 y50d ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[11]:<span class="_ _3"> </span><span class="ff29 fc9">def<span class="_ _3"> </span></span><span class="fca">safe_divide<span class="fc5">(a,<span class="_ _3"> </span>b):</span></span></div><div class="t m0 x25 h27 y50e ff29 fsf fc9 sc0 ls1 ws1">try<span class="ff22 fc5">:</span></div><div class="t m0 x59 h27 y50f ff29 fsf fc9 sc0 ls1 ws1">return<span class="_ _3"> </span><span class="ff22 fc5">a<span class="_ _3"> </span><span class="fcb">/<span class="_ _3"> </span></span>b</span></div><div class="t m0 x25 h27 y510 ff29 fsf fc9 sc0 ls1 ws1">except<span class="_ _3"> </span><span class="fc16">ZeroDivisionError<span class="ff22 fc5">:</span></span></div><div class="t m0 x59 h27 y511 ff29 fsf fc9 sc0 ls1 ws1">return<span class="_ _3"> </span><span class="ff22 fcb">1E100</span></div><div class="t m0 x36 h27 y512 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[12]:<span class="_ _3"> </span><span class="fc5">safe_divide(<span class="fcb">1</span>,<span class="_ _3"> </span><span class="fcb">0</span>)</span></div><div class="t m0 x36 h27 y513 ff22 fsf fc14 sc0 ls1 ws1">Out[12]:<span class="_ _3"> </span><span class="fc5">1e+100</span></div><div class="t m0 x36 h27 y514 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[13]:<span class="_ _3"> </span><span class="fc5">safe_divide(<span class="fcb">1</span>,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">2</span>&apos;</span>)</span></div><div class="t m0 x46 h27 y515 ff22 fsf fc5 sc0 ls1 ws1">----------------------------------------------------------------------</div><div class="t m0 x46 h27 y516 ff22 fsf fc5 sc0 ls1 ws1">TypeError<span class="_ _71"> </span>Traceback<span class="_ _3"> </span>(most<span class="_ _3"> </span>recent<span class="_ _3"> </span>call<span class="_ _3"> </span>last)</div><div class="t m0 x46 h27 y517 ff22 fsf fc5 sc0 ls1 ws1">&lt;ipython-input-15-2331af6a0acf&gt;<span class="_ _3"> </span>in<span class="_ _3"> </span>&lt;module&gt;()</div><div class="t m0 x49 h27 y518 ff22 fsf fc5 sc0 ls1 ws1">----&gt;<span class="_ _3"> </span>1<span class="_ _3"> </span>safe_divide(1,<span class="_ _3"> </span><span class="ff2a">&apos;</span>2<span class="ff2a">&apos;</span>)</div><div class="t m0 x46 h27 y519 ff22 fsf fc5 sc0 ls1 ws1">&lt;ipython-input-13-10b5f0163af8&gt;<span class="_ _3"> </span>in<span class="_ _3"> </span>safe_divide(a,<span class="_ _3"> </span>b)</div><div class="t m0 x3 h27 y51a ff22 fsf fc5 sc0 ls1 ws1">1<span class="_ _3"> </span>def<span class="_ _3"> </span>safe_divide(a,<span class="_ _3"> </span>b):</div><div class="t m0 x3 h27 y51b ff22 fsf fc5 sc0 ls1 ws1">2<span class="_ _4f"> </span>try:</div><div class="t m0 x49 h27 y51c ff22 fsf fc5 sc0 ls1 ws1">----&gt;<span class="_ _3"> </span>3<span class="_ _47"> </span>return<span class="_ _3"> </span>a<span class="_ _3"> </span>/<span class="_ _3"> </span>b</div><div class="t m0 x3 h27 y51d ff22 fsf fc5 sc0 ls1 ws1">4<span class="_ _4f"> </span>except<span class="_ _3"> </span>ZeroDivisionError:</div><div class="t m0 x3 h27 y51e ff22 fsf fc5 sc0 ls1 ws1">5<span class="_ _47"> </span>return<span class="_ _3"> </span>1E100</div><div class="t m0 x46 h27 y51f ff22 fsf fc5 sc0 ls1 ws1">TypeError:<span class="_ _3"> </span>unsupported<span class="_ _3"> </span>operand<span class="_ _3"> </span>type(s)<span class="_ _3"> </span>for<span class="_ _2"> </span>/:<span class="_ _3"> </span><span class="ff2a">&apos;</span>int<span class="ff2a">&apos;<span class="_ _3"> </span></span>and<span class="_ _3"> </span><span class="ff2a">&apos;</span>str<span class="ff2a">&apos;</span></div><div class="t m0 x1a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">现在我们只能捕获被除零异常，让其他类型的异常都原封不动地传出去。</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf42" class="pf w3 h1b" data-page-no="42"><div class="pc pc42 w3 h1b"><img class="bi x2a y1f9 w4 h56" alt="" src="bg42.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">10.3.<span class="_ _2c"> </span><span class="ff1e">抛出异常：<span class="ff31">RAISE<span class="_ _7e"> </span><span class="ff1f">57</span></span></span></div><div class="t m0 x2a h23 yf7 ff19 fsd fc5 sc0 ls1 ws1">10.3<span class="_ _15"> </span><span class="ff1a">抛出异常：<span class="ff29">raise</span></span></div><div class="t m0 x1a h1f yf8 ff1d fsf fc5 sc0 ls1 ws1">我们<span class="_ _0"></span>已经看<span class="_ _0"></span>到了在<span class="_ _0"></span>使用<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>进行编<span class="_ _0"></span>程时获<span class="_ _0"></span>得异常信<span class="_ _0"></span>息是多<span class="_ _0"></span>么宝贵。<span class="_ _0"></span>在你编<span class="_ _0"></span>写的代<span class="_ _0"></span>码中</div><div class="t m0 x2a h1f yf9 ff1d fsf fc5 sc0 ls1 ws1">利用异常信息同样非常有帮助，<span class="_ _5"></span>因为这样使用你代码的用户（最重要的是你自己！<span class="_ _7f"></span>）<span class="_ _4"></span>能弄清导致</div><div class="t m0 x2a h1f yfa ff1d fsf fc5 sc0 ls1 ws1">错误的根因。</div><div class="t m0 x1a h1f yfb ff1d fsf fc5 sc0 ls1 ws1">你可以通过使用<span class="_ _e"> </span><span class="ff22">raise<span class="_ _a"> </span></span>语句来自己抛出异常，比如：</div><div class="t m0 x36 h27 y520 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[14]:<span class="_ _3"> </span><span class="ff29 fc9">raise<span class="_ _3"> </span><span class="fc16">RuntimeError</span></span><span class="fc5">(<span class="fc11">&quot;my<span class="_ _3"> </span>error<span class="_ _2"> </span>message&quot;</span>)</span></div><div class="t m0 x46 h27 y521 ff22 fsf fc5 sc0 ls1 ws1">----------------------------------------------------------------------</div><div class="t m0 x46 h27 y522 ff22 fsf fc5 sc0 ls1 ws1">RuntimeError<span class="_ _80"> </span>Traceback<span class="_ _3"> </span>(most<span class="_ _3"> </span>recent<span class="_ _3"> </span>call<span class="_ _3"> </span>last)</div><div class="t m0 x46 h27 y523 ff22 fsf fc5 sc0 ls1 ws1">&lt;ipython-input-16-c6a4c1ed2f34&gt;<span class="_ _3"> </span>in<span class="_ _3"> </span>&lt;module&gt;()</div><div class="t m0 x49 h27 y524 ff22 fsf fc5 sc0 ls1 ws1">----&gt;<span class="_ _3"> </span>1<span class="_ _3"> </span>raise<span class="_ _3"> </span>RuntimeError(&quot;my<span class="_ _3"> </span>error<span class="_ _2"> </span>message&quot;)</div><div class="t m0 x46 h27 y525 ff22 fsf fc5 sc0 ls1 ws1">RuntimeError:<span class="_ _3"> </span>my<span class="_ _3"> </span>error<span class="_ _3"> </span>message</div><div class="t m0 x1a h1f y526 ff1d fsf fc5 sc0 ls1 ws1">这里使用这个例子很合适，让我们回到我们前面定义的<span class="_ _e"> </span><span class="ff22">fibonacci<span class="_ _a"> </span></span>函数：</div><div class="t m0 x36 h27 y527 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[15]:<span class="_ _3"> </span><span class="ff29 fc9">def<span class="_ _3"> </span></span><span class="fca">fibonacci<span class="fc5">(N):</span></span></div><div class="t m0 x25 h27 y528 ff22 fsf fc5 sc0 ls1 ws1">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[]</div><div class="t m0 x25 h27 y529 ff22 fsf fc5 sc0 ls1 ws1">a,<span class="_ _3"> </span>b<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>0</span>,<span class="_ _3"> </span><span class="fcb">1</span></div><div class="t m0 x25 h27 y52a ff29 fsf fc9 sc0 ls1 ws1">while<span class="_ _3"> </span><span class="ff22">len<span class="fc5">(L)<span class="_ _3"> </span><span class="fcb">&lt;<span class="_ _3"> </span></span>N:</span></span></div><div class="t m0 x59 h27 y52b ff22 fsf fc5 sc0 ls1 ws1">a,<span class="_ _3"> </span>b<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>b,<span class="_ _3"> </span>a<span class="_ _2"> </span><span class="fcb">+<span class="_ _3"> </span></span>b</div><div class="t m0 x59 h27 y52c ff22 fsf fc5 sc0 ls1 ws1">L<span class="fcb">.</span>append(a)</div><div class="t m0 x25 h27 y52d ff29 fsf fc9 sc0 ls1 ws1">return<span class="_ _3"> </span><span class="ff22 fc5">L</span></div><div class="t m0 x1a h1f y52e ff1d fsf fc5 sc0 ls1 ws1">这里有<span class="_ _0"></span>一个潜在<span class="_ _0"></span>的问题是<span class="_ _0"></span>用户输入的<span class="_ _0"></span>值可能为<span class="_ _0"></span>负值。这并<span class="_ _0"></span>不会让我们<span class="_ _0"></span>的函数现在<span class="_ _0"></span>出现什么</div><div class="t m0 x2a h1f y52f ff1d fsf fc5 sc0 ls1 ws1">错误，但是我们可能希望让用户知道一个负的<span class="_ _e"> </span><span class="ff22">N<span class="_ _a"> </span></span>是不受支持的。</div><div class="t m0 x1a h1f y530 ff1d fsf fc5 sc0 ls1 ws1">根据惯例，由于无效参数值导致的错误导致<span class="_ _e"> </span><span class="ff22">ValueError<span class="_ _a"> </span></span>错误：</div><div class="t m0 x36 h27 y384 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[16]:<span class="_ _3"> </span><span class="ff29 fc9">def<span class="_ _3"> </span></span><span class="fca">fibonacci<span class="fc5">(N):</span></span></div><div class="t m0 x25 h27 y531 ff29 fsf fc9 sc0 ls1 ws1">if<span class="_ _3"> </span><span class="ff22 fc5">N<span class="_ _3"> </span><span class="fcb">&lt;<span class="_ _3"> </span>0</span>:</span></div><div class="t m0 x59 h27 y1ae ff29 fsf fc9 sc0 ls1 ws1">raise<span class="_ _3"> </span><span class="fc16">ValueError<span class="ff22 fc5">(<span class="fc11">&quot;N<span class="_ _3"> </span>must<span class="_ _3"> </span>be<span class="_ _3"> </span>non-negative&quot;</span>)</span></span></div><div class="t m0 x25 h27 y1af ff22 fsf fc5 sc0 ls1 ws1">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[]</div><div class="t m0 x25 h27 y1b0 ff22 fsf fc5 sc0 ls1 ws1">a,<span class="_ _3"> </span>b<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>0</span>,<span class="_ _3"> </span><span class="fcb">1</span></div><div class="t m0 x25 h27 y1b1 ff29 fsf fc9 sc0 ls1 ws1">while<span class="_ _3"> </span><span class="ff22">len<span class="fc5">(L)<span class="_ _3"> </span><span class="fcb">&lt;<span class="_ _3"> </span></span>N:</span></span></div><div class="t m0 x59 h27 y1b2 ff22 fsf fc5 sc0 ls1 ws1">a,<span class="_ _3"> </span>b<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>b,<span class="_ _3"> </span>a<span class="_ _2"> </span><span class="fcb">+<span class="_ _3"> </span></span>b</div><div class="t m0 x59 h27 yd4 ff22 fsf fc5 sc0 ls1 ws1">L<span class="fcb">.</span>append(a)</div><div class="t m0 x25 h27 yd5 ff29 fsf fc9 sc0 ls1 ws1">return<span class="_ _3"> </span><span class="ff22 fc5">L</span></div><div class="t m0 x36 h27 y7c ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[17]:<span class="_ _3"> </span><span class="fc5">fibonacci(<span class="fcb">10</span>)</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf43" class="pf w3 h1b" data-page-no="43"><div class="pc pc43 w3 h1b"><img class="bi x2a y532 w4 h57" alt="" src="bg43.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">58<span class="_ _7a"> </span><span class="ff24">10.<span class="_ _2c"> </span><span class="ff1e">错误和异常</span></span></div><div class="t m0 x36 h27 y213 ff22 fsf fc14 sc0 ls1 ws1">Out[17]:<span class="_ _3"> </span><span class="fc5">[1,<span class="_ _3"> </span>1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3,<span class="_ _2"> </span>5,<span class="_ _3"> </span>8,<span class="_ _3"> </span>13,<span class="_ _3"> </span>21,<span class="_ _3"> </span>34,<span class="_ _3"> </span>55]</span></div><div class="t m0 x36 h27 y387 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[18]:<span class="_ _3"> </span><span class="fc5">fibonacci(<span class="fcb">-10</span>)</span></div><div class="t m0 x46 h27 y389 ff22 fsf fc5 sc0 ls1 ws1">----------------------------------------------------------------------</div><div class="t m0 x46 h27 y38a ff22 fsf fc5 sc0 ls1 ws1">ValueError<span class="_ _7c"> </span>Traceback<span class="_ _3"> </span>(most<span class="_ _3"> </span>recent<span class="_ _3"> </span>call<span class="_ _3"> </span>last)</div><div class="t m0 x46 h27 y533 ff22 fsf fc5 sc0 ls1 ws1">&lt;ipython-input-20-3d291499cfa7&gt;<span class="_ _3"> </span>in<span class="_ _3"> </span>&lt;module&gt;()</div><div class="t m0 x49 h27 y534 ff22 fsf fc5 sc0 ls1 ws1">----&gt;<span class="_ _3"> </span>1<span class="_ _3"> </span>fibonacci(-10)</div><div class="t m0 x46 h27 y535 ff22 fsf fc5 sc0 ls1 ws1">&lt;ipython-input-18-01d0cf168d63&gt;<span class="_ _3"> </span>in<span class="_ _3"> </span>fibonacci(N)</div><div class="t m0 x3 h27 y536 ff22 fsf fc5 sc0 ls1 ws1">1<span class="_ _3"> </span>def<span class="_ _3"> </span>fibonacci(N):</div><div class="t m0 x3 h27 y537 ff22 fsf fc5 sc0 ls1 ws1">2<span class="_ _4f"> </span>if<span class="_ _3"> </span>N<span class="_ _3"> </span>&lt;<span class="_ _3"> </span>0:</div><div class="t m0 x49 h27 y538 ff22 fsf fc5 sc0 ls1 ws1">----&gt;<span class="_ _3"> </span>3<span class="_ _47"> </span>raise<span class="_ _3"> </span>ValueError(&quot;N<span class="_ _3"> </span>must<span class="_ _3"> </span>be<span class="_ _2"> </span>non-negative&quot;)</div><div class="t m0 x3 h27 y539 ff22 fsf fc5 sc0 ls1 ws1">4<span class="_ _4f"> </span>L<span class="_ _3"> </span>=<span class="_ _3"> </span>[]</div><div class="t m0 x3 h27 y53a ff22 fsf fc5 sc0 ls1 ws1">5<span class="_ _4f"> </span>a,<span class="_ _3"> </span>b<span class="_ _3"> </span>=<span class="_ _3"> </span>0,<span class="_ _3"> </span>1</div><div class="t m0 x46 h27 y53b ff22 fsf fc5 sc0 ls1 ws1">ValueError:<span class="_ _3"> </span>N<span class="_ _3"> </span>must<span class="_ _3"> </span>be<span class="_ _3"> </span>non-negative</div><div class="t m0 x1a h1f y53c ff1d fsf fc5 sc0 ls1 ws1">现在用户能够确切地知道为什么输入是无效的了，然后可以用<span class="_ _e"> </span><span class="ff22">try<span class="ff1f">...</span>except<span class="_ _a"> </span></span>来处理它。</div><div class="t m0 x36 h27 y53d ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[19]:<span class="_ _3"> </span><span class="fc5">N<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>-10</span></span></div><div class="t m0 x51 h27 y53e ff29 fsf fc9 sc0 ls1 ws1">try<span class="ff22 fc5">:</span></div><div class="t m0 x25 h27 y53f ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;trying<span class="_ _3"> </span>this...&quot;</span>)</span></div><div class="t m0 x25 h27 y540 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(fibonacci(N))</span></div><div class="t m0 x51 h27 y541 ff29 fsf fc9 sc0 ls1 ws1">except<span class="_ _3"> </span><span class="fc16">ValueError<span class="ff22 fc5">:</span></span></div><div class="t m0 x25 h27 y542 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;Bad<span class="_ _3"> </span>value:<span class="_ _3"> </span>need<span class="_ _3"> </span>to<span class="_ _3"> </span>do<span class="_ _2"> </span>something<span class="_ _3"> </span>else&quot;</span>)</span></div><div class="t m0 x36 h27 y543 ff22 fsf fc5 sc0 ls1 ws1">trying<span class="_ _3"> </span>this...</div><div class="t m0 x36 h27 y544 ff22 fsf fc5 sc0 ls1 ws1">Bad<span class="_ _3"> </span>value:<span class="_ _3"> </span>need<span class="_ _3"> </span>to<span class="_ _3"> </span>do<span class="_ _2"> </span>something<span class="_ _3"> </span>else</div><div class="t m0 x2a h23 y545 ff19 fsd fc5 sc0 ls1 ws1">10.4<span class="_ _15"> </span><span class="ff1a">深入探究异常</span></div><div class="t m0 x1a h1f y546 ff1d fsf fc5 sc0 ls1 ws1">简而言<span class="_ _0"></span>之，我想在<span class="_ _0"></span>这里提及<span class="_ _0"></span>一些其他<span class="_ _0"></span>可能遇到<span class="_ _0"></span>的概念。我不<span class="_ _0"></span>会详细介<span class="_ _0"></span>绍这些概<span class="_ _0"></span>念，以及如</div><div class="t m0 x2a h1f y547 ff1d fsf fc5 sc0 ls1 ws1">何和为什么使用它们，而只是向你展示语法，之后你可以自己探索更多关于它们的内容。</div><div class="t m0 x2a h25 y2d2 ff19 fse fc5 sc0 ls1 ws1">10.4.1<span class="_ _3c"> </span><span class="ff1a">访问错误信息</span></div><div class="t m0 x1a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">有时<span class="_ _0"></span>在<span class="_ _e"> </span><span class="ff22">try<span class="ff1f">...</span>except<span class="_ _a"> </span></span>语<span class="_ _0"></span>句中，你<span class="_ _0"></span>可能会想<span class="_ _0"></span>能够处<span class="_ _0"></span>理错误<span class="_ _0"></span>信息本<span class="_ _0"></span>身。这时你<span class="_ _0"></span>可以使<span class="_ _0"></span>用<span class="_ _a"> </span><span class="ff22">as<span class="_ _e"> </span></span>关</div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">键字：</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf44" class="pf w3 h1b" data-page-no="44"><div class="pc pc44 w3 h1b"><img class="bi x2a y7c w4 h2c" alt="" src="bg44.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">10.4.<span class="_ _2c"> </span><span class="ff1e">深入探究异常<span class="_ _81"> </span><span class="ff1f">59</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[20]:<span class="_ _3"> </span><span class="ff29 fc9">try</span><span class="fc5">:</span></div><div class="t m0 x25 h27 y137 ff22 fsf fc5 sc0 ls1 ws1">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>1<span class="_ _3"> </span>/<span class="_ _3"> </span>0</span></div><div class="t m0 x51 h27 y138 ff29 fsf fc9 sc0 ls1 ws1">except<span class="_ _3"> </span><span class="fc16">ZeroDivisionError<span class="_ _3"> </span></span>as<span class="_ _3"> </span><span class="ff22 fc5">err:</span></div><div class="t m0 x25 h27 y257 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;Error<span class="_ _3"> </span>class<span class="_ _3"> </span>is:<span class="_ _13"> </span>&quot;</span>,<span class="_ _3"> </span></span>type<span class="fc5">(err))</span></div><div class="t m0 x25 h27 y139 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;Error<span class="_ _3"> </span>message<span class="_ _3"> </span>is:&quot;</span>,<span class="_ _3"> </span>err)</span></div><div class="t m0 x36 h27 y13b ff22 fsf fc5 sc0 ls1 ws1">Error<span class="_ _3"> </span>class<span class="_ _3"> </span>is:<span class="_ _49"> </span>&lt;class<span class="_ _3"> </span><span class="ff2a">&apos;</span>ZeroDivisionError<span class="ff2a">&apos;</span>&gt;</div><div class="t m0 x36 h27 y13c ff22 fsf fc5 sc0 ls1 ws1">Error<span class="_ _3"> </span>message<span class="_ _3"> </span>is:<span class="_ _3"> </span>division<span class="_ _3"> </span>by<span class="_ _2"> </span>zero</div><div class="t m0 x1a h1f y548 ff1d fsf fc5 sc0 ls1 ws1">通过这种方法，你可以进一步自定义函数的异常处理。</div><div class="t m0 x2a h25 y549 ff19 fse fc5 sc0 ls1 ws1">10.4.2<span class="_ _3c"> </span><span class="ff1a">定义自定义异常</span></div><div class="t m0 x1a h1f y54a ff1d fsf fc5 sc0 ls1 ws1">除了内<span class="_ _0"></span>置异常类型<span class="_ _0"></span>之外，还<span class="_ _0"></span>可以通过<span class="_ _0"></span>类继承来<span class="_ _0"></span>定义自定<span class="_ _0"></span>义异常。例如，<span class="_ _0"></span>如果你想<span class="_ _0"></span>要一个特</div><div class="t m0 x2a h1f y54b ff1d fsf fc5 sc0 ls1 ws1">殊的<span class="_ _e"> </span><span class="ff22">ValueError</span>，你可以这样做：</div><div class="t m0 x36 h27 y54c ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[21]:<span class="_ _3"> </span><span class="ff29 fc9">class<span class="_ _3"> </span><span class="fca">MySpecialError</span></span><span class="fc5">(<span class="ff29 fc16">ValueError</span>):</span></div><div class="t m0 x25 h4c y54d ff29 fsf fc9 sc0 ls1 ws1">pass</div><div class="t m0 x51 h27 y54e ff29 fsf fc9 sc0 ls1 ws1">raise<span class="_ _3"> </span><span class="ff22 fc5">MySpecialError(<span class="fc11">&quot;here<span class="ff2a">&apos;</span>s<span class="_ _3"> </span>the<span class="_ _3"> </span>message&quot;</span>)</span></div><div class="t m0 x46 h27 y54f ff22 fsf fc5 sc0 ls1 ws1">----------------------------------------------------------------------</div><div class="t m0 x46 h27 y550 ff22 fsf fc5 sc0 ls1 ws1">MySpecialError<span class="_ _72"> </span>Traceback<span class="_ _3"> </span>(most<span class="_ _3"> </span>recent<span class="_ _3"> </span>call<span class="_ _3"> </span>last)</div><div class="t m0 x46 h27 y551 ff22 fsf fc5 sc0 ls1 ws1">&lt;ipython-input-23-92c36e04a9d0&gt;<span class="_ _3"> </span>in<span class="_ _3"> </span>&lt;module&gt;()</div><div class="t m0 x3 h27 y552 ff22 fsf fc5 sc0 ls1 ws1">2<span class="_ _4f"> </span>pass</div><div class="t m0 x3 h27 y553 ff22 fsf fc5 sc0 ls1 ws1">3</div><div class="t m0 x49 h27 y554 ff22 fsf fc5 sc0 ls1 ws1">----&gt;<span class="_ _3"> </span>4<span class="_ _3"> </span>raise<span class="_ _3"> </span>MySpecialError(&quot;here<span class="ff2a">&apos;</span>s<span class="_ _3"> </span>the<span class="_ _2"> </span>message&quot;)</div><div class="t m0 x46 h27 y555 ff22 fsf fc5 sc0 ls1 ws1">MySpecialError:<span class="_ _3"> </span>here<span class="ff2a">&apos;</span>s<span class="_ _3"> </span>the<span class="_ _3"> </span>message</div><div class="t m0 x1a h1f y556 ff1d fsf fc5 sc0 ls1 ws1">这将允许你使用只能捕获此类错误的<span class="_ _e"> </span><span class="ff22">try<span class="ff1f">...</span>except<span class="_ _a"> </span></span>块。</div><div class="t m0 x36 h27 y557 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[22]:<span class="_ _3"> </span><span class="ff29 fc9">try</span><span class="fc5">:</span></div><div class="t m0 x25 h27 y4a8 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;do<span class="_ _3"> </span>something&quot;</span>)</span></div><div class="t m0 x25 h27 y43f ff29 fsf fc9 sc0 ls1 ws1">raise<span class="_ _3"> </span><span class="ff22 fc5">MySpecialError(<span class="fc11">&quot;[informative<span class="_ _3"> </span>error<span class="_ _3"> </span>message<span class="_ _3"> </span>here]&quot;</span>)</span></div><div class="t m0 x51 h27 y440 ff29 fsf fc9 sc0 ls1 ws1">except<span class="_ _3"> </span><span class="ff22 fc5">MySpecialError:</span></div><div class="t m0 x25 h27 y256 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;do<span class="_ _3"> </span>something<span class="_ _3"> </span>else&quot;</span>)</span></div><div class="t m0 x36 h27 y154 ff22 fsf fc5 sc0 ls1 ws1">do<span class="_ _3"> </span>something</div><div class="t m0 x36 h27 y155 ff22 fsf fc5 sc0 ls1 ws1">do<span class="_ _3"> </span>something<span class="_ _3"> </span>else</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf45" class="pf w3 h1b" data-page-no="45"><div class="pc pc45 w3 h1b"><img class="bi x2a y558 w4 h4a" alt="" src="bg45.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">60<span class="_ _7a"> </span><span class="ff24">10.<span class="_ _2c"> </span><span class="ff1e">错误和异常</span></span></div><div class="t m0 x1a h1f y7e ff1d fsf fc5 sc0 ls1 ws1">在编写过更多自定义代码时，你可能会发现这很有用。</div><div class="t m0 x2a h2e y158 ff19 fsd fc5 sc0 ls1 ws1">10.5<span class="_ _15"> </span><span class="ff29">try</span>...<span class="ff29">except</span>...<span class="ff29">else</span>...<span class="ff29">finally</span></div><div class="t m0 x1a h1f y159 ff1d fsf fc5 sc0 ls1 ws1">除了<span class="_ _a"> </span><span class="ff22">try<span class="_ _e"> </span></span>和<span class="_ _a"> </span><span class="ff22">except<span class="_ _a"> </span></span>之外，你可以<span class="_ _0"></span>使用<span class="_ _e"> </span><span class="ff22">else<span class="_ _a"> </span></span>和<span class="_ _a"> </span><span class="ff22">finally<span class="_ _e"> </span></span>进<span class="_ _0"></span>一步调整代码<span class="_ _0"></span>的异常处理。其</div><div class="t m0 x2a h1f y15a ff1d fsf fc5 sc0 ls1 ws1">基本结构是这样的：</div><div class="t m0 x36 h27 y559 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[23]:<span class="_ _3"> </span><span class="ff29 fc9">try</span><span class="fc5">:</span></div><div class="t m0 x76 h27 y55a ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;try<span class="_ _3"> </span>something<span class="_ _3"> </span>here&quot;</span>)</span></div><div class="t m0 x46 h27 y55b ff29 fsf fc9 sc0 ls1 ws1">except<span class="ff22 fc5">:</span></div><div class="t m0 x76 h27 y55c ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;this<span class="_ _3"> </span>happens<span class="_ _3"> </span>only<span class="_ _3"> </span>if<span class="_ _3"> </span>it<span class="_ _2"> </span>fails&quot;</span>)</span></div><div class="t m0 x46 h27 y55d ff29 fsf fc9 sc0 ls1 ws1">else<span class="ff22 fc5">:</span></div><div class="t m0 x76 h27 y55e ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;this<span class="_ _3"> </span>happens<span class="_ _3"> </span>only<span class="_ _3"> </span>if<span class="_ _3"> </span>it<span class="_ _2"> </span>succeeds&quot;</span>)</span></div><div class="t m0 x46 h27 y55f ff29 fsf fc9 sc0 ls1 ws1">finally<span class="ff22 fc5">:</span></div><div class="t m0 x76 h27 y560 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;this<span class="_ _3"> </span>happens<span class="_ _3"> </span>no<span class="_ _3"> </span>matter<span class="_ _3"> </span>what&quot;</span>)</span></div><div class="t m0 x36 h27 y561 ff22 fsf fc5 sc0 ls1 ws1">try<span class="_ _3"> </span>something<span class="_ _3"> </span>here</div><div class="t m0 x36 h27 y562 ff22 fsf fc5 sc0 ls1 ws1">this<span class="_ _3"> </span>happens<span class="_ _3"> </span>only<span class="_ _3"> </span>if<span class="_ _3"> </span>it<span class="_ _2"> </span>succeeds</div><div class="t m0 x36 h27 y563 ff22 fsf fc5 sc0 ls1 ws1">this<span class="_ _3"> </span>happens<span class="_ _3"> </span>no<span class="_ _3"> </span>matter<span class="_ _3"> </span>what</div><div class="t m0 x1a h1f y564 ff1d fsf fc5 sc0 ls1 ws1">这里的<span class="_ _38"> </span><span class="ff22">else<span class="_ _38"> </span></span>的功能很清楚，<span class="_ _1"></span>但是<span class="_ _38"> </span><span class="ff22">finally<span class="_ _38"> </span></span>的意思是什么？<span class="_ _1"></span>其实无论发生什么，<span class="_ _3f"></span><span class="ff22">finally<span class="_ _38"> </span><span class="ff1d">子</span></span></div><div class="t m0 x2a h1f y565 ff1d fsf fc5 sc0 ls1 ws1">句始终会被执行，我通常认为它是在操作完成后用来做某种清理工作的。</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf46" class="pf w3 h1b" data-page-no="46"><div class="pc pc46 w3 h1b"><img class="bi x2a y566 w4 h58" alt="" src="bg46.png"/><div class="t m0 x26 h1c y3f ff1a fsc fc5 sc0 ls1 ws1">第<span class="_ _7"> </span><span class="ff19">11<span class="_ _7"> </span></span>章<span class="_ _33"> </span>迭代器</div><div class="t m0 x1a h1f y40 ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _0"></span>数<span class="_ _0"></span>据<span class="_ _0"></span>分析<span class="_ _0"></span>中<span class="_ _0"></span>一<span class="_ _0"></span>个<span class="_ _0"></span>很<span class="_ _0"></span>重<span class="_ _0"></span>要的<span class="_ _0"></span>应<span class="_ _0"></span>用<span class="_ _0"></span>是<span class="_ _0"></span>将<span class="_ _0"></span>数<span class="_ _0"></span>据<span class="_ _0"></span>以一<span class="_ _0"></span>种<span class="_ _0"></span>统<span class="_ _0"></span>一<span class="_ _0"></span>的<span class="_ _0"></span>方<span class="_ _0"></span>式重<span class="_ _0"></span>复<span class="_ _0"></span>地<span class="_ _0"></span>进<span class="_ _0"></span>行<span class="_ _0"></span>数<span class="_ _0"></span>据处<span class="_ _0"></span>理。<span class="_ _0"></span>比<span class="_ _0"></span>如</div><div class="t m0 x2a h1f y41 ff1d fsf fc5 sc0 ls1 ws1">对<span class="_ _0"></span>于<span class="_ _0"></span>一个<span class="_ _0"></span>包<span class="_ _0"></span>含<span class="_ _0"></span>人<span class="_ _0"></span>名<span class="_ _0"></span>的<span class="_ _0"></span>表格，<span class="_ _0"></span>将<span class="_ _0"></span>所<span class="_ _0"></span>有<span class="_ _0"></span>名<span class="_ _0"></span>字分<span class="_ _0"></span>割<span class="_ _0"></span>为<span class="_ _0"></span>姓<span class="_ _0"></span>和<span class="_ _0"></span>名；或<span class="_ _0"></span>者<span class="_ _0"></span>将<span class="_ _0"></span>一<span class="_ _0"></span>个<span class="_ _0"></span>包含<span class="_ _0"></span>日<span class="_ _0"></span>期<span class="_ _0"></span>的<span class="_ _0"></span>表<span class="_ _0"></span>格<span class="_ _0"></span>转换<span class="_ _0"></span>为<span class="_ _0"></span>某</div><div class="t m0 x2a h1f y42 ff1d fsf fc5 sc0 ls1 ws1">种标准的<span class="_ _0"></span>格式。对于这类<span class="_ _0"></span>问题<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中的解<span class="_ _0"></span>决方法是采用<span class="ff1e">迭<span class="_ _0"></span>代器</span>（<span class="ff1f">iterator</span>）语法。我们已<span class="_ _0"></span>经</div><div class="t m0 x2a h1f y43 ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _e"> </span><span class="ff22">range<span class="_ _a"> </span></span>迭代器中见过它了：</div><div class="t m0 x36 h27 y567 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[1]:<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span><span class="fc5">i<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _2"> </span></span><span class="fc9">range</span>(<span class="fcb">10</span>):</span></div><div class="t m0 x76 h27 y568 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(i,<span class="_ _3"> </span>end<span class="fcb">=<span class="ff2a fc11">&apos;<span class="_ _3"> </span>&apos;</span></span>)</span></div><div class="t m0 x36 h27 y569 ff22 fsf fc5 sc0 ls1 ws1">0<span class="_ _3"> </span>1<span class="_ _3"> </span>2<span class="_ _3"> </span>3<span class="_ _3"> </span>4<span class="_ _2"> </span>5<span class="_ _3"> </span>6<span class="_ _3"> </span>7<span class="_ _3"> </span>8<span class="_ _3"> </span>9</div><div class="t m0 x1a h1f y56a ff1d fsf fc5 sc0 ls1 ws1">在本章中我们将深入讨论迭代器。<span class="_ _9"></span>在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span>3<span class="_ _38"> </span></span>中，<span class="_ _5"></span><span class="ff22">range<span class="_ _e"> </span><span class="ff1d">产生的不是一个列表，<span class="_ _5"></span>而是一个</span></span></div><div class="t m0 x2a h1f y56b ff1d fsf fc5 sc0 ls1 ws1">称为迭代器的对象。掌握它的工作原理将帮助你理解许多非常有用的<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>功能与特性。</div><div class="t m0 x2a h23 y56c ff19 fsd fc5 sc0 ls1 ws1">11.1<span class="_ _15"> </span><span class="ff1a">遍历列表</span></div><div class="t m0 x1a h1f y56d ff1d fsf fc5 sc0 ls1 ws1">使用迭代器最简单的场景莫过于对列表进行迭代。考虑下列代码：</div><div class="t m0 x36 h27 y56e ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[2]:<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span><span class="fc5">value<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _2"> </span></span>[<span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">4</span>,<span class="_ _3"> </span><span class="fcb">6</span>,<span class="_ _3"> </span><span class="fcb">8</span>,<span class="_ _3"> </span><span class="fcb">10</span>]:</span></div><div class="t m0 x76 h21 y56f ff2c fsf fcf sc0 ls1 ws1">#<span class="_ _3"> </span><span class="ff1e">做其他一些操作</span></div><div class="t m0 x76 h27 y570 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(value<span class="_ _3"> </span><span class="fcb">+<span class="_ _3"> </span>1</span>,<span class="_ _3"> </span>end<span class="fcb">=<span class="ff2a fc11">&apos;<span class="_ _3"> </span>&apos;</span></span>)</span></div><div class="t m0 x36 h27 y571 ff22 fsf fc5 sc0 ls1 ws1">3<span class="_ _3"> </span>5<span class="_ _3"> </span>7<span class="_ _3"> </span>9<span class="_ _3"> </span>11</div><div class="t m0 x1a h1f y572 ff1d fsf fc5 sc0 ls1 ws1">熟<span class="_ _4a"></span>悉<span class="_ _55"></span>的<span class="_ _2"> </span><span class="ff1f">“<span class="ff22">for<span class="_ _3"> </span>x<span class="_ _3"> </span>in<span class="_ _3"> </span>y</span>”<span class="_ _8"> </span></span>语<span class="_ _4a"></span>法<span class="_ _55"> </span>可<span class="_ _4a"></span>以<span class="_ _55"> </span>让<span class="_ _4a"></span>我<span class="_ _55"> </span>们<span class="_ _4a"></span>我<span class="_ _55"></span>们<span class="_ _4a"></span>对列<span class="_ _55"></span>表<span class="_ _4a"></span>中<span class="_ _4a"></span>的<span class="_ _55"> </span>每<span class="_ _4a"></span>个<span class="_ _55"> </span>值<span class="_ _4a"></span>进<span class="_ _55"> </span>行<span class="_ _4a"></span>某<span class="_ _55"></span>种<span class="_ _4a"></span>重<span class="_ _55"></span>复<span class="_ _4a"></span>的<span class="_ _4a"></span>操<span class="_ _55"> </span>作。</div><div class="t m0 x2a h1f y573 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _10"> </span><span class="ff1d">语<span class="_ _0"></span>法<span class="_ _0"></span>与其<span class="_ _0"></span>英<span class="_ _0"></span>文<span class="_ _0"></span>描<span class="_ _0"></span>述<span class="_ _0"></span>（</span>“<span class="ff20">for<span class="_ _10"> </span>[e<span class="_ _5"></span>ach]<span class="_ _3b"> </span>value<span class="_ _10"> </span>in<span class="_ _3b"> </span>[the]<span class="_ _10"> </span>list<span class="_ _f"></span><span class="ff1f">’’<span class="ff1d">）<span class="_ _0"></span>如<span class="_ _0"></span>此<span class="_ _0"></span>接<span class="_ _0"></span>近<span class="_ _0"></span>的特<span class="_ _0"></span>点<span class="_ _0"></span>使<span class="_ _0"></span>得<span class="_ _a"> </span></span>Python<span class="_ _10"> </span><span class="ff1d">语</span></span></span></div><div class="t m0 x2a h1f y574 ff1d fsf fc5 sc0 ls1 ws1">法<span class="_ _0"></span>非<span class="_ _0"></span>常<span class="_ _0"></span>符<span class="_ _0"></span>合直<span class="_ _0"></span>觉<span class="_ _0"></span>并<span class="_ _0"></span>且<span class="_ _0"></span>易<span class="_ _0"></span>学、<span class="_ _0"></span>易<span class="_ _0"></span>用。<span class="_ _0"></span>但是，<span class="_ _0"></span>在<span class="_ _0"></span>这<span class="_ _0"></span>里<span class="_ _0"></span>表<span class="_ _0"></span>面<span class="_ _0"></span>上<span class="_ _0"></span>的<span class="_ _0"></span>行为<span class="_ _0"></span>并<span class="_ _0"></span>不<span class="_ _0"></span>是<span class="_ _0"></span><span class="ff1a">真<span class="_ _0"></span>正<span class="_ _0"></span></span>发<span class="_ _0"></span>生的<span class="_ _0"></span>情<span class="_ _0"></span>况。<span class="_ _0"></span>当<span class="_ _0"></span>你</div><div class="t m0 x2a h1f y575 ff1d fsf fc5 sc0 ls1 ws1">写<span class="_ _0"></span>下类<span class="_ _0"></span>似<span class="_ _a"> </span><span class="ff1f">“<span class="ff22">for<span class="_ _3"> </span>val<span class="_ _3"> </span>in<span class="_ _3"> </span>L</span>’’<span class="_ _a"> </span></span>这<span class="_ _0"></span>样<span class="_ _0"></span>的代<span class="_ _0"></span>码<span class="_ _0"></span>时，<span class="ff1f">Python<span class="_ _a"> </span></span>解<span class="_ _0"></span>释<span class="_ _0"></span>器会<span class="_ _0"></span>检<span class="_ _0"></span>查它<span class="_ _0"></span>是<span class="_ _0"></span>否包<span class="_ _0"></span>含<span class="_ _0"></span>一个<span class="ff1e">迭<span class="_ _0"></span>代<span class="_ _0"></span>器接<span class="_ _0"></span>口</span></div><div class="t m0 x50 h1f y576 ff1d fsf fc5 sc0 ls1 ws1">（<span class="ff1f">iterator<span class="_ _e"> </span>interface</span>）<span class="_ _39"></span>。你可以通过内置的<span class="_ _a"> </span><span class="ff22">iter<span class="_ _e"> </span></span>函数进行检查：</div><div class="t m0 x36 h27 y577 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[3]:<span class="_ _3"> </span><span class="fc9">iter<span class="fc5">([<span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">4</span>,<span class="_ _3"> </span><span class="fcb">6</span>,<span class="_ _2"> </span><span class="fcb">8</span>,<span class="_ _3"> </span><span class="fcb">10</span>])</span></span></div><div class="t m0 x36 h27 y578 ff22 fsf fc14 sc0 ls1 ws1">Out[3]:<span class="_ _3"> </span><span class="fc5">&lt;list_iterator<span class="_ _3"> </span>at<span class="_ _3"> </span>0x104722400&gt;</span></div><div class="t m0 x1a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">正是这<span class="_ _0"></span>个迭代器对象<span class="_ _0"></span>提供了<span class="_ _a"> </span><span class="ff22">for<span class="_ _a"> </span></span>循环需<span class="_ _0"></span>要的功能。<span class="_ _0"></span>这个<span class="_ _a"> </span><span class="ff22">iter<span class="_ _e"> </span></span>对<span class="_ _0"></span>象是一个<span class="_ _0"></span>容器，使你<span class="_ _0"></span>能访</div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">问下一个对象（只要它是合法的）<span class="_ _39"></span>。你可以通过内置的<span class="_ _a"> </span><span class="ff22">next<span class="_ _e"> </span></span>函数查看：</div><div class="t m0 x4f h22 y5c ff1f fsf fc5 sc0 ls1 ws1">61</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf47" class="pf w3 h1b" data-page-no="47"><div class="pc pc47 w3 h1b"><img class="bi x2a y579 w4 h59" alt="" src="bg47.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">62<span class="_ _82"> </span><span class="ff24">11.<span class="_ _2c"> </span><span class="ff1e">迭代器</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[4]:<span class="_ _3"> </span><span class="fc5">I<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fc9">iter</span></span>([<span class="fcb">2</span>,<span class="_ _2"> </span><span class="fcb">4</span>,<span class="_ _3"> </span><span class="fcb">6</span>,<span class="_ _3"> </span><span class="fcb">8</span>,<span class="_ _3"> </span><span class="fcb">10</span>])</span></div><div class="t m0 x36 h27 y138 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[5]:<span class="_ _3"> </span><span class="fc9">print<span class="fc5">(</span>next<span class="fc5">(I))</span></span></div><div class="t m0 x36 h27 y139 ff22 fsf fc5 sc0 ls1 ws1">2</div><div class="t m0 x36 h27 y13b ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[6]:<span class="_ _3"> </span><span class="fc9">print<span class="fc5">(</span>next<span class="fc5">(I))</span></span></div><div class="t m0 x36 h27 y13d ff22 fsf fc5 sc0 ls1 ws1">4</div><div class="t m0 x36 h27 y13e ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[7]:<span class="_ _3"> </span><span class="fc9">print<span class="fc5">(</span>next<span class="fc5">(I))</span></span></div><div class="t m0 x36 h27 y57a ff22 fsf fc5 sc0 ls1 ws1">6</div><div class="t m0 x1a h1f y57b ff1d fsf fc5 sc0 ls1 ws1">你可能<span class="_ _0"></span>觉得这样<span class="_ _0"></span>“迂回”的操<span class="_ _0"></span>作过于复<span class="_ _0"></span>杂，但事实<span class="_ _0"></span>证明这是<span class="_ _0"></span>非常有用<span class="_ _0"></span>的。因为这<span class="_ _0"></span>样的操作</div><div class="t m0 x2a h1f y57c ff1d fsf fc5 sc0 ls1 ws1">允许<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>像列表一样对待<span class="ff1a">实际上不是列表的对象</span>。下面我们将会看到这样的例子。</div><div class="t m0 x2a h23 y57d ff19 fsd fc5 sc0 ls1 ws1">11.2<span class="_ _15"> </span><span class="ff1a">不总是列表的列表：<span class="ff29">range()</span></span></div><div class="t m0 x1a h1f y57e ff1d fsf fc5 sc0 ls1 ws1">可能这种<span class="_ _9"></span>“迂回”<span class="_ _9"></span>迭代最常见的例子就是<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _e"> </span>3<span class="_ _e"> </span></span>中的<span class="_ _e"> </span><span class="ff22">range()<span class="_ _e"> </span></span>函数<span class="_ _4"></span>（在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _e"> </span>2<span class="_ _e"> </span></span>中这</div><div class="t m0 x2a h1f y57f ff1d fsf fc5 sc0 ls1 ws1">个函数命名为<span class="_ _e"> </span><span class="ff22">xrange()</span>）<span class="_ _c"></span>。这个函数并不返回一个列表，而是一个特殊的<span class="_ _a"> </span><span class="ff22">range()<span class="_ _e"> </span></span>对象：</div><div class="t m0 x36 h27 y580 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[8]:<span class="_ _3"> </span><span class="fc9">range<span class="fc5">(<span class="fcb">10</span>)</span></span></div><div class="t m0 x36 h27 y581 ff22 fsf fc14 sc0 ls1 ws1">Out[8]:<span class="_ _3"> </span><span class="fc5">range(0,<span class="_ _3"> </span>10)</span></div><div class="t m0 x1a h1f y582 ff22 fsf fc5 sc0 ls1 ws1">range<span class="_ _e"> </span><span class="ff1d">像一个列表一样暴露了一个迭代器接口：</span></div><div class="t m0 x36 h27 y583 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[9]:<span class="_ _3"> </span><span class="fc9">iter<span class="fc5">(</span>range<span class="fc5">(<span class="fcb">10</span>))</span></span></div><div class="t m0 x36 h27 y584 ff22 fsf fc14 sc0 ls1 ws1">Out[9]:<span class="_ _3"> </span><span class="fc5">&lt;range_iterator<span class="_ _3"> </span>at<span class="_ _3"> </span>0x1045a1810&gt;</span></div><div class="t m0 x1a h1f y585 ff1d fsf fc5 sc0 ls1 ws1">所以<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span><span class="ff1a">假装按照</span></span>它是一个列表一样对待它：</div><div class="t m0 x36 h27 y586 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[10]:<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span><span class="fc5">i<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _2"> </span></span><span class="fc9">range</span>(<span class="fcb">10</span>):</span></div><div class="t m0 x25 h27 y587 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(i,<span class="_ _3"> </span>end<span class="fcb">=<span class="ff2a fc11">&apos;<span class="_ _3"> </span>&apos;</span></span>)</span></div><div class="t m0 x36 h27 y588 ff22 fsf fc5 sc0 ls1 ws1">0<span class="_ _3"> </span>1<span class="_ _3"> </span>2<span class="_ _3"> </span>3<span class="_ _3"> </span>4<span class="_ _2"> </span>5<span class="_ _3"> </span>6<span class="_ _3"> </span>7<span class="_ _3"> </span>8<span class="_ _3"> </span>9</div><div class="t m0 x1a h1f yd4 ff1d fsf fc5 sc0 ls1 ws1">这样迭<span class="_ _0"></span>代的好处<span class="_ _0"></span>是，<span class="ff1a">整个列<span class="_ _0"></span>表并没有<span class="_ _0"></span>（显式地）得<span class="_ _0"></span>到完全创<span class="_ _0"></span>建</span>。我们可<span class="_ _0"></span>以通过一<span class="_ _0"></span>个范围计</div><div class="t m0 x2a h1f yd5 ff1d fsf fc5 sc0 ls1 ws1">算的例<span class="_ _0"></span>子看到这<span class="_ _0"></span>一点。在下<span class="_ _0"></span>面这个例子<span class="_ _0"></span>中，如果我<span class="_ _0"></span>们把列表中<span class="_ _0"></span>的每一个元<span class="_ _0"></span>素都创建<span class="_ _0"></span>出来（完全</div><div class="t m0 x2a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">实例化这个列表）<span class="_ _39"></span>，<span class="_ _4"></span>系统内存将被全部吞噬（注意到在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _e"> </span>2<span class="_ _a"> </span></span>中<span class="_ _e"> </span><span class="ff22">range<span class="_ _e"> </span></span>创建了一个列表，<span class="_ _4"></span>因</div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">此在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span>2<span class="_ _e"> </span></span>中运行下面的代码可能导致不好的事情发生）<span class="_ _c"></span>：</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf48" class="pf w3 h1b" data-page-no="48"><div class="pc pc48 w3 h1b"><img class="bi x2a y7c w4 h2c" alt="" src="bg48.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">11.3.<span class="_ _2c"> </span><span class="ff1e">实用迭代器介绍<span class="_ _83"> </span><span class="ff1f">63</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[11]:<span class="_ _3"> </span><span class="fc5">N<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>10<span class="_ _2"> </span>**<span class="_ _3"> </span>12</span></span></div><div class="t m0 x51 h27 y137 ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">i<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span></span><span class="ff22">range<span class="fc5">(N):</span></span></div><div class="t m0 x25 h27 y138 ff29 fsf fc9 sc0 ls1 ws1">if<span class="_ _3"> </span><span class="ff22 fc5">i<span class="_ _3"> </span><span class="fcb">&gt;=<span class="_ _3"> </span>10</span>:<span class="_ _3"> </span></span>break</div><div class="t m0 x25 h27 y257 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(i,<span class="_ _3"> </span>end<span class="fcb">=<span class="ff2a fc11">&apos;<span class="ff22">,<span class="_ _3"> </span></span>&apos;</span></span>)</span></div><div class="t m0 x36 h27 y13a ff22 fsf fc5 sc0 ls1 ws1">0,<span class="_ _3"> </span>1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>4,<span class="_ _2"> </span>5,<span class="_ _3"> </span>6,<span class="_ _3"> </span>7,<span class="_ _3"> </span>8,<span class="_ _3"> </span>9,</div><div class="t m0 x1a h1f y589 ff1d fsf fc5 sc0 ls1 ws1">如果<span class="_ _e"> </span><span class="ff22">range<span class="_ _e"> </span></span>真的创建了一个包含<span class="_ _e"> </span><span class="ff2d">1<span class="_ _a"> </span></span>万亿个值的列表，<span class="_ _5"></span>它将占用几十<span class="_ _e"> </span><span class="ff1f">TB<span class="_ _e"> </span></span>的机器内存！<span class="_ _5"></span>这是</div><div class="t m0 x2a h1f y58a ff1d fsf fc5 sc0 ls1 ws1">一个巨大的浪费，因为我们实际上并没有用到前<span class="_ _e"> </span><span class="ff2d">10<span class="_ _a"> </span></span>个值之外的所有东西！</div><div class="t m0 x1a h1f y58b ff1d fsf fc5 sc0 ls1 ws1">事实<span class="_ _0"></span>上，这里<span class="_ _0"></span>根本没<span class="_ _0"></span>有理由<span class="_ _0"></span>让我<span class="_ _0"></span>们对<span class="ff1a">整<span class="_ _0"></span>个列表</span>进<span class="_ _0"></span>行迭代。<span class="ff1f">Python<span class="_ _a"> </span></span>的<span class="_ _a"> </span><span class="ff22">itertools<span class="_ _a"> </span></span>库包<span class="_ _0"></span>含了</div><div class="t m0 x2a h1f y58c ff1d fsf fc5 sc0 ls1 ws1">一个<span class="_ _e"> </span><span class="ff22">count<span class="_ _a"> </span></span>函数，这个函数起到了一个无穷<span class="_ _e"> </span><span class="ff22">range<span class="_ _a"> </span></span>的作用：</div><div class="t m0 x36 h27 y58d ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[12]:<span class="_ _3"> </span><span class="ff29 fc9">from<span class="_ _3"> </span><span class="fca">itertools<span class="_ _3"> </span></span>import<span class="_ _2"> </span></span><span class="fc5">count</span></div><div class="t m0 x51 h27 y58e ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">i<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span><span class="ff22 fc5">count():</span></span></div><div class="t m0 x25 h27 y58f ff29 fsf fc9 sc0 ls1 ws1">if<span class="_ _3"> </span><span class="ff22 fc5">i<span class="_ _3"> </span><span class="fcb">&gt;=<span class="_ _3"> </span>10</span>:</span></div><div class="t m0 x59 h4c y590 ff29 fsf fc9 sc0 ls1 ws1">break</div><div class="t m0 x25 h27 y591 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(i,<span class="_ _3"> </span>end<span class="fcb">=<span class="ff2a fc11">&apos;<span class="ff22">,<span class="_ _3"> </span></span>&apos;</span></span>)</span></div><div class="t m0 x36 h27 y592 ff22 fsf fc5 sc0 ls1 ws1">0,<span class="_ _3"> </span>1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>4,<span class="_ _2"> </span>5,<span class="_ _3"> </span>6,<span class="_ _3"> </span>7,<span class="_ _3"> </span>8,<span class="_ _3"> </span>9,</div><div class="t m0 x1a h1f y593 ff1d fsf fc5 sc0 ls1 ws1">如<span class="_ _4a"></span>果<span class="_ _4a"></span>我<span class="_ _4a"></span>们<span class="_ _55"></span>没<span class="_ _4a"></span>有<span class="_ _4a"></span>在<span class="_ _4a"></span>中<span class="_ _4a"></span>途<span class="_ _55"></span>跳<span class="_ _4a"></span>出<span class="_ _4a"></span>循<span class="_ _4a"></span>环，<span class="_ _55"></span>它<span class="_ _4a"></span>会<span class="_ _4a"></span>一<span class="_ _4a"></span>直<span class="_ _4a"></span>计<span class="_ _55"></span>数<span class="_ _4a"></span>直<span class="_ _4a"></span>到<span class="_ _4a"></span>进<span class="_ _55"></span>程<span class="_ _4a"></span>被<span class="_ _4a"></span>手<span class="_ _4a"></span>动<span class="_ _4a"></span>中<span class="_ _55"></span>断<span class="_ _4a"></span>或<span class="_ _4a"></span>结<span class="_ _4a"></span>束<span class="_ _55"></span>（比<span class="_ _4a"></span>如<span class="_ _4a"></span>通</div><div class="t m0 x2a h1f y594 ff1d fsf fc5 sc0 ls1 ws1">过<span class="_ _e"> </span><span class="ff22">Ctrl-C</span>）<span class="_ _c"></span>。</div><div class="t m0 x2a h23 y595 ff19 fsd fc5 sc0 ls1 ws1">11.3<span class="_ _15"> </span><span class="ff1a">实用迭代器介绍</span></div><div class="t m0 x1a h1f y596 ff1d fsf fc5 sc0 ls1 ws1">迭代<span class="_ _0"></span>器语法几<span class="_ _0"></span>乎普遍<span class="_ _0"></span>用于<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>的内<span class="_ _0"></span>置类型<span class="_ _0"></span>以及数<span class="_ _0"></span>据科学<span class="_ _0"></span>中的一<span class="_ _0"></span>些特定对<span class="_ _0"></span>象，我们<span class="_ _0"></span>将在</div><div class="t m0 x2a h1f y597 ff1d fsf fc5 sc0 ls1 ws1">后面的部分中讨论。这里我们介绍一些<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中更有实际价值的迭代器。</div><div class="t m0 x2a h5a y598 ff19 fse fc5 sc0 ls1 ws1">11.3.1<span class="_ _3c"> </span><span class="ff29">enumerate</span></div><div class="t m0 x1a h1f y599 ff1d fsf fc5 sc0 ls1 ws1">通常你<span class="_ _0"></span>不仅需要<span class="_ _0"></span>迭代数组<span class="_ _0"></span>中的值，还<span class="_ _0"></span>需要同步<span class="_ _0"></span>对索引进行跟<span class="_ _0"></span>踪。你可能<span class="_ _0"></span>会用下面<span class="_ _0"></span>这种方式</div><div class="t m0 x2a h1f y59a ff1d fsf fc5 sc0 ls1 ws1">去实现：</div><div class="t m0 x36 h27 y506 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[13]:<span class="_ _3"> </span><span class="fc5">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[<span class="fcb">2</span>,<span class="_ _2"> </span><span class="fcb">4</span>,<span class="_ _3"> </span><span class="fcb">6</span>,<span class="_ _3"> </span><span class="fcb">8</span>,<span class="_ _3"> </span><span class="fcb">10</span>]</span></div><div class="t m0 x51 h27 y557 ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">i<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span></span><span class="ff22">range<span class="fc5">(</span>len<span class="fc5">(L)):</span></span></div><div class="t m0 x25 h27 y4a8 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(i,<span class="_ _3"> </span>L[i])</span></div><div class="t m0 x36 h27 y440 ff22 fsf fc5 sc0 ls1 ws1">0<span class="_ _3"> </span>2</div><div class="t m0 x36 h27 y256 ff22 fsf fc5 sc0 ls1 ws1">1<span class="_ _3"> </span>4</div><div class="t m0 x36 h27 y153 ff22 fsf fc5 sc0 ls1 ws1">2<span class="_ _3"> </span>6</div><div class="t m0 x36 h27 y154 ff22 fsf fc5 sc0 ls1 ws1">3<span class="_ _3"> </span>8</div><div class="t m0 x36 h27 y155 ff22 fsf fc5 sc0 ls1 ws1">4<span class="_ _3"> </span>10</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf49" class="pf w3 h1b" data-page-no="49"><div class="pc pc49 w3 h1b"><img class="bi x2a y156 w4 h54" alt="" src="bg49.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">64<span class="_ _82"> </span><span class="ff24">11.<span class="_ _2c"> </span><span class="ff1e">迭代器</span></span></div><div class="t m0 x1a h1f y7e ff1d fsf fc5 sc0 ls1 ws1">尽管上述例子是<span class="_ _0"></span>可行的，但是<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>提供了一个更简洁<span class="_ _0"></span>的语法，即通过<span class="_ _e"> </span><span class="ff22">enumerate<span class="_ _a"> </span></span>迭代</div><div class="t m0 x2a h1f yb3 ff1d fsf fc5 sc0 ls1 ws1">器：</div><div class="t m0 x36 h27 y59b ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[14]:<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span><span class="fc5">i,<span class="_ _3"> </span>val<span class="_ _2"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">enumerate</span>(L):</span></div><div class="t m0 x25 h27 y59c ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(i,<span class="_ _3"> </span>val)</span></div><div class="t m0 x36 h27 y59d ff22 fsf fc5 sc0 ls1 ws1">0<span class="_ _3"> </span>2</div><div class="t m0 x36 h27 y59e ff22 fsf fc5 sc0 ls1 ws1">1<span class="_ _3"> </span>4</div><div class="t m0 x36 h27 y59f ff22 fsf fc5 sc0 ls1 ws1">2<span class="_ _3"> </span>6</div><div class="t m0 x36 h27 y5a0 ff22 fsf fc5 sc0 ls1 ws1">3<span class="_ _3"> </span>8</div><div class="t m0 x36 h27 y5a1 ff22 fsf fc5 sc0 ls1 ws1">4<span class="_ _3"> </span>10</div><div class="t m0 x1a h1f y5a2 ff1d fsf fc5 sc0 ls1 ws1">在对一个列表中的索引和值进行迭代时，这是一种更加<span class="_ _e"> </span><span class="ff1f">Pythonic</span></div><div class="t m0 x7b h26 y5a3 ff26 fs10 fc6 sc0 ls1 ws1">1</div><div class="t m0 x85 h1f y5a2 ff1d fsf fc5 sc0 ls1 ws1">的方法。</div><div class="t m0 x2a h5a y5a4 ff19 fse fc5 sc0 ls1 ws1">11.3.2<span class="_ _3c"> </span><span class="ff29">zip</span></div><div class="t m0 x1a h1f y5a5 ff1d fsf fc5 sc0 ls1 ws1">另<span class="_ _0"></span>外<span class="_ _0"></span>一<span class="_ _0"></span>些<span class="_ _0"></span>情<span class="_ _0"></span>况下，<span class="_ _0"></span>你<span class="_ _0"></span>可<span class="_ _0"></span>能<span class="_ _0"></span>需<span class="_ _0"></span>要<span class="_ _0"></span>对<span class="_ _0"></span>多<span class="_ _0"></span>个列<span class="_ _0"></span>表<span class="_ _0"></span>同<span class="_ _0"></span>时进<span class="_ _0"></span>行<span class="_ _0"></span>迭<span class="_ _0"></span>代。<span class="_ _0"></span>你<span class="_ _0"></span>完<span class="_ _0"></span>全<span class="_ _0"></span>可<span class="_ _0"></span>以<span class="_ _0"></span>像<span class="_ _0"></span>之前<span class="_ _0"></span>我<span class="_ _0"></span>们<span class="_ _0"></span>看<span class="_ _0"></span>到<span class="_ _0"></span>的</div><div class="t m0 x2a h1f y5a6 ff1d fsf fc5 sc0 ls1 ws1">不<span class="_ _a"> </span><span class="ff1f">Pythonic<span class="_ _a"> </span></span>的方<span class="_ _0"></span>法那样<span class="_ _0"></span>对列表索引<span class="_ _0"></span>进行<span class="_ _0"></span>迭代，但<span class="_ _0"></span>是更好<span class="_ _0"></span>的方<span class="_ _0"></span>法是使<span class="_ _0"></span>用<span class="_ _a"> </span><span class="ff22">zip<span class="_ _a"> </span></span>迭代器，<span class="_ _0"></span>它将可<span class="_ _0"></span>迭</div><div class="t m0 x2a h1f y5a7 ff1d fsf fc5 sc0 ls1 ws1">代对象链在一起：</div><div class="t m0 x36 h27 y5a8 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[15]:<span class="_ _3"> </span><span class="fc5">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[<span class="fcb">2</span>,<span class="_ _2"> </span><span class="fcb">4</span>,<span class="_ _3"> </span><span class="fcb">6</span>,<span class="_ _3"> </span><span class="fcb">8</span>,<span class="_ _3"> </span><span class="fcb">10</span>]</span></div><div class="t m0 x51 h27 y5a9 ff22 fsf fc5 sc0 ls1 ws1">R<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[<span class="fcb">3</span>,<span class="_ _3"> </span><span class="fcb">6</span>,<span class="_ _3"> </span><span class="fcb">9</span>,<span class="_ _2"> </span><span class="fcb">12</span>,<span class="_ _3"> </span><span class="fcb">15</span>]</div><div class="t m0 x51 h27 y5aa ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">lval,<span class="_ _3"> </span>rval<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span></span><span class="ff22">zip<span class="fc5">(L,<span class="_ _2"> </span>R):</span></span></div><div class="t m0 x25 h27 y5ab ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(lval,<span class="_ _3"> </span>rval)</span></div><div class="t m0 x36 h27 y5ac ff22 fsf fc5 sc0 ls1 ws1">2<span class="_ _3"> </span>3</div><div class="t m0 x36 h27 y5ad ff22 fsf fc5 sc0 ls1 ws1">4<span class="_ _3"> </span>6</div><div class="t m0 x36 h27 y5ae ff22 fsf fc5 sc0 ls1 ws1">6<span class="_ _3"> </span>9</div><div class="t m0 x36 h27 y5af ff22 fsf fc5 sc0 ls1 ws1">8<span class="_ _3"> </span>12</div><div class="t m0 x36 h27 y5b0 ff22 fsf fc5 sc0 ls1 ws1">10<span class="_ _3"> </span>15</div><div class="t m0 x1a h1f y5b1 ff1d fsf fc5 sc0 ls1 ws1">任意数量的可迭代对象都可以被链在一起，<span class="_ _5"></span>其中最短的那个列表将决定整个<span class="_ _3"> </span><span class="ff22">zip<span class="_ _e"> </span></span>迭代器的</div><div class="t m0 x2a h1f y5b2 ff1d fsf fc5 sc0 ls1 ws1">长度。</div><div class="t m0 x2a h25 y5b3 ff19 fse fc5 sc0 ls1 ws1">11.3.3<span class="_ _3c"> </span><span class="ff29">map<span class="_ _3b"> </span><span class="ff1a">和<span class="_ _10"> </span></span>filter</span></div><div class="t m0 x1a h1f y5b4 ff22 fsf fc5 sc0 ls1 ws1">map<span class="_ _e"> </span><span class="ff1d">迭代器接受一个函数，并且将它应用到迭代器中每一个值：</span></div><div class="t m0 x36 h21 y5b5 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[16]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">寻找前<span class="_ _3"> </span></span>10<span class="_ _2"> </span><span class="ff1e">个平方数</span></span></div><div class="t m0 x51 h27 y5b6 ff22 fsf fc5 sc0 ls1 ws1">square<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="ff29 fc9">lambda<span class="_ _3"> </span></span></span>x:<span class="_ _3"> </span>x<span class="_ _2"> </span><span class="fcb">**<span class="_ _3"> </span>2</span></div><div class="t m0 x51 h27 y5b7 ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">val<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span></span><span class="ff22">map<span class="fc5">(square,<span class="_ _3"> </span></span>range<span class="fc5">(<span class="fcb">10</span>)):</span></span></div><div class="t m0 x25 h27 y5b8 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(val,<span class="_ _3"> </span>end<span class="fcb">=<span class="ff2a fc11">&apos;<span class="_ _3"> </span>&apos;</span></span>)</span></div><div class="t m0 x37 h28 y15f ff27 fs11 fc5 sc0 ls1 ws1">1</div><div class="t m0 x2f h29 y117 ff1d fs12 fc5 sc0 ls1 ws1">译者注：<span class="_ _84"></span>所谓<span class="_ _5f"> </span><span class="ff28">Pythonic<span class="_ _5f"> </span></span>的代码就是以<span class="_ _5f"> </span><span class="ff28">Python<span class="_ _5f"> </span></span>的方式写出简洁优美的代码<span class="_ _9"></span>（在第<span class="_ _5f"> </span><span class="ff28 fc6">1<span class="_ _5f"> </span></span>章中我们介绍了<span class="_ _34"></span>《<span class="ff28">Python<span class="_ _5f"> </span></span>之</div><div class="t m0 x2a h29 yf6 ff1d fs12 fc5 sc0 ls1 ws1">禅》<span class="_ _5"></span>，<span class="_ _4a"></span>它<span class="_ _f"></span>用<span class="_ _3b"> </span><span class="ff28">19<span class="_ _10"> </span></span>句<span class="_ _4a"> </span>话<span class="_ _4a"></span>精<span class="_ _f"></span>炼<span class="_ _4a"></span>地<span class="_ _f"></span>介<span class="_ _4a"></span>绍<span class="_ _f"></span>了<span class="_ _3b"> </span><span class="ff28">Python<span class="_ _10"> </span></span>的<span class="_ _4a"> </span>设<span class="_ _4a"></span>计<span class="_ _f"></span>思<span class="_ _4a"></span>想）<span class="_ _5"></span>。<span class="_ _4a"></span>阅<span class="_ _f"></span>读<span class="_ _4a"> </span>并<span class="_ _4a"></span>尽<span class="_ _f"></span>量<span class="_ _4a"></span>遵<span class="_ _f"></span>守<span class="_ _3b"> </span><span class="ff28">PEP<span class="_ _10"> </span>8</span>：<span class="ff28">Python<span class="_ _3b"> </span></span>代<span class="_ _f"></span>码<span class="_ _4a"></span>风<span class="_ _f"></span>格<span class="_ _4a"> </span>指<span class="_ _f"></span>南：</div><div class="t m0 x2a h29 y7c ff2b fs12 fc7 sc0 ls1 ws1">https://www.python.org/dev/peps/pep-<span class="_ _0"></span>0008/<span class="ff1d fc5">，你的代码就足够<span class="_ _38"> </span><span class="ff28">Pythonic<span class="_ _38"> </span></span>了！</span></div><a class="l" href="#pf49" data-dest-detail='[73,"XYZ",88.59,111.45,null]'><div class="d m7" style="border-style:none;position:absolute;left:402.152000px;bottom:570.134000px;width:4.234000px;height:5.136000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:404.902000px;bottom:98.301000px;width:4.607000px;height:5.674000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://www.python.org/dev/peps/pep-0008/"><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:70.007000px;width:193.500000px;height:8.220000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf4a" class="pf w3 h1b" data-page-no="4a"><div class="pc pc4a w3 h1b"><img class="bi x2a y1f9 w4 h5b" alt="" src="bg4a.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">11.3.<span class="_ _2c"> </span><span class="ff1e">实用迭代器介绍<span class="_ _83"> </span><span class="ff1f">65</span></span></div><div class="t m0 x36 h27 y213 ff22 fsf fc5 sc0 ls1 ws1">0<span class="_ _3"> </span>1<span class="_ _3"> </span>4<span class="_ _3"> </span>9<span class="_ _3"> </span>16<span class="_ _2"> </span>25<span class="_ _3"> </span>36<span class="_ _3"> </span>49<span class="_ _3"> </span>64<span class="_ _3"> </span>81</div><div class="t m0 x1a h1f y5b9 ff22 fsf fc5 sc0 ls1 ws1">filter<span class="_ _e"> </span><span class="ff1d">迭代器看上去类似，但是它只允许使得过滤函数为<span class="ff1a">真</span>的值保留下来：</span></div><div class="t m0 x36 h21 y5ba ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[17]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">寻找当<span class="_ _3"> </span></span>x<span class="_ _2"> </span>%<span class="_ _3"> </span>2<span class="_ _3"> </span><span class="ff1e">为<span class="_ _3"> </span></span>0<span class="_ _3"> </span><span class="ff1e">且小于<span class="_ _3"> </span></span>10<span class="_ _3"> </span><span class="ff1e">的值</span></span></div><div class="t m0 x51 h27 y5bb ff22 fsf fc5 sc0 ls1 ws1">is_even<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="ff29 fc9">lambda<span class="_ _3"> </span></span></span>x:<span class="_ _3"> </span>x<span class="_ _2"> </span><span class="fcb">%<span class="_ _3"> </span>2<span class="_ _3"> </span>==<span class="_ _3"> </span>0</span></div><div class="t m0 x51 h27 y5bc ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">val<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span></span><span class="ff22">filter<span class="fc5">(is_even,<span class="_ _3"> </span></span>range<span class="fc5">(<span class="fcb">10</span>)):</span></span></div><div class="t m0 x25 h27 y5bd ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(val,<span class="_ _3"> </span>end<span class="fcb">=<span class="ff2a fc11">&apos;<span class="_ _3"> </span>&apos;</span></span>)</span></div><div class="t m0 x36 h27 y5be ff22 fsf fc5 sc0 ls1 ws1">0<span class="_ _3"> </span>2<span class="_ _3"> </span>4<span class="_ _3"> </span>6<span class="_ _3"> </span>8</div><div class="t m0 x1a h1f y5bf ff22 fsf fc5 sc0 ls1 ws1">map<span class="ff1d">、</span>filter<span class="_ _2"> </span><span class="ff1d">以<span class="_ _4a"></span>及<span class="_ _2"> </span></span>reduce<span class="_ _2"> </span><span class="ff1d">函<span class="_ _4a"></span>数<span class="_ _4a"></span>（位<span class="_ _55"> </span>于<span class="_ _2"> </span><span class="ff1f">Python<span class="_ _2"> </span></span>的<span class="_ _8"> </span></span>functools<span class="_ _2"> </span><span class="ff1d">模<span class="_ _55"></span>块<span class="_ _4a"></span>中）<span class="_ _4a"></span>是<span class="ff1e">函<span class="_ _55"> </span>数<span class="_ _4a"></span>式<span class="_ _55"> </span>编<span class="_ _4a"></span>程</span></span></div><div class="t m0 x50 h1f y5c0 ff1d fsf fc5 sc0 ls1 ws1">（<span class="ff1f">functional<span class="_ _a"> </span>programming</span>）风<span class="_ _0"></span>格的基<span class="_ _0"></span>本组成<span class="_ _0"></span>模块。<span class="_ _0"></span>目前在<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>世<span class="_ _0"></span>界中，这<span class="_ _0"></span>种方式<span class="_ _0"></span>暂时还<span class="_ _0"></span>不</div><div class="t m0 x2a h1f y5c1 ff1d fsf fc5 sc0 ls1 ws1">是主流，但是仍然有着坚定的支持者（比如<span class="_ _e"> </span><span class="ff1f fc7">pytoolz<span class="_ _a"> </span><span class="ff1d">库</span></span>）<span class="_ _39"></span>。</div><div class="t m0 x2a h25 y5c2 ff19 fse fc5 sc0 ls1 ws1">11.3.4<span class="_ _3c"> </span><span class="ff1a">迭代器作为函数参数</span></div><div class="t m0 x1a h1f y5c3 ff1d fsf fc5 sc0 ls1 ws1">我们在<span class="_ _0"></span>第<span class="_ _a"> </span><span class="ff1f fc6">9.4<span class="_ _e"> </span></span>节<span class="fc6">可<span class="_ _0"></span>变参数：<span class="ff22">*args<span class="_ _a"> </span></span>和<span class="_ _a"> </span><span class="ff22">**kwargs<span class="_ _e"> </span></span></span>中<span class="_ _0"></span>看见<span class="_ _3"> </span><span class="ff22">*args<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff22">**kwargs<span class="_ _a"> </span></span>可以<span class="_ _0"></span>用来向函</div><div class="t m0 x2a h1f y5c4 ff1d fsf fc5 sc0 ls1 ws1">数传递序列和字典。事实上，<span class="ff22">*args<span class="_ _e"> </span></span>语法不仅仅适用于序列，同样适用于任意迭代器：</div><div class="t m0 x36 h27 y5c5 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[18]:<span class="_ _3"> </span><span class="fc9">print<span class="fc5">(<span class="fcb">*</span></span>range<span class="fc5">(<span class="fcb">10</span>))</span></span></div><div class="t m0 x36 h27 y5c6 ff22 fsf fc5 sc0 ls1 ws1">0<span class="_ _3"> </span>1<span class="_ _3"> </span>2<span class="_ _3"> </span>3<span class="_ _3"> </span>4<span class="_ _2"> </span>5<span class="_ _3"> </span>6<span class="_ _3"> </span>7<span class="_ _3"> </span>8<span class="_ _3"> </span>9</div><div class="t m0 x1a h1f y5c7 ff1d fsf fc5 sc0 ls1 ws1">那么，举一个例子，我们可以将之前的<span class="_ _e"> </span><span class="ff22">map<span class="_ _a"> </span></span>例子用一个技巧整合进下面的函数调用中：</div><div class="t m0 x36 h27 y5c8 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[19]:<span class="_ _3"> </span><span class="fc9">print<span class="fc5">(<span class="fcb">*</span></span>map<span class="fc5">(</span><span class="ff29">lambda<span class="_ _3"> </span></span><span class="fc5">x:<span class="_ _3"> </span>x<span class="_ _2"> </span><span class="fcb">**<span class="_ _3"> </span>2</span>,<span class="_ _3"> </span></span>range<span class="fc5">(<span class="fcb">10</span>)))</span></span></div><div class="t m0 x36 h27 y5c9 ff22 fsf fc5 sc0 ls1 ws1">0<span class="_ _3"> </span>1<span class="_ _3"> </span>4<span class="_ _3"> </span>9<span class="_ _3"> </span>16<span class="_ _2"> </span>25<span class="_ _3"> </span>36<span class="_ _3"> </span>49<span class="_ _3"> </span>64<span class="_ _3"> </span>81</div><div class="t m0 x1a h1f y5ca ff1d fsf fc5 sc0 ls1 ws1">使<span class="_ _4a"></span>用<span class="_ _55"> </span>这<span class="_ _55"></span>个<span class="_ _4a"></span>技<span class="_ _55"> </span>巧，<span class="_ _55"></span>我<span class="_ _4a"></span>们<span class="_ _55"> </span>可<span class="_ _4a"></span>以<span class="_ _55"> </span>回<span class="_ _55"> </span>答<span class="_ _4a"></span>在<span class="_ _3"> </span><span class="ff1f">Python<span class="_ _8"> </span></span>初<span class="_ _55"> </span>学<span class="_ _4a"></span>者<span class="_ _55"> </span>论<span class="_ _55"> </span>坛<span class="_ _4a"></span>上<span class="_ _55"> </span>一<span class="_ _55"> </span>个<span class="_ _4a"></span>老<span class="_ _55"> </span>生<span class="_ _55"></span>常<span class="_ _4a"></span>谈<span class="_ _55"> </span>的<span class="_ _55"></span>问<span class="_ _4a"></span>题：<span class="_ _55"> </span>为<span class="_ _55"></span>什</div><div class="t m0 x2a h1f y5cb ff1d fsf fc5 sc0 ls1 ws1">么<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中<span class="_ _0"></span>没有<span class="_ _0"></span>一个<span class="_ _3"> </span><span class="ff22">unzip()<span class="_ _a"> </span></span>函<span class="_ _0"></span>数恰<span class="_ _0"></span>好执<span class="_ _0"></span>行<span class="_ _a"> </span><span class="ff22">zip()<span class="_ _a"> </span></span>函数<span class="_ _0"></span>相反<span class="_ _0"></span>的操<span class="_ _0"></span>作呢？<span class="_ _0"></span>如果<span class="_ _0"></span>你把<span class="_ _0"></span>自己<span class="_ _0"></span>锁在</div><div class="t m0 x2a h1f y5cc ff1d fsf fc5 sc0 ls1 ws1">一<span class="_ _0"></span>个漆<span class="_ _0"></span>黑的<span class="_ _0"></span>地方<span class="_ _0"></span>然后<span class="_ _0"></span>思考<span class="_ _0"></span>一会<span class="_ _0"></span>儿这<span class="_ _0"></span>个问<span class="_ _0"></span>题，<span class="_ _0"></span>你可<span class="_ _0"></span>能会<span class="_ _0"></span>意识<span class="_ _0"></span>到与<span class="_ _a"> </span><span class="ff22">zip()<span class="_ _10"> </span></span>相<span class="_ _0"></span>反的函<span class="_ _0"></span>数还<span class="_ _0"></span>是<span class="_ _a"> </span><span class="ff22">zip()</span>！</div><div class="t m0 x2a h1f y5cd ff1d fsf fc5 sc0 ls1 ws1">理解这个问题的关键在于<span class="_ _e"> </span><span class="ff22">zip()<span class="_ _a"> </span></span>可以链接任意数量的迭代器或者序列。观察下列代码：</div><div class="t m0 x36 h27 y1af ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[20]:<span class="_ _3"> </span><span class="fc5">L1<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>(<span class="fcb">1</span>,<span class="_ _2"> </span><span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">3</span>,<span class="_ _3"> </span><span class="fcb">4</span>)</span></div><div class="t m0 x51 h27 y1b0 ff22 fsf fc5 sc0 ls1 ws1">L2<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>(<span class="ff2a fc11">&apos;<span class="ff22">a</span>&apos;</span>,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">b</span>&apos;</span>,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">c</span>&apos;</span>,<span class="_ _2"> </span><span class="ff2a fc11">&apos;<span class="ff22">d</span>&apos;</span>)</div><div class="t m0 x36 h27 y1b2 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[21]:<span class="_ _3"> </span><span class="fc5">z<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fc9">zip</span></span>(L1,<span class="_ _2"> </span>L2)</span></div><div class="t m0 x51 h27 yd4 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fcb">*</span>z)</span></div><div class="t m0 x36 h27 yd6 ff22 fsf fc5 sc0 ls1 ws1">(1,<span class="_ _3"> </span><span class="ff2a">&apos;</span>a<span class="ff2a">&apos;</span>)<span class="_ _3"> </span>(2,<span class="_ _3"> </span><span class="ff2a">&apos;</span>b<span class="ff2a">&apos;</span>)<span class="_ _3"> </span>(3,<span class="_ _2"> </span><span class="ff2a">&apos;</span>c<span class="ff2a">&apos;</span>)<span class="_ _3"> </span>(4,<span class="_ _3"> </span><span class="ff2a">&apos;</span>d<span class="ff2a">&apos;</span>)</div><a class="l" href="https://toolz.readthedocs.org/en/latest/"><div class="d m7" style="border-style:none;position:absolute;left:282.909000px;bottom:525.807000px;width:49.394000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf3a" data-dest-detail='[58,"XYZ",72,586.65,null]'><div class="d m7" style="border-style:none;position:absolute;left:141.603000px;bottom:473.671000px;width:13.940000px;height:6.869000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf3a" data-dest-detail='[58,"XYZ",72,586.65,null]'><div class="d m7" style="border-style:none;position:absolute;left:170.251000px;bottom:470.560000px;width:147.857000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf4b" class="pf w3 h1b" data-page-no="4b"><div class="pc pc4b w3 h1b"><img class="bi x2a y118 w4 h2c" alt="" src="bg4b.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">66<span class="_ _82"> </span><span class="ff24">11.<span class="_ _2c"> </span><span class="ff1e">迭代器</span></span></div><div class="t m0 x36 h27 y212 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[22]:<span class="_ _3"> </span><span class="fc5">z<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fc9">zip</span></span>(L1,<span class="_ _2"> </span>L2)</span></div><div class="t m0 x51 h27 y213 ff22 fsf fc5 sc0 ls1 ws1">new_L1,<span class="_ _3"> </span>new_L2<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fc9">zip</span></span>(<span class="fcb">*</span>z)</div><div class="t m0 x51 h27 y386 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(new_L1,<span class="_ _3"> </span>new_L2)</span></div><div class="t m0 x36 h27 y388 ff22 fsf fc5 sc0 ls1 ws1">(1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>4)<span class="_ _3"> </span>(<span class="ff2a">&apos;</span>a<span class="ff2a">&apos;</span>,<span class="_ _2"> </span><span class="ff2a">&apos;</span>b<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>c<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>d<span class="ff2a">&apos;</span>)</div><div class="t m0 x1a h1f y5ce ff1d fsf fc5 sc0 ls1 ws1">好<span class="_ _4a"></span>好<span class="_ _4a"></span>思<span class="_ _4a"></span>考<span class="_ _55"></span>一<span class="_ _4a"></span>下<span class="_ _4a"></span>这<span class="_ _4a"></span>个<span class="_ _4a"></span>例<span class="_ _55"></span>子。<span class="_ _4a"></span>如<span class="_ _4a"></span>果<span class="_ _4a"></span>你<span class="_ _55"></span>已<span class="_ _4a"></span>经<span class="_ _4a"></span>理<span class="_ _4a"></span>解<span class="_ _4a"></span>了<span class="_ _55"></span>它<span class="_ _4a"></span>是<span class="_ _4a"></span>如<span class="_ _4a"></span>何<span class="_ _55"></span>工<span class="_ _4a"></span>作<span class="_ _4a"></span>的，<span class="_ _4a"></span>说<span class="_ _4a"></span>明<span class="_ _55"></span>你<span class="_ _4a"></span>已<span class="_ _4a"></span>经<span class="_ _4a"></span>深<span class="_ _55"></span>入<span class="_ _4a"></span>理<span class="_ _4a"></span>解</div><div class="t m0 x2a h1f y5cf ff1d fsf fc5 sc0 ls1 ws1">了<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>的迭代器！</div><div class="t m0 x2a h23 y5d0 ff19 fsd fc5 sc0 ls1 ws1">11.4<span class="_ _15"> </span><span class="ff1a">专用迭代器：<span class="ff29">itertools</span></span></div><div class="t m0 x1a h1f y5d1 ff22 fsf fc5 sc0 ls1 ws1">itertools<span class="_ _3"> </span><span class="ff1d">模<span class="_ _74"> </span>块<span class="_ _74"> </span>包<span class="_ _74"> </span>含<span class="_ _4b"> </span>了<span class="_ _74"> </span>一<span class="_ _74"> </span>系<span class="_ _74"> </span>列<span class="_ _74"> </span>有<span class="_ _74"> </span>用<span class="_ _74"> </span>的迭<span class="_ _74"> </span>代<span class="_ _74"> </span>器，<span class="_ _74"> </span>我<span class="_ _4b"> </span>们<span class="_ _74"> </span>之<span class="_ _74"> </span>前<span class="_ _74"> </span>已<span class="_ _74"> </span>经<span class="_ _74"> </span>简<span class="_ _74"> </span>略<span class="_ _74"> </span>地<span class="_ _74"> </span>介<span class="_ _74"> </span>绍<span class="_ _74"> </span>了<span class="_ _4b"> </span>其<span class="_ _74"> </span>中<span class="_ _74"> </span>无</span></div><div class="t m0 x2a h1f y5d2 ff1d fsf fc5 sc0 ls1 ws1">穷<span class="_ _8"> </span><span class="ff22">range<span class="_ _8"> </span></span>迭<span class="_ _f"></span>代<span class="_ _f"></span>器：<span class="ff22">itertools.count</span>。<span class="_ _4a"></span>探<span class="_ _4a"></span>索<span class="_ _f"></span>这<span class="_ _4a"></span>个<span class="_ _f"></span>模<span class="_ _4a"></span>块<span class="_ _4a"></span>来<span class="_ _f"></span>找<span class="_ _4a"></span>到<span class="_ _f"></span>对<span class="_ _4a"></span>你<span class="_ _4a"></span>的<span class="_ _f"></span>程<span class="_ _4a"></span>序<span class="_ _f"></span>有<span class="_ _4a"></span>用<span class="_ _4a"></span>的迭<span class="_ _f"></span>代<span class="_ _4a"></span>器<span class="_ _f"></span>是<span class="_ _4a"></span>非</div><div class="t m0 x2a h1f y5d3 ff1d fsf fc5 sc0 ls1 ws1">常值得的。<span class="_ _0"></span>作为一个例子，考虑<span class="_ _a"> </span><span class="ff22">itertools.permutations<span class="_ _a"> </span></span>函数，这个函数在<span class="_ _0"></span>一个序列的<span class="ff1e">全排</span></div><div class="t m0 x2a h1f y5d4 ff1e fsf fc5 sc0 ls1 ws1">列<span class="ff1d">（<span class="ff1f">full<span class="_ _e"> </span>p<span class="_ _0"></span>erm<span class="_ _4"></span>utation<span class="ff1d">）中进行迭代：</span></span></span></div><div class="t m0 x36 h27 y5d5 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[23]:<span class="_ _3"> </span><span class="ff29 fc9">from<span class="_ _3"> </span><span class="fca">itertools<span class="_ _3"> </span></span>import<span class="_ _2"> </span></span><span class="fc5">permutations</span></div><div class="t m0 x51 h27 y5d6 ff22 fsf fc5 sc0 ls1 ws1">p<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>permutations(<span class="fc9">range</span>(<span class="fcb">3</span>))</div><div class="t m0 x51 h27 y5d7 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fcb">*</span>p)</span></div><div class="t m0 x36 h27 y5d8 ff22 fsf fc5 sc0 ls1 ws1">(0,<span class="_ _3"> </span>1,<span class="_ _3"> </span>2)<span class="_ _3"> </span>(0,<span class="_ _3"> </span>2,<span class="_ _2"> </span>1)<span class="_ _3"> </span>(1,<span class="_ _3"> </span>0,<span class="_ _3"> </span>2)<span class="_ _3"> </span>(1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>0)<span class="_ _3"> </span>(2,<span class="_ _3"> </span>0,<span class="_ _3"> </span>1)<span class="_ _2"> </span>(2,<span class="_ _3"> </span>1,<span class="_ _3"> </span>0)</div><div class="t m0 x1a h1f y5d9 ff1d fsf fc5 sc0 ls1 ws1">类似地，<span class="ff22">itertools.combinations<span class="_ _e"> </span></span>函数在一个列表中所有不同的<span class="_ _a"> </span><span class="ff25">N<span class="_ _3b"> </span></span>组合中进行迭代：</div><div class="t m0 x36 h27 y5da ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[24]:<span class="_ _3"> </span><span class="ff29 fc9">from<span class="_ _3"> </span><span class="fca">itertools<span class="_ _3"> </span></span>import<span class="_ _2"> </span></span><span class="fc5">combinations</span></div><div class="t m0 x51 h27 y5db ff22 fsf fc5 sc0 ls1 ws1">c<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>combinations(<span class="fc9">range</span>(<span class="fcb">4</span>),<span class="_ _3"> </span><span class="fcb">2</span>)</div><div class="t m0 x51 h27 y5dc ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fcb">*</span>c)</span></div><div class="t m0 x36 h27 y5dd ff22 fsf fc5 sc0 ls1 ws1">(0,<span class="_ _3"> </span>1)<span class="_ _3"> </span>(0,<span class="_ _3"> </span>2)<span class="_ _3"> </span>(0,<span class="_ _2"> </span>3)<span class="_ _3"> </span>(1,<span class="_ _3"> </span>2)<span class="_ _3"> </span>(1,<span class="_ _3"> </span>3)<span class="_ _3"> </span>(2,<span class="_ _3"> </span>3)</div><div class="t m0 x1a h1f y5de ff1d fsf fc5 sc0 ls1 ws1">与之有一点儿关联的是<span class="_ _a"> </span><span class="ff22">product<span class="_ _e"> </span></span>迭代器，这个迭代器对两个或多个可迭代对象进行两两配</div><div class="t m0 x2a h1f y5df ff1d fsf fc5 sc0 ls1 ws1">对</div><div class="t m0 x7d h26 y5e0 ff26 fs10 fc6 sc0 ls1 ws1">2</div><div class="t m0 x17 h1f y5df ff1d fsf fc5 sc0 ls1 ws1">，最终产生一个集合进行迭代：</div><div class="t m0 x36 h27 y5e1 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[25]:<span class="_ _3"> </span><span class="ff29 fc9">from<span class="_ _3"> </span><span class="fca">itertools<span class="_ _3"> </span></span>import<span class="_ _2"> </span></span><span class="fc5">product</span></div><div class="t m0 x51 h27 y5e2 ff22 fsf fc5 sc0 ls1 ws1">p<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>product(<span class="ff2a fc11">&apos;<span class="ff22">ab</span>&apos;</span>,<span class="_ _3"> </span><span class="fc9">range</span>(<span class="fcb">3</span>))</div><div class="t m0 x51 h27 y5e3 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fcb">*</span>p)</span></div><div class="t m0 x36 h27 y5e4 ff22 fsf fc5 sc0 ls1 ws1">(<span class="ff2a">&apos;</span>a<span class="ff2a">&apos;</span>,<span class="_ _3"> </span>0)<span class="_ _3"> </span>(<span class="ff2a">&apos;</span>a<span class="ff2a">&apos;</span>,<span class="_ _3"> </span>1)<span class="_ _3"> </span>(<span class="ff2a">&apos;</span>a<span class="ff2a">&apos;</span>,<span class="_ _2"> </span>2)<span class="_ _3"> </span>(<span class="ff2a">&apos;</span>b<span class="ff2a">&apos;</span>,<span class="_ _3"> </span>0)<span class="_ _3"> </span>(<span class="ff2a">&apos;</span>b<span class="ff2a">&apos;</span>,<span class="_ _3"> </span>1)<span class="_ _3"> </span>(<span class="ff2a">&apos;</span>b<span class="ff2a">&apos;</span>,<span class="_ _3"> </span>2)</div><div class="t m0 x1a h1f y5e5 ff22 fsf fc5 sc0 ls1 ws1">itertools<span class="_ _a"> </span><span class="ff1d">中还有<span class="_ _0"></span>更多有<span class="_ _0"></span>用的工<span class="_ _0"></span>具：你可<span class="_ _0"></span>以查阅<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>官方<span class="_ _0"></span>文档找<span class="_ _0"></span>到全部<span class="_ _0"></span>的列表<span class="_ _0"></span>以及一</span></div><div class="t m0 x2a h1f y5e6 ff1d fsf fc5 sc0 ls1 ws1">些例子：<span class="ff22 fc7">https://docs.python.org/3/library/itertools.html</span>。</div><div class="t m0 x37 h28 y135 ff27 fs11 fc5 sc0 ls1 ws1">2</div><div class="t m0 x2f h29 y7c ff1d fs12 fc5 sc0 ls1 ws1">译者注：实际上是求两个或多个集合的<span class="ff1e">笛卡尔积</span>（<span class="ff28">Cartesian<span class="_ _38"> </span>Product</span>）<span class="_ _42"></span>。</div><a class="l" href="#pf4b" data-dest-detail='[75,"XYZ",88.59,85.15,null]'><div class="d m7" style="border-style:none;position:absolute;left:82.909000px;bottom:254.603000px;width:4.234000px;height:5.137000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://docs.python.org/3/library/itertools.html"><div class="d m7" style="border-style:none;position:absolute;left:115.636000px;bottom:102.316000px;width:274.909000px;height:10.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf4c" class="pf w3 h1b" data-page-no="4c"><div class="pc pc4c w3 h1b"><img class="bi x2a yd7 w4 h5c" alt="" src="bg4c.png"/><div class="t m0 x16 h1c y3f ff1a fsc fc5 sc0 ls1 ws1">第<span class="_ _7"> </span><span class="ff19">12<span class="_ _7"> </span></span>章<span class="_ _33"> </span>列表推导</div><div class="t m0 x1a h1f y5e7 ff1d fsf fc5 sc0 ls1 ws1">如果你<span class="_ _0"></span>读过足够<span class="_ _0"></span>多的<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>代<span class="_ _0"></span>码的话，你<span class="_ _0"></span>最终一定<span class="_ _0"></span>会遇到著<span class="_ _0"></span>名的<span class="ff1e">列表推<span class="_ _0"></span>导</span>（<span class="ff1f">list<span class="_ _a"> </span>compre-</span></div><div class="t m0 x2a h1f y5e8 ff1f fsf fc5 sc0 ls1 ws1">hension<span class="ff1d">）</span></div><div class="t m0 x86 h26 y5e9 ff26 fs10 fc6 sc0 ls1 ws1">1</div><div class="t m0 x19 h1f y5e8 ff1d fsf fc5 sc0 ls1 ws1">这种<span class="_ _0"></span>简短、<span class="_ _0"></span>高效<span class="_ _0"></span>的代<span class="_ _0"></span>码构<span class="_ _0"></span>建方<span class="_ _0"></span>式。如果<span class="_ _0"></span>你之<span class="_ _0"></span>前没<span class="_ _0"></span>有使<span class="_ _0"></span>用过<span class="_ _0"></span>这种<span class="_ _0"></span>特性，我<span class="_ _0"></span>希望<span class="_ _0"></span>你最<span class="_ _0"></span>终</div><div class="t m0 x2a h1f y5ea ff1d fsf fc5 sc0 ls1 ws1">会爱上它。它的格式如下所示：</div><div class="t m0 x36 h27 y5eb ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[1]:<span class="_ _3"> </span><span class="fc5">[i<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span>i<span class="_ _2"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">20</span>)<span class="_ _3"> </span><span class="ff29 fc9">if<span class="_ _3"> </span></span>i<span class="_ _3"> </span><span class="fcb">%<span class="_ _3"> </span>3<span class="_ _3"> </span>&gt;<span class="_ _3"> </span>0</span>]</span></div><div class="t m0 x36 h27 y5ec ff22 fsf fc14 sc0 ls1 ws1">Out[1]:<span class="_ _3"> </span><span class="fc5">[1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>4,<span class="_ _3"> </span>5,<span class="_ _2"> </span>7,<span class="_ _3"> </span>8,<span class="_ _3"> </span>10,<span class="_ _3"> </span>11,<span class="_ _3"> </span>13,<span class="_ _3"> </span>14,<span class="_ _3"> </span>16,<span class="_ _3"> </span>17,<span class="_ _3"> </span>19]</span></div><div class="t m0 x1a h1f y5ed ff1d fsf fc5 sc0 ls1 ws1">这行代码的<span class="_ _0"></span>结果是一个排除了<span class="_ _0"></span>数字<span class="_ _e"> </span><span class="ff2d">3<span class="_ _a"> </span></span>及其倍数的列<span class="_ _0"></span>表。第一眼看上去这<span class="_ _0"></span>段代码也许有些令</div><div class="t m0 x2a h1f y5ee ff1d fsf fc5 sc0 ls1 ws1">人困惑，但是随着你对<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>代码的熟悉，阅读和书写列表推导代码将变得越来越自然。</div><div class="t m0 x2a h23 y5ef ff19 fsd fc5 sc0 ls1 ws1">12.1<span class="_ _15"> </span><span class="ff1a">基础列表推导</span></div><div class="t m0 x1a h1f y5f0 ff1d fsf fc5 sc0 ls1 ws1">列表推导是将一<span class="_ _0"></span>个冗长的<span class="_ _e"> </span><span class="ff22">for<span class="_ _a"> </span></span>循环列表构造语句压<span class="_ _0"></span>缩为一行简短易读代码的简单<span class="_ _0"></span>方法。比</div><div class="t m0 x2a h1f y5f1 ff1d fsf fc5 sc0 ls1 ws1">如，下面就是一个构造包含前<span class="_ _e"> </span><span class="ff2d">12<span class="_ _a"> </span></span>个平方数的列表的循环语句：</div><div class="t m0 x36 h27 y5f2 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[2]:<span class="_ _3"> </span><span class="fc5">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[]</span></div><div class="t m0 x46 h27 y5f3 ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">n<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span></span><span class="ff22">range<span class="fc5">(<span class="fcb">12</span>):</span></span></div><div class="t m0 x76 h27 y5f4 ff22 fsf fc5 sc0 ls1 ws1">L<span class="fcb">.</span>append(n<span class="_ _3"> </span><span class="fcb">**<span class="_ _3"> </span>2</span>)</div><div class="t m0 x46 h27 y5f5 ff22 fsf fc5 sc0 ls1 ws1">L</div><div class="t m0 x36 h27 y5f6 ff22 fsf fc14 sc0 ls1 ws1">Out[2]:<span class="_ _3"> </span><span class="fc5">[0,<span class="_ _3"> </span>1,<span class="_ _3"> </span>4,<span class="_ _3"> </span>9,<span class="_ _2"> </span>16,<span class="_ _3"> </span>25,<span class="_ _3"> </span>36,<span class="_ _3"> </span>49,<span class="_ _3"> </span>64,<span class="_ _3"> </span>81,<span class="_ _3"> </span>100,<span class="_ _3"> </span>121]</span></div><div class="t m0 x1a h1f y5f7 ff1d fsf fc5 sc0 ls1 ws1">与之等价的列表推导如下所示：</div><div class="t m0 x36 h27 y5f8 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[3]:<span class="_ _3"> </span><span class="fc5">[n<span class="_ _3"> </span><span class="fcb">**<span class="_ _3"> </span>2<span class="_ _2"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span></span>n<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">12</span>)]</span></div><div class="t m0 x36 h27 y5f9 ff22 fsf fc14 sc0 ls1 ws1">Out[3]:<span class="_ _3"> </span><span class="fc5">[0,<span class="_ _3"> </span>1,<span class="_ _3"> </span>4,<span class="_ _3"> </span>9,<span class="_ _2"> </span>16,<span class="_ _3"> </span>25,<span class="_ _3"> </span>36,<span class="_ _3"> </span>49,<span class="_ _3"> </span>64,<span class="_ _3"> </span>81,<span class="_ _3"> </span>100,<span class="_ _3"> </span>121]</span></div><div class="t m0 x1a h1f y5fa ff1d fsf fc5 sc0 ls1 ws1">正如许多</div><div class="t m0 x48 h22 y5fb ff1f fsf fc5 sc0 ls1 ws1">Python</div><div class="t m0 x7e h1f y5fa ff1d fsf fc5 sc0 ls1 ws1">语句一样，你几乎可以直接用直白的英语读出这段代码的意义：<span class="_ _39"></span>“对于每</div><div class="t m0 x2a h1f y5fc ff1d fsf fc5 sc0 ls1 ws1">个小于<span class="_ _e"> </span><span class="ff2d">12<span class="_ _a"> </span></span>的<span class="_ _e"> </span><span class="ff22">n<span class="_ _a"> </span></span>值，构造一个包含<span class="_ _e"> </span><span class="ff22">n<span class="_ _a"> </span></span>的平方的列表”<span class="_ _39"></span>。</div><div class="t m0 x1a h1f y5fd ff1d fsf fc5 sc0 ls1 ws1">列表推导的基本语法是：<span class="ff22">[<span class="ff2c">expr<span class="_ _3"> </span></span>for<span class="_ _e"> </span><span class="ff2c">var<span class="_ _3"> </span></span>in<span class="_ _e"> </span><span class="ff2c">iterable<span class="_ _4b"> </span></span>]</span>。在这里<span class="_ _a"> </span><span class="ff2c">expr<span class="_ _2"> </span></span>是任意合法的表达</div><div class="t m0 x2a h1f y5fe ff1d fsf fc5 sc0 ls1 ws1">式，<span class="ff2c">var<span class="_ _2"> </span></span>是变量名，<span class="ff2c">iterable<span class="_ _3"> </span></span>是任意可以迭代的<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>对象。</div><div class="t m0 x37 h28 yf5 ff27 fs11 fc5 sc0 ls1 ws1">1</div><div class="t m0 x2f h29 yf6 ff1d fs12 fc5 sc0 ls1 ws1">译者注：<span class="_ _4"></span><span class="ff28">list<span class="_ _35"> </span>comprehension<span class="_ _38"> </span><span class="ff1d">目前并没有一个固定的翻译，<span class="_ _4"></span>有翻译成列表速构、列表解析、<span class="_ _5"></span>列表内包等，但意思</span></span></div><div class="t m0 x2a h29 y7c ff1d fs12 fc5 sc0 ls1 ws1">上都是在定义列表结构的时候按照一定的规则进行推导，而不是穷举所有元素，故本书译为列表推导。</div><div class="t m0 x4f h22 y5c ff1f fsf fc5 sc0 ls1 ws1">67</div><a class="l" href="#pf4c" data-dest-detail='[76,"XYZ",88.59,98.3,null]'><div class="d m7" style="border-style:none;position:absolute;left:118.727000px;bottom:607.954000px;width:4.234000px;height:5.137000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf4d" class="pf w3 h1b" data-page-no="4d"><div class="pc pc4d w3 h1b"><img class="bi x2a y7c w4 h5d" alt="" src="bg4d.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">68<span class="_ _85"> </span><span class="ff24">12.<span class="_ _2c"> </span><span class="ff1e">列表推导</span></span></div><div class="t m0 x2a h23 yf7 ff19 fsd fc5 sc0 ls1 ws1">12.2<span class="_ _15"> </span><span class="ff1a">多重迭代</span></div><div class="t m0 x1a h1f y5ff ff1d fsf fc5 sc0 ls1 ws1">有的时<span class="_ _0"></span>候你可能<span class="_ _0"></span>需要从不<span class="_ _0"></span>止一个值<span class="_ _0"></span>构建列表。在<span class="_ _0"></span>这个情况<span class="_ _0"></span>下，只要简<span class="_ _0"></span>单地在列表<span class="_ _0"></span>推导中加</div><div class="t m0 x2a h1f y600 ff1d fsf fc5 sc0 ls1 ws1">入另外一个<span class="_ _e"> </span><span class="ff22">for<span class="_ _a"> </span></span>表达式即可：</div><div class="t m0 x36 h27 y601 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[4]:<span class="_ _3"> </span><span class="fc5">[(i,<span class="_ _3"> </span>j)<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _2"> </span></span>i<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">2</span>)<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span>j<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">3</span>)]</span></div><div class="t m0 x36 h27 y602 ff22 fsf fc14 sc0 ls1 ws1">Out[4]:<span class="_ _3"> </span><span class="fc5">[(0,<span class="_ _3"> </span>0),<span class="_ _3"> </span>(0,<span class="_ _3"> </span>1),<span class="_ _2"> </span>(0,<span class="_ _3"> </span>2),<span class="_ _3"> </span>(1,<span class="_ _3"> </span>0),<span class="_ _3"> </span>(1,<span class="_ _3"> </span>1),<span class="_ _3"> </span>(1,<span class="_ _3"> </span>2)]</span></div><div class="t m0 x1a h1f y603 ff1d fsf fc5 sc0 ls1 ws1">注<span class="_ _0"></span>意到<span class="_ _0"></span>第<span class="_ _0"></span>二<span class="_ _0"></span>个<span class="_ _a"> </span><span class="ff22">for<span class="_ _10"> </span></span>表<span class="_ _0"></span>达<span class="_ _0"></span>式在<span class="_ _0"></span>这<span class="_ _0"></span>里<span class="_ _0"></span>起到<span class="_ _0"></span>了<span class="_ _0"></span>内<span class="_ _0"></span>层循<span class="_ _0"></span>环索<span class="_ _0"></span>引<span class="_ _0"></span>的作<span class="_ _0"></span>用，<span class="_ _0"></span>最<span class="_ _0"></span>快速<span class="_ _0"></span>地<span class="_ _0"></span>改<span class="_ _0"></span>变<span class="_ _0"></span>了结<span class="_ _0"></span>果<span class="_ _0"></span>的列</div><div class="t m0 x2a h1f y604 ff1d fsf fc5 sc0 ls1 ws1">表。列表推<span class="_ _0"></span>导中这种<span class="_ _0"></span>类型的构<span class="_ _0"></span>造可以继续<span class="_ _0"></span>拓展到<span class="_ _a"> </span><span class="ff1f">3<span class="_ _a"> </span></span>次、<span class="ff1f">4<span class="_ _e"> </span></span>次<span class="_ _0"></span>甚至更多<span class="_ _0"></span>次迭代，尽<span class="_ _0"></span>管增加到一<span class="_ _0"></span>定</div><div class="t m0 x2a h1f y605 ff1d fsf fc5 sc0 ls1 ws1">程度时代码的可读性会下降！</div><div class="t m0 x2a h23 y606 ff19 fsd fc5 sc0 ls1 ws1">12.3<span class="_ _15"> </span><span class="ff1a">条件控制迭代</span></div><div class="t m0 x1a h1f y607 ff1d fsf fc5 sc0 ls1 ws1">你可以<span class="_ _0"></span>通过在表<span class="_ _0"></span>达式尾部增<span class="_ _0"></span>加判断语<span class="_ _0"></span>句进一步地<span class="_ _0"></span>控制迭代<span class="_ _0"></span>的条件。在<span class="_ _0"></span>这一节的第<span class="_ _0"></span>一个例子</div><div class="t m0 x2a h1f y608 ff1d fsf fc5 sc0 ls1 ws1">中，我们<span class="_ _0"></span>从<span class="_ _e"> </span><span class="ff2d">1<span class="_ _a"> </span></span>到<span class="_ _a"> </span><span class="ff2d">20<span class="_ _a"> </span></span>迭代了所<span class="_ _0"></span>有整数，然后<span class="_ _0"></span>剔除了<span class="_ _a"> </span><span class="ff2d">3<span class="_ _a"> </span></span>的倍数。看<span class="_ _0"></span>下面这个例<span class="_ _0"></span>子，观察构<span class="_ _0"></span>造语句</div><div class="t m0 x2a h1f y609 ff1d fsf fc5 sc0 ls1 ws1">的不同：</div><div class="t m0 x36 h27 y60a ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[5]:<span class="_ _3"> </span><span class="fc5">[val<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span>val<span class="_ _2"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">20</span>)<span class="_ _3"> </span><span class="ff29 fc9">if<span class="_ _3"> </span></span>val<span class="_ _3"> </span><span class="fcb">%<span class="_ _3"> </span>3<span class="_ _3"> </span>&gt;<span class="_ _3"> </span>0</span>]</span></div><div class="t m0 x36 h27 y60b ff22 fsf fc14 sc0 ls1 ws1">Out[5]:<span class="_ _3"> </span><span class="fc5">[1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>4,<span class="_ _3"> </span>5,<span class="_ _2"> </span>7,<span class="_ _3"> </span>8,<span class="_ _3"> </span>10,<span class="_ _3"> </span>11,<span class="_ _3"> </span>13,<span class="_ _3"> </span>14,<span class="_ _3"> </span>16,<span class="_ _3"> </span>17,<span class="_ _3"> </span>19]</span></div><div class="t m0 x1a h1f y60c ff1d fsf fc5 sc0 ls1 ws1">表<span class="_ _0"></span>达式<span class="_ _a"> </span><span class="ff22">(var<span class="_ _3"> </span>%<span class="_ _3"> </span>3<span class="_ _3"> </span>&gt;<span class="_ _3"> </span>0)<span class="_ _a"> </span></span>为<span class="_ _a"> </span><span class="ff22">True<span class="_ _10"> </span></span>仅当<span class="_ _10"> </span><span class="ff22">val<span class="_ _a"> </span></span>不<span class="_ _0"></span>能被<span class="_ _10"> </span><span class="ff2d">3<span class="_ _a"> </span></span>整<span class="_ _0"></span>除时。<span class="_ _0"></span>我们<span class="_ _0"></span>再一<span class="_ _0"></span>次看<span class="_ _0"></span>见，<span class="_ _0"></span>上一<span class="_ _0"></span>行代</div><div class="t m0 x2a h1f y60d ff1d fsf fc5 sc0 ls1 ws1">码的意义可<span class="_ _0"></span>以立即用英语读出<span class="_ _0"></span>来：<span class="_ _39"></span>“构造<span class="_ _0"></span>一个列表，包含每一个小<span class="_ _0"></span>于<span class="_ _e"> </span><span class="ff2d">20<span class="_ _a"> </span></span>的整数，但是数值<span class="_ _0"></span>不能</div><div class="t m0 x2a h1f y60e ff1d fsf fc5 sc0 ls1 ws1">被<span class="_ _a"> </span><span class="ff2d">3<span class="_ _a"> </span></span>整除”<span class="_ _45"></span>。<span class="_ _0"></span>一旦<span class="_ _0"></span>你对这<span class="_ _0"></span>种写<span class="_ _0"></span>法感到<span class="_ _0"></span>习惯，<span class="_ _0"></span>那么书<span class="_ _0"></span>写这种<span class="_ _0"></span>代码<span class="_ _0"></span>就变得<span class="_ _0"></span>更加<span class="_ _0"></span>简单——<span class="_ _0"></span>并且一<span class="_ _0"></span>眼看</div><div class="t m0 x2a h1f y60f ff1d fsf fc5 sc0 ls1 ws1">上去比与之等价的循环语句更好理解：</div><div class="t m0 x36 h27 y610 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[6]:<span class="_ _3"> </span><span class="fc5">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[]</span></div><div class="t m0 x46 h27 y611 ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">val<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span></span><span class="ff22">range<span class="fc5">(<span class="fcb">20</span>):</span></span></div><div class="t m0 x76 h27 y612 ff29 fsf fc9 sc0 ls1 ws1">if<span class="_ _3"> </span><span class="ff22 fc5">val<span class="_ _3"> </span><span class="fcb">%<span class="_ _3"> </span>3</span>:</span></div><div class="t m0 x47 h27 y613 ff22 fsf fc5 sc0 ls1 ws1">L<span class="fcb">.</span>append(val)</div><div class="t m0 x46 h27 y614 ff22 fsf fc5 sc0 ls1 ws1">L</div><div class="t m0 x36 h27 y615 ff22 fsf fc14 sc0 ls1 ws1">Out[6]:<span class="_ _3"> </span><span class="fc5">[1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>4,<span class="_ _3"> </span>5,<span class="_ _2"> </span>7,<span class="_ _3"> </span>8,<span class="_ _3"> </span>10,<span class="_ _3"> </span>11,<span class="_ _3"> </span>13,<span class="_ _3"> </span>14,<span class="_ _3"> </span>16,<span class="_ _3"> </span>17,<span class="_ _3"> </span>19]</span></div><div class="t m0 x2a h23 y616 ff19 fsd fc5 sc0 ls1 ws1">12.4<span class="_ _15"> </span><span class="ff1a">条件控制值</span></div><div class="t m0 x1a h1f y617 ff1d fsf fc5 sc0 ls1 ws1">如果你曾写过<span class="_ _e"> </span><span class="ff1f">C<span class="_ _a"> </span></span>语言代码，你可能对使用<span class="ff1e">三元运算符</span>（<span class="ff1f">ternary<span class="_ _e"> </span>op<span class="_ _0"></span>erator</span>）<span class="_ _e"> </span><span class="ff22">?<span class="_ _44"> </span>:<span class="_ _e"> </span></span>在一行内</div><div class="t m0 x2a h1f y618 ff1d fsf fc5 sc0 ls1 ws1">进行条件判断感到熟悉：</div><div class="t m0 x36 h27 y155 ff22 fsf fc13 sc0 ls1 ws1">int<span class="_ _3"> </span><span class="fc5">absval<span class="_ _3"> </span>=<span class="_ _3"> </span>(val<span class="_ _3"> </span>&lt;<span class="_ _2"> </span><span class="fcc">0</span>)<span class="_ _3"> </span>?<span class="_ _3"> </span>-val<span class="_ _3"> </span>:<span class="_ _3"> </span>val</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf4e" class="pf w3 h1b" data-page-no="4e"><div class="pc pc4e w3 h1b"><img class="bi x2a y619 w4 h5e" alt="" src="bg4e.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">12.4.<span class="_ _2c"> </span><span class="ff1e">条件控制值<span class="_ _3a"> </span><span class="ff1f">69</span></span></div><div class="t m0 x1a h1f y7e ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _e"> </span><span class="ff1d">也有非常类似的语法，并且在列表推导、<span class="_ _5"></span><span class="ff1f">Lambda<span class="_ _a"> </span><span class="ff1d">函数和其他简单的表达式场景中</span></span></span></div><div class="t m0 x2a h1f yb3 ff1d fsf fc5 sc0 ls1 ws1">也十分常用：</div><div class="t m0 x36 h27 y61a ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[7]:<span class="_ _3"> </span><span class="fc5">val<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>-10</span></span></div><div class="t m0 x46 h27 y61b ff22 fsf fc5 sc0 ls1 ws1">val<span class="_ _3"> </span><span class="ff29 fc9">if<span class="_ _3"> </span></span>val<span class="_ _3"> </span><span class="fcb">&gt;=<span class="_ _3"> </span>0<span class="_ _2"> </span><span class="ff29 fc9">else<span class="_ _3"> </span></span>-</span>val</div><div class="t m0 x36 h27 y61c ff22 fsf fc14 sc0 ls1 ws1">Out[7]:<span class="_ _3"> </span><span class="fc5">10</span></div><div class="t m0 x1a h1f y61d ff1d fsf fc5 sc0 ls1 ws1">我们可以看到，上述代码实<span class="_ _0"></span>现了内置的取绝对值<span class="_ _e"> </span><span class="ff22">abs()<span class="_ _a"> </span></span>函数，但是这种构造方式能够<span class="_ _0"></span>使你</div><div class="t m0 x2a h1f y61e ff1d fsf fc5 sc0 ls1 ws1">在列表推<span class="_ _0"></span>导中做更<span class="_ _0"></span>多有趣的事<span class="_ _0"></span>情。目前我<span class="_ _0"></span>们的代码变<span class="_ _0"></span>得越来越<span class="_ _0"></span>复杂，但是<span class="_ _0"></span>你可以做类<span class="_ _0"></span>似下面这</div><div class="t m0 x2a h1f y61f ff1d fsf fc5 sc0 ls1 ws1">段代码的事情：</div><div class="t m0 x36 h27 y620 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[8]:<span class="_ _3"> </span><span class="fc5">[val<span class="_ _3"> </span><span class="ff29 fc9">if<span class="_ _3"> </span></span>val<span class="_ _2"> </span><span class="fcb">%<span class="_ _3"> </span>2<span class="_ _3"> </span><span class="ff29 fc9">else<span class="_ _3"> </span></span>-</span>val</span></div><div class="t m0 x51 h27 y621 ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">val<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span></span><span class="ff22">range<span class="fc5">(<span class="fcb">20</span>)<span class="_ _3"> </span></span></span>if<span class="_ _2"> </span><span class="ff22 fc5">val<span class="_ _3"> </span><span class="fcb">%<span class="_ _3"> </span>3</span>]</span></div><div class="t m0 x36 h27 y622 ff22 fsf fc14 sc0 ls1 ws1">Out[8]:<span class="_ _3"> </span><span class="fc5">[1,<span class="_ _3"> </span>-2,<span class="_ _3"> </span>-4,<span class="_ _3"> </span>5,<span class="_ _2"> </span>7,<span class="_ _3"> </span>-8,<span class="_ _3"> </span>-10,<span class="_ _3"> </span>11,<span class="_ _3"> </span>13,<span class="_ _3"> </span>-14,<span class="_ _3"> </span>-16,<span class="_ _3"> </span>17,<span class="_ _3"> </span>19]</span></div><div class="t m0 x1a h1f y623 ff1d fsf fc5 sc0 ls1 ws1">注意到上<span class="_ _0"></span>述列表推导表<span class="_ _0"></span>达式中在<span class="_ _a"> </span><span class="ff22">for<span class="_ _e"> </span></span>循<span class="_ _0"></span>环表达式之前<span class="_ _0"></span>有一个换行：这<span class="_ _0"></span>在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中是合法</div><div class="t m0 x2a h1f y624 ff1d fsf fc5 sc0 ls1 ws1">的。并且<span class="_ _0"></span>为了更好<span class="_ _0"></span>的可读性，<span class="_ _0"></span>经常用来截<span class="_ _0"></span>断过长的列<span class="_ _0"></span>表推导表<span class="_ _0"></span>达式。让我们<span class="_ _0"></span>重新看一<span class="_ _0"></span>下上述代</div><div class="t m0 x2a h1f y625 ff1d fsf fc5 sc0 ls1 ws1">码：我们在构造一个表达式，去除所有<span class="_ _e"> </span><span class="ff2d">3<span class="_ _a"> </span></span>的倍数，并且把所有<span class="_ _e"> </span><span class="ff2d">2<span class="_ _a"> </span></span>的倍数取负。</div><div class="t m0 x1a h1f y626 ff1d fsf fc5 sc0 ls1 ws1">一旦你<span class="_ _0"></span>理解了列表<span class="_ _0"></span>推导的动<span class="_ _0"></span>态性，那么<span class="_ _0"></span>理解其他<span class="_ _0"></span>类型的推<span class="_ _0"></span>导就变得<span class="_ _0"></span>易如反掌：语<span class="_ _0"></span>法几乎是</div><div class="t m0 x2a h1f y627 ff1d fsf fc5 sc0 ls1 ws1">一致的，仅仅在于括号的使用方法不同。</div><div class="t m0 x1a h1f y628 ff1d fsf fc5 sc0 ls1 ws1">举例来说，使用大括号你就可以使用<span class="ff1e">集合推导</span>（<span class="ff1f">set<span class="_ _e"> </span>comprehension</span>）生成一个<span class="_ _a"> </span><span class="ff22">set<span class="_ _e"> </span></span>对象：</div><div class="t m0 x36 h27 y629 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[9]:<span class="_ _3"> </span><span class="fc5">{n<span class="fcb">**2<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span></span>n<span class="_ _2"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">12</span>)}</span></div><div class="t m0 x36 h27 y62a ff22 fsf fc14 sc0 ls1 ws1">Out[9]:<span class="_ _3"> </span><span class="fc5">{0,<span class="_ _3"> </span>1,<span class="_ _3"> </span>4,<span class="_ _3"> </span>9,<span class="_ _2"> </span>16,<span class="_ _3"> </span>25,<span class="_ _3"> </span>36,<span class="_ _3"> </span>49,<span class="_ _3"> </span>64,<span class="_ _3"> </span>81,<span class="_ _3"> </span>100,<span class="_ _3"> </span>121}</span></div><div class="t m0 x1a h1f y62b ff1d fsf fc5 sc0 ls1 ws1">回忆<span class="_ _0"></span>一下，<span class="ff22">set<span class="_ _a"> </span></span>是一<span class="_ _0"></span>个不含<span class="_ _0"></span>重复项<span class="_ _0"></span>的集合。因<span class="_ _0"></span>此集合推<span class="_ _0"></span>导也遵<span class="_ _0"></span>守了这<span class="_ _0"></span>个规则，<span class="_ _0"></span>消除了<span class="_ _0"></span>所有</div><div class="t m0 x2a h1f y62c ff1d fsf fc5 sc0 ls1 ws1">重复的项：</div><div class="t m0 x36 h27 y62d ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[10]:<span class="_ _3"> </span><span class="fc5">{a<span class="_ _3"> </span><span class="fcb">%<span class="_ _3"> </span>3<span class="_ _2"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span></span>a<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">1000</span>)}</span></div><div class="t m0 x36 h27 y62e ff22 fsf fc14 sc0 ls1 ws1">Out[10]:<span class="_ _3"> </span><span class="fc5">{0,<span class="_ _3"> </span>1,<span class="_ _3"> </span>2}</span></div><div class="t m0 x1a h1f y62f ff1d fsf fc5 sc0 ls1 ws1">只要稍微调整一下语法，加一个冒号（<span class="ff22">:</span>）就可以使用<span class="ff1e">字典推导</span>（<span class="ff1f">dict<span class="_ _e"> </span>comprehension</span>）<span class="_ _c"></span>：</div><div class="t m0 x36 h27 y630 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[11]:<span class="_ _3"> </span><span class="fc5">{n:n<span class="fcb">**2<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span></span>n<span class="_ _2"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">6</span>)}</span></div><div class="t m0 x36 h27 y631 ff22 fsf fc14 sc0 ls1 ws1">Out[11]:<span class="_ _3"> </span><span class="fc5">{0:<span class="_ _3"> </span>0,<span class="_ _3"> </span>1:<span class="_ _3"> </span>1,<span class="_ _2"> </span>2:<span class="_ _3"> </span>4,<span class="_ _3"> </span>3:<span class="_ _3"> </span>9,<span class="_ _3"> </span>4:<span class="_ _3"> </span>16,<span class="_ _3"> </span>5:<span class="_ _3"> </span>25}</span></div><div class="t m0 x1a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">最后，<span class="_ _1"></span>如果你使用小括号而不是方括号，<span class="_ _34"></span>你就得到了<span class="ff1e">生成器表达式<span class="_ _5"></span><span class="ff1d">（<span class="ff1f">generator<span class="_ _38"> </span>expression</span>）<span class="_ _c"></span>：</span></span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf4f" class="pf w3 h1b" data-page-no="4f"><div class="pc pc4f w3 h1b"><img class="bi x2a y632 w4 h5f" alt="" src="bg4f.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">70<span class="_ _85"> </span><span class="ff24">12.<span class="_ _2c"> </span><span class="ff1e">列表推导</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[12]:<span class="_ _3"> </span><span class="fc5">(n<span class="fcb">**2<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span></span>n<span class="_ _2"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">12</span>))</span></div><div class="t m0 x36 h27 y138 ff22 fsf fc14 sc0 ls1 ws1">Out[12]:<span class="_ _3"> </span><span class="fc5">&lt;generator<span class="_ _3"> </span>object<span class="_ _3"> </span>&lt;genexpr&gt;<span class="_ _3"> </span>at<span class="_ _2"> </span>0x10e53f150&gt;</span></div><div class="t m0 x1a h1f y272 ff1d fsf fc5 sc0 ls1 ws1">生成器<span class="_ _0"></span>表达式基<span class="_ _0"></span>本上和列表<span class="_ _0"></span>推导没有<span class="_ _0"></span>什么不同，<span class="_ _0"></span>区别仅仅<span class="_ _0"></span>在于生成器<span class="_ _0"></span>表达式是<span class="_ _0"></span><span class="ff1a">按需生成</span>对</div><div class="t m0 x2a h1f y258 ff1d fsf fc5 sc0 ls1 ws1">象，而列表<span class="_ _0"></span>推导是<span class="ff1a">一<span class="_ _0"></span>次产生全<span class="_ _0"></span>部</span>对象。这里<span class="_ _0"></span>语言上的简<span class="_ _0"></span>单性掩盖<span class="_ _0"></span>了这种语<span class="_ _0"></span>言功能的<span class="_ _0"></span>强大，我们</div><div class="t m0 x2a h1f y1cc ff1d fsf fc5 sc0 ls1 ws1">将在下面探讨这一点。</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf50" class="pf w3 h1b" data-page-no="50"><div class="pc pc50 w3 h1b"><img class="bi x2a y633 w4 h60" alt="" src="bg50.png"/><div class="t m0 x26 h1c y634 ff1a fsc fc5 sc0 ls1 ws1">第<span class="_ _7"> </span><span class="ff19">13<span class="_ _7"> </span></span>章<span class="_ _33"> </span>生成器</div><div class="t m0 x1a h1f y635 ff1d fsf fc5 sc0 ls1 ws1">本<span class="_ _4a"></span>章<span class="_ _4a"></span>中<span class="_ _4a"></span>我<span class="_ _55"></span>们<span class="_ _4a"></span>将<span class="_ _4a"></span>深<span class="_ _4a"></span>入<span class="_ _4a"></span>了<span class="_ _55"> </span>解<span class="_ _8"> </span><span class="ff1f">Python<span class="_ _2"> </span><span class="ff1e">生<span class="_ _4a"></span>成<span class="_ _4a"></span>器<span class="_ _55"> </span></span></span>（<span class="ff1f">generator</span>）<span class="_ _5"></span>，<span class="_ _4a"></span>包<span class="_ _4a"></span>括<span class="ff1e">生<span class="_ _4a"></span>成<span class="_ _4a"></span>器<span class="_ _55"> </span>表<span class="_ _4a"></span>达<span class="_ _4a"></span>式<span class="_ _4a"></span></span>（<span class="ff1f">generator</span></div><div class="t m0 x2a h1f y636 ff1f fsf fc5 sc0 ls1 ws1">expression<span class="ff1d">）和<span class="ff1e">生成器函数</span>（</span>generator<span class="_ _e"> </span>function<span class="ff1d">）<span class="_ _c"></span>。</span></div><div class="t m0 x2a h23 y637 ff19 fsd fc5 sc0 ls1 ws1">13.1<span class="_ _15"> </span><span class="ff1a">生成器表达式</span></div><div class="t m0 x1a h1f y638 ff1d fsf fc5 sc0 ls1 ws1">列表推<span class="_ _0"></span>导和生成器<span class="_ _0"></span>表达式的<span class="_ _0"></span>区别有的时<span class="_ _0"></span>候令人十<span class="_ _0"></span>分困惑。这<span class="_ _0"></span>里我们快速<span class="_ _0"></span>领略一下<span class="_ _0"></span>它们的区</div><div class="t m0 x2a h1f y639 ff1d fsf fc5 sc0 ls1 ws1">别：</div><div class="t m0 x2a h25 y63a ff19 fse fc5 sc0 ls1 ws1">13.1.1<span class="_ _3c"> </span><span class="ff1a">列表推导使用方括号，而生成器表达式使用圆括号</span></div><div class="t m0 x1a h1f y63b ff1d fsf fc5 sc0 ls1 ws1">这是一个典型的列表推导：</div><div class="t m0 x36 h27 y63c ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[1]:<span class="_ _3"> </span><span class="fc5">[n<span class="_ _3"> </span><span class="fcb">**<span class="_ _3"> </span>2<span class="_ _2"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span></span>n<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">12</span>)]</span></div><div class="t m0 x36 h27 y63d ff22 fsf fc14 sc0 ls1 ws1">Out[1]:<span class="_ _3"> </span><span class="fc5">[0,<span class="_ _3"> </span>1,<span class="_ _3"> </span>4,<span class="_ _3"> </span>9,<span class="_ _2"> </span>16,<span class="_ _3"> </span>25,<span class="_ _3"> </span>36,<span class="_ _3"> </span>49,<span class="_ _3"> </span>64,<span class="_ _3"> </span>81,<span class="_ _3"> </span>100,<span class="_ _3"> </span>121]</span></div><div class="t m0 x1a h1f y63e ff1d fsf fc5 sc0 ls1 ws1">而这是一个典型的生成器表达式：</div><div class="t m0 x36 h27 y63f ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[2]:<span class="_ _3"> </span><span class="fc5">(n<span class="_ _3"> </span><span class="fcb">**<span class="_ _3"> </span>2<span class="_ _2"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span></span>n<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">12</span>))</span></div><div class="t m0 x36 h27 y640 ff22 fsf fc14 sc0 ls1 ws1">Out[2]:<span class="_ _3"> </span><span class="fc5">&lt;generator<span class="_ _3"> </span>object<span class="_ _3"> </span>&lt;genexpr&gt;<span class="_ _3"> </span>at<span class="_ _2"> </span>0x10fe0dfc0&gt;</span></div><div class="t m0 x1a h1f y641 ff1d fsf fc5 sc0 ls1 ws1">注意：直<span class="_ _0"></span>接打印生成<span class="_ _0"></span>器表达式<span class="_ _0"></span>并不会打<span class="_ _0"></span>印出内容。<span class="_ _0"></span>要打印出生<span class="_ _0"></span>成器表达<span class="_ _0"></span>式生成的<span class="_ _0"></span>全部内容</div><div class="t m0 x2a h1f y642 ff1d fsf fc5 sc0 ls1 ws1">的一个方法是通过向<span class="_ _e"> </span><span class="ff22">list<span class="_ _a"> </span></span>构造器传递参数：</div><div class="t m0 x36 h27 y643 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[3]:<span class="_ _3"> </span><span class="fc5">G<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>(n<span class="_ _2"> </span><span class="fcb">**<span class="_ _3"> </span>2<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span></span>n<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">12</span>))</span></div><div class="t m0 x46 h27 y644 ff22 fsf fc9 sc0 ls1 ws1">list<span class="fc5">(G)</span></div><div class="t m0 x36 h27 y645 ff22 fsf fc14 sc0 ls1 ws1">Out[3]:<span class="_ _3"> </span><span class="fc5">[0,<span class="_ _3"> </span>1,<span class="_ _3"> </span>4,<span class="_ _3"> </span>9,<span class="_ _2"> </span>16,<span class="_ _3"> </span>25,<span class="_ _3"> </span>36,<span class="_ _3"> </span>49,<span class="_ _3"> </span>64,<span class="_ _3"> </span>81,<span class="_ _3"> </span>100,<span class="_ _3"> </span>121]</span></div><div class="t m0 x2a h25 y646 ff19 fse fc5 sc0 ls1 ws1">13.1.2<span class="_ _3c"> </span><span class="ff1a">列表是值的集合，而生成器是生成值的方法</span></div><div class="t m0 x1a h1f yd5 ff1d fsf fc5 sc0 ls1 ws1">当你创<span class="_ _0"></span>建一个列表<span class="_ _0"></span>的时候，你<span class="_ _0"></span><span class="ff1a">实际上</span>在<span class="_ _0"></span>产生一个数<span class="_ _0"></span>值的集合，<span class="_ _0"></span>并且需要<span class="_ _0"></span>花费一定<span class="_ _0"></span>的内存开</div><div class="t m0 x2a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">销。当你<span class="_ _0"></span>创建一个<span class="_ _0"></span>生成器的时<span class="_ _0"></span>候，你并没<span class="_ _0"></span>有创建一个<span class="_ _0"></span>数值的集<span class="_ _0"></span>合，而是建<span class="_ _0"></span>立了一个产<span class="_ _0"></span>生这些数</div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">值的<span class="ff1a">方法</span>。这两者都具有相同的迭代器接口，正如我们在这里看到的：</div><div class="t m0 x4f h22 y5c ff1f fsf fc5 sc0 ls1 ws1">71</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf51" class="pf w3 h1b" data-page-no="51"><div class="pc pc51 w3 h1b"><img class="bi x2a y647 w4 h61" alt="" src="bg51.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">72<span class="_ _82"> </span><span class="ff24">13.<span class="_ _2c"> </span><span class="ff1e">生成器</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[4]:<span class="_ _3"> </span><span class="fc5">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[n<span class="_ _2"> </span><span class="fcb">**<span class="_ _3"> </span>2<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span></span>n<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">12</span>)]</span></div><div class="t m0 x46 h27 y137 ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">val<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span><span class="ff22 fc5">L:</span></span></div><div class="t m0 x76 h27 y138 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(val,<span class="_ _3"> </span>end<span class="fcb">=<span class="ff2a fc11">&apos;<span class="_ _3"> </span>&apos;</span></span>)</span></div><div class="t m0 x36 h27 y139 ff22 fsf fc5 sc0 ls1 ws1">0<span class="_ _3"> </span>1<span class="_ _3"> </span>4<span class="_ _3"> </span>9<span class="_ _3"> </span>16<span class="_ _2"> </span>25<span class="_ _3"> </span>36<span class="_ _3"> </span>49<span class="_ _3"> </span>64<span class="_ _3"> </span>81<span class="_ _3"> </span>100<span class="_ _3"> </span>121</div><div class="t m0 x36 h27 y648 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[5]:<span class="_ _3"> </span><span class="fc5">G<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>(n<span class="_ _2"> </span><span class="fcb">**<span class="_ _3"> </span>2<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span></span>n<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">12</span>))</span></div><div class="t m0 x46 h27 y649 ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">val<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span><span class="ff22 fc5">G:</span></span></div><div class="t m0 x76 h27 y64a ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(val,<span class="_ _3"> </span>end<span class="fcb">=<span class="ff2a fc11">&apos;<span class="_ _3"> </span>&apos;</span></span>)</span></div><div class="t m0 x36 h27 y64b ff22 fsf fc5 sc0 ls1 ws1">0<span class="_ _3"> </span>1<span class="_ _3"> </span>4<span class="_ _3"> </span>9<span class="_ _3"> </span>16<span class="_ _2"> </span>25<span class="_ _3"> </span>36<span class="_ _3"> </span>49<span class="_ _3"> </span>64<span class="_ _3"> </span>81<span class="_ _3"> </span>100<span class="_ _3"> </span>121</div><div class="t m0 x1a h1f y64c ff1d fsf fc5 sc0 ls1 ws1">区别是：生<span class="_ _0"></span>成器表达<span class="_ _0"></span>式并不会<span class="_ _0"></span>在数值被<span class="_ _0"></span>需要之前<span class="_ _0"></span>计算出它们。<span class="_ _0"></span>这并不仅<span class="_ _0"></span>仅可以提<span class="_ _0"></span>高内存效</div><div class="t m0 x2a h1f y64d ff1d fsf fc5 sc0 ls1 ws1">率，也能<span class="_ _0"></span>提高计算<span class="_ _0"></span>效率！这也<span class="_ _0"></span>意味着一<span class="_ _0"></span>个列表的大<span class="_ _0"></span>小受到可用<span class="_ _0"></span>内存的限<span class="_ _0"></span>制，而生成器<span class="_ _0"></span>表达式的</div><div class="t m0 x2a h1f y64e ff1d fsf fc5 sc0 ls1 ws1">大小是无限的！</div><div class="t m0 x1a h1f y64f ff1d fsf fc5 sc0 ls1 ws1">我们可以通过<span class="_ _e"> </span><span class="ff22">itertools<span class="_ _a"> </span></span>中定义的<span class="_ _e"> </span><span class="ff22">count<span class="_ _a"> </span></span>迭代器创建一个无限的产生器表达式的例子：</div><div class="t m0 x36 h27 y650 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[6]:<span class="_ _3"> </span><span class="ff29 fc9">from<span class="_ _3"> </span><span class="fca">itertools<span class="_ _3"> </span></span>import<span class="_ _2"> </span></span><span class="fc5">count</span></div><div class="t m0 x46 h27 y651 ff22 fsf fc5 sc0 ls1 ws1">count()</div><div class="t m0 x36 h27 y652 ff22 fsf fc14 sc0 ls1 ws1">Out[6]:<span class="_ _3"> </span><span class="fc5">count(0)</span></div><div class="t m0 x36 h27 y653 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[7]:<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span><span class="fc5">i<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _2"> </span></span>count():</span></div><div class="t m0 x76 h27 y654 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(i,<span class="_ _3"> </span>end<span class="fcb">=<span class="ff2a fc11">&apos;<span class="_ _3"> </span>&apos;</span></span>)</span></div><div class="t m0 x76 h27 y655 ff29 fsf fc9 sc0 ls1 ws1">if<span class="_ _3"> </span><span class="ff22 fc5">i<span class="_ _3"> </span><span class="fcb">&gt;=<span class="_ _3"> </span>10</span>:<span class="_ _3"> </span></span>break</div><div class="t m0 x36 h27 y656 ff22 fsf fc5 sc0 ls1 ws1">0<span class="_ _3"> </span>1<span class="_ _3"> </span>2<span class="_ _3"> </span>3<span class="_ _3"> </span>4<span class="_ _2"> </span>5<span class="_ _3"> </span>6<span class="_ _3"> </span>7<span class="_ _3"> </span>8<span class="_ _3"> </span>9<span class="_ _3"> </span>10</div><div class="t m0 x1a h1f y657 ff22 fsf fc5 sc0 ls1 ws1">count<span class="_ _10"> </span><span class="ff1d">迭<span class="_ _0"></span>代<span class="_ _0"></span>器<span class="_ _0"></span>会<span class="_ _0"></span>开<span class="_ _0"></span>心<span class="_ _0"></span>地<span class="_ _0"></span>计数<span class="_ _0"></span>直<span class="_ _0"></span>到<span class="_ _0"></span>进<span class="_ _0"></span>程<span class="_ _0"></span>被<span class="_ _0"></span>手<span class="_ _0"></span>动<span class="_ _0"></span>中<span class="_ _0"></span>断<span class="_ _0"></span>或<span class="_ _0"></span>结<span class="_ _0"></span>束，<span class="_ _0"></span>这<span class="_ _0"></span>使得<span class="_ _0"></span>创<span class="_ _0"></span>建<span class="_ _0"></span>一<span class="_ _0"></span>个<span class="_ _0"></span>永<span class="_ _0"></span>远<span class="_ _0"></span>不<span class="_ _0"></span>会<span class="_ _0"></span>停<span class="_ _0"></span>止</span></div><div class="t m0 x2a h1f y658 ff1d fsf fc5 sc0 ls1 ws1">的生成器非常方便：</div><div class="t m0 x36 h27 y659 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[8]:<span class="_ _3"> </span><span class="fc5">factors<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[<span class="fcb">2</span>,<span class="_ _2"> </span><span class="fcb">3</span>,<span class="_ _3"> </span><span class="fcb">5</span>,<span class="_ _3"> </span><span class="fcb">7</span>]</span></div><div class="t m0 x46 h27 y65a ff22 fsf fc5 sc0 ls1 ws1">G<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>(i<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span>i<span class="_ _2"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span>count()<span class="_ _3"> </span><span class="ff29 fc9">if<span class="_ _3"> </span><span class="ff22">all</span></span>(i<span class="_ _3"> </span><span class="fcb">%<span class="_ _3"> </span></span>n<span class="_ _3"> </span><span class="fcb">&gt;<span class="_ _3"> </span>0<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span></span>n<span class="_ _2"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span>factors))</div><div class="t m0 x46 h27 y65b ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">val<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span><span class="ff22 fc5">G:</span></span></div><div class="t m0 x76 h27 y65c ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(val,<span class="_ _3"> </span>end<span class="fcb">=<span class="ff2a fc11">&apos;<span class="_ _3"> </span>&apos;</span></span>)</span></div><div class="t m0 x76 h27 y65d ff29 fsf fc9 sc0 ls1 ws1">if<span class="_ _3"> </span><span class="ff22 fc5">val<span class="_ _3"> </span><span class="fcb">&gt;<span class="_ _3"> </span>40</span>:<span class="_ _3"> </span></span>break</div><div class="t m0 x36 h27 y65e ff22 fsf fc5 sc0 ls1 ws1">1<span class="_ _3"> </span>11<span class="_ _3"> </span>13<span class="_ _3"> </span>17<span class="_ _3"> </span>19<span class="_ _2"> </span>23<span class="_ _3"> </span>29<span class="_ _3"> </span>31<span class="_ _3"> </span>37<span class="_ _3"> </span>41</div><div class="t m0 x1a h1f yd5 ff1d fsf fc5 sc0 ls1 ws1">你可能<span class="_ _0"></span>看到我们<span class="_ _0"></span>在这里得<span class="_ _0"></span>到什么：如<span class="_ _0"></span>果我们把<span class="_ _0"></span>这个包含因<span class="_ _0"></span>子的列表合<span class="_ _0"></span>适地展开<span class="_ _0"></span>的话，我们</div><div class="t m0 x2a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">在开头会得到一个素数的产生器<span class="_ _4"></span>（通过爱拉托逊斯筛法）<span class="_ _39"></span>。<span class="_ _9"></span>我们马上就会开始继续研究产生素数</div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">这个话题。</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf52" class="pf w3 h1b" data-page-no="52"><div class="pc pc52 w3 h1b"><img class="bi x2a y566 w4 h62" alt="" src="bg52.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">13.1.<span class="_ _2c"> </span><span class="ff1e">生成器表达式<span class="_ _81"> </span><span class="ff1f">73</span></span></div><div class="t m0 x2a h25 y309 ff19 fse fc5 sc0 ls1 ws1">13.1.3<span class="_ _3c"> </span><span class="ff1a">列表可以被迭代多次，而生成器表达式是一次性的</span></div><div class="t m0 x1a h1f y30a ff1d fsf fc5 sc0 ls1 ws1">这是生成器表达式潜在的问题之一。我们可以直接对一个列表进行如下操作：</div><div class="t m0 x36 h27 y65f ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[9]:<span class="_ _3"> </span><span class="fc5">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[n<span class="_ _2"> </span><span class="fcb">**<span class="_ _3"> </span>2<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span></span>n<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">12</span>)]</span></div><div class="t m0 x46 h27 y660 ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">val<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span><span class="ff22 fc5">L:</span></span></div><div class="t m0 x76 h27 y661 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(val,<span class="_ _3"> </span>end<span class="fcb">=<span class="ff2a fc11">&apos;<span class="_ _3"> </span>&apos;</span></span>)</span></div><div class="t m0 x46 h27 y662 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">()</span></div><div class="t m0 x46 h27 y663 ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">val<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span><span class="ff22 fc5">L:</span></span></div><div class="t m0 x76 h27 y664 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(val,<span class="_ _3"> </span>end<span class="fcb">=<span class="ff2a fc11">&apos;<span class="_ _3"> </span>&apos;</span></span>)</span></div><div class="t m0 x36 h27 y665 ff22 fsf fc5 sc0 ls1 ws1">0<span class="_ _3"> </span>1<span class="_ _3"> </span>4<span class="_ _3"> </span>9<span class="_ _3"> </span>16<span class="_ _2"> </span>25<span class="_ _3"> </span>36<span class="_ _3"> </span>49<span class="_ _3"> </span>64<span class="_ _3"> </span>81<span class="_ _3"> </span>100<span class="_ _3"> </span>121</div><div class="t m0 x36 h27 y666 ff22 fsf fc5 sc0 ls1 ws1">0<span class="_ _3"> </span>1<span class="_ _3"> </span>4<span class="_ _3"> </span>9<span class="_ _3"> </span>16<span class="_ _2"> </span>25<span class="_ _3"> </span>36<span class="_ _3"> </span>49<span class="_ _3"> </span>64<span class="_ _3"> </span>81<span class="_ _3"> </span>100<span class="_ _3"> </span>121</div><div class="t m0 x1a h1f y667 ff1d fsf fc5 sc0 ls1 ws1">另一方面，生成器表达式在一次迭代后就被用尽：</div><div class="t m0 x36 h27 y668 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[10]:<span class="_ _3"> </span><span class="fc5">G<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>(n<span class="_ _2"> </span><span class="fcb">**<span class="_ _3"> </span>2<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span></span>n<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">12</span>))</span></div><div class="t m0 x51 h27 y669 ff22 fsf fc9 sc0 ls1 ws1">list<span class="fc5">(G)</span></div><div class="t m0 x36 h27 y66a ff22 fsf fc14 sc0 ls1 ws1">Out[10]:<span class="_ _3"> </span><span class="fc5">[0,<span class="_ _3"> </span>1,<span class="_ _3"> </span>4,<span class="_ _3"> </span>9,<span class="_ _2"> </span>16,<span class="_ _3"> </span>25,<span class="_ _3"> </span>36,<span class="_ _3"> </span>49,<span class="_ _3"> </span>64,<span class="_ _3"> </span>81,<span class="_ _3"> </span>100,<span class="_ _3"> </span>121]</span></div><div class="t m0 x36 h27 y66b ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[11]:<span class="_ _3"> </span><span class="fc9">list<span class="fc5">(G)</span></span></div><div class="t m0 x36 h27 y66c ff22 fsf fc14 sc0 ls1 ws1">Out[11]:<span class="_ _3"> </span><span class="fc5">[]</span></div><div class="t m0 x1a h1f y66d ff1d fsf fc5 sc0 ls1 ws1">这个特性可以变得非常实用，因为这意味着迭代可以被停止和继续：</div><div class="t m0 x36 h27 y66e ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[12]:<span class="_ _3"> </span><span class="fc5">G<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>(n<span class="fcb">**2<span class="_ _2"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span></span>n<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">12</span>))</span></div><div class="t m0 x51 h27 y66f ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">n<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span><span class="ff22 fc5">G:</span></span></div><div class="t m0 x25 h27 y670 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(n,<span class="_ _3"> </span>end<span class="fcb">=<span class="ff2a fc11">&apos;<span class="_ _3"> </span>&apos;</span></span>)</span></div><div class="t m0 x25 h27 y671 ff29 fsf fc9 sc0 ls1 ws1">if<span class="_ _3"> </span><span class="ff22 fc5">n<span class="_ _3"> </span><span class="fcb">&gt;<span class="_ _3"> </span>30</span>:<span class="_ _3"> </span></span>break</div><div class="t m0 x51 h27 y672 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fc11">&quot;<span class="ff29 fc17">\n</span>doing<span class="_ _3"> </span>something<span class="_ _3"> </span>in<span class="_ _3"> </span>between&quot;</span>)</span></div><div class="t m0 x51 h27 y673 ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">n<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span><span class="ff22 fc5">G:</span></span></div><div class="t m0 x25 h27 y674 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(n,<span class="_ _3"> </span>end<span class="fcb">=<span class="ff2a fc11">&apos;<span class="_ _3"> </span>&apos;</span></span>)</span></div><div class="t m0 x36 h27 y675 ff22 fsf fc5 sc0 ls1 ws1">0<span class="_ _3"> </span>1<span class="_ _3"> </span>4<span class="_ _3"> </span>9<span class="_ _3"> </span>16<span class="_ _2"> </span>25<span class="_ _3"> </span>36</div><div class="t m0 x36 h27 y676 ff22 fsf fc5 sc0 ls1 ws1">doing<span class="_ _3"> </span>something<span class="_ _3"> </span>in<span class="_ _3"> </span>between</div><div class="t m0 x36 h27 y677 ff22 fsf fc5 sc0 ls1 ws1">49<span class="_ _3"> </span>64<span class="_ _3"> </span>81<span class="_ _3"> </span>100<span class="_ _3"> </span>121</div><div class="t m0 x1a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">一个我<span class="_ _0"></span>发现这个<span class="_ _0"></span>特性非常实<span class="_ _0"></span>用的场合<span class="_ _0"></span>是在对磁盘<span class="_ _0"></span>上的数据<span class="_ _0"></span>文件集合<span class="_ _0"></span>进行处理时，<span class="_ _0"></span>这个特性</div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">意味着你可以非常轻松地批量处理数据，让生成器负责跟踪那些你尚未处理的块。</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf53" class="pf w3 h1b" data-page-no="53"><div class="pc pc53 w3 h1b"><img class="bi x2a y118 w4 h63" alt="" src="bg53.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">74<span class="_ _82"> </span><span class="ff24">13.<span class="_ _2c"> </span><span class="ff1e">生成器</span></span></div><div class="t m0 x2a h23 yf7 ff19 fsd fc5 sc0 ls1 ws1">13.2<span class="_ _15"> </span><span class="ff1a">生成器函数：使用关键字<span class="_ _3"> </span><span class="ff29">yield</span></span></div><div class="t m0 x1a h1f yf8 ff1d fsf fc5 sc0 ls1 ws1">在之前的章节中<span class="_ _0"></span>我们看到了列表推导是创建相<span class="_ _0"></span>对简单的列表的最佳途径，而常<span class="_ _0"></span>规的<span class="_ _e"> </span><span class="ff22">for<span class="_ _a"> </span></span>循</div><div class="t m0 x2a h1f yf9 ff1d fsf fc5 sc0 ls1 ws1">环在更<span class="_ _0"></span>加复杂的<span class="_ _0"></span>情况下更<span class="_ _0"></span>为合适。对于生<span class="_ _0"></span>成器表达<span class="_ _0"></span>式来说这<span class="_ _0"></span>也是成立的：<span class="_ _0"></span>我们可以<span class="_ _0"></span>通过生成器</div><div class="t m0 x2a h1f yfa ff1d fsf fc5 sc0 ls1 ws1">函数<span class="_ _e"> </span>使用<span class="_ _a"> </span><span class="ff22">yield<span class="_ _e"> </span></span>语句来创建更加复杂的生成器。</div><div class="t m0 x1a h1f yfb ff1d fsf fc5 sc0 ls1 ws1">在这里我们有两种方式构造同一个列表：</div><div class="t m0 x36 h27 y678 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[13]:<span class="_ _3"> </span><span class="fc5">L1<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[n<span class="_ _2"> </span><span class="fcb">**<span class="_ _3"> </span>2<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span></span>n<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">12</span>)]</span></div><div class="t m0 x51 h27 y679 ff22 fsf fc5 sc0 ls1 ws1">L2<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[]</div><div class="t m0 x51 h27 y67a ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">n<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span></span><span class="ff22">range<span class="fc5">(<span class="fcb">12</span>):</span></span></div><div class="t m0 x25 h27 y67b ff22 fsf fc5 sc0 ls1 ws1">L2<span class="fcb">.</span>append(n<span class="_ _3"> </span><span class="fcb">**<span class="_ _3"> </span>2</span>)</div><div class="t m0 x51 h27 y67c ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(L1)</span></div><div class="t m0 x51 h27 y67d ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(L2)</span></div><div class="t m0 x36 h27 y67e ff22 fsf fc5 sc0 ls1 ws1">[0,<span class="_ _3"> </span>1,<span class="_ _3"> </span>4,<span class="_ _3"> </span>9,<span class="_ _3"> </span>16,<span class="_ _2"> </span>25,<span class="_ _3"> </span>36,<span class="_ _3"> </span>49,<span class="_ _3"> </span>64,<span class="_ _3"> </span>81,<span class="_ _3"> </span>100,<span class="_ _3"> </span>121]</div><div class="t m0 x36 h27 y67f ff22 fsf fc5 sc0 ls1 ws1">[0,<span class="_ _3"> </span>1,<span class="_ _3"> </span>4,<span class="_ _3"> </span>9,<span class="_ _3"> </span>16,<span class="_ _2"> </span>25,<span class="_ _3"> </span>36,<span class="_ _3"> </span>49,<span class="_ _3"> </span>64,<span class="_ _3"> </span>81,<span class="_ _3"> </span>100,<span class="_ _3"> </span>121]</div><div class="t m0 x1a h1f y680 ff1d fsf fc5 sc0 ls1 ws1">类似地，我们有两种方法构造等价的生成器：</div><div class="t m0 x36 h27 y681 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[14]:<span class="_ _3"> </span><span class="fc5">G1<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>(n<span class="_ _2"> </span><span class="fcb">**<span class="_ _3"> </span>2<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span></span>n<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">12</span>))</span></div><div class="t m0 x51 h27 y682 ff29 fsf fc9 sc0 ls1 ws1">def<span class="_ _3"> </span><span class="ff22 fca">gen<span class="fc5">():</span></span></div><div class="t m0 x25 h27 y683 ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">n<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span></span><span class="ff22">range<span class="fc5">(<span class="fcb">12</span>):</span></span></div><div class="t m0 x59 h27 y684 ff29 fsf fc9 sc0 ls1 ws1">yield<span class="_ _3"> </span><span class="ff22 fc5">n<span class="_ _3"> </span><span class="fcb">**<span class="_ _3"> </span>2</span></span></div><div class="t m0 x51 h27 y685 ff22 fsf fc5 sc0 ls1 ws1">G2<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>gen()</div><div class="t m0 x51 h27 y686 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fcb">*</span>G1)</span></div><div class="t m0 x51 h27 y687 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fcb">*</span>G2)</span></div><div class="t m0 x36 h27 y688 ff22 fsf fc5 sc0 ls1 ws1">0<span class="_ _3"> </span>1<span class="_ _3"> </span>4<span class="_ _3"> </span>9<span class="_ _3"> </span>16<span class="_ _2"> </span>25<span class="_ _3"> </span>36<span class="_ _3"> </span>49<span class="_ _3"> </span>64<span class="_ _3"> </span>81<span class="_ _3"> </span>100<span class="_ _3"> </span>121</div><div class="t m0 x36 h27 y689 ff22 fsf fc5 sc0 ls1 ws1">0<span class="_ _3"> </span>1<span class="_ _3"> </span>4<span class="_ _3"> </span>9<span class="_ _3"> </span>16<span class="_ _2"> </span>25<span class="_ _3"> </span>36<span class="_ _3"> </span>49<span class="_ _3"> </span>64<span class="_ _3"> </span>81<span class="_ _3"> </span>100<span class="_ _3"> </span>121</div><div class="t m0 x1a h1f y68a ff1d fsf fc5 sc0 ls1 ws1">一个生成器函数是这样的一个函数：它不使<span class="_ _0"></span>用<span class="_ _e"> </span><span class="ff22">return<span class="_ _a"> </span></span>返回一个值（仅返回一次）<span class="_ _39"></span>，而是使</div><div class="t m0 x2a h1f y68b ff1d fsf fc5 sc0 ls1 ws1">用<span class="_ _a"> </span><span class="ff22">yield<span class="_ _e"> </span></span>来产生一个包含（可能是<span class="_ _0"></span>无穷多的）数值的序列。和生成器表达式中一样，在部<span class="_ _0"></span>分迭</div><div class="t m0 x2a h1f y68c ff1d fsf fc5 sc0 ls1 ws1">代</div><div class="t m0 x7d h26 y68d ff26 fs10 fc6 sc0 ls1 ws1">1</div><div class="t m0 x17 h1f y68c ff1d fsf fc5 sc0 ls1 ws1">的间隔中生成器的状态得到保留。<span class="_ _4"></span>但是如果我们需要生成器的一个全新的副本，<span class="_ _4"></span>我们只需要</div><div class="t m0 x2a h1f y68e ff1d fsf fc5 sc0 ls1 ws1">简单地重新调用那个函数即可。</div><div class="t m0 x2a h23 y68f ff19 fsd fc5 sc0 ls1 ws1">13.3<span class="_ _15"> </span><span class="ff1a">案例学习：素数生成器</span></div><div class="t m0 x1a h1f y690 ff1d fsf fc5 sc0 ls1 ws1">这里我<span class="_ _0"></span>将展示我<span class="_ _0"></span>最喜欢的<span class="_ _0"></span>一个生成器<span class="_ _0"></span>函数的例<span class="_ _0"></span>子：一个函数<span class="_ _0"></span>来产生无<span class="_ _0"></span>限的素数<span class="_ _0"></span>序列。解决</div><div class="t m0 x2a h1f y691 ff1d fsf fc5 sc0 ls1 ws1">这个问题的一个经典算法是爱拉托逊斯筛法，它的工作过程类似下面的代码：</div><div class="t m0 x37 h28 y135 ff27 fs11 fc5 sc0 ls1 ws1">1</div><div class="t m0 x2f h29 y7c ff1d fs12 fc5 sc0 ls1 ws1">译者注：两次迭代的中间，此时生成器并没有被从头到尾执行完，故称部分迭代。</div><a class="l" href="#pf53" data-dest-detail='[83,"XYZ",88.59,85.15,null]'><div class="d m7" style="border-style:none;position:absolute;left:82.909000px;bottom:191.176000px;width:4.234000px;height:5.136000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf54" class="pf w3 h1b" data-page-no="54"><div class="pc pc54 w3 h1b"><img class="bi x2a y692 w4 h64" alt="" src="bg54.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">13.3.<span class="_ _2c"> </span><span class="ff1e">案例学习：素数生成器<span class="_ _79"> </span><span class="ff1f">75</span></span></div><div class="t m0 x36 h21 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[15]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">生成一个包含候选数值的列表</span></span></div><div class="t m0 x51 h27 y137 ff22 fsf fc5 sc0 ls1 ws1">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[n<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span>n<span class="_ _2"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">40</span>)]</div><div class="t m0 x51 h27 y138 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(L)</span></div><div class="t m0 x36 h27 y139 ff22 fsf fc5 sc0 ls1 ws1">[2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>4,<span class="_ _3"> </span>5,<span class="_ _3"> </span>6,<span class="_ _2"> </span>7,<span class="_ _3"> </span>8,<span class="_ _3"> </span>9,<span class="_ _3"> </span>10,<span class="_ _3"> </span>11,<span class="_ _3"> </span>12,<span class="_ _3"> </span>13,<span class="_ _3"> </span>14,<span class="_ _3"> </span>15,<span class="_ _3"> </span>16,<span class="_ _2"> </span>17,<span class="_ _3"> </span>18,<span class="_ _3"> </span>19,<span class="_ _3"> </span>20,<span class="_ _3"> </span>21,<span class="_ _3"> </span>22,</div><div class="t m0 x36 h27 y13a ff22 fsf fc5 sc0 ls1 ws1">23,<span class="_ _3"> </span>24,<span class="_ _3"> </span>25,<span class="_ _3"> </span>26,<span class="_ _3"> </span>27,<span class="_ _2"> </span>28,<span class="_ _3"> </span>29,<span class="_ _3"> </span>30,<span class="_ _3"> </span>31,<span class="_ _3"> </span>32,<span class="_ _3"> </span>33,<span class="_ _3"> </span>34,<span class="_ _3"> </span>35,<span class="_ _3"> </span>36,<span class="_ _3"> </span>37,<span class="_ _2"> </span>38,<span class="_ _3"> </span>39]</div><div class="t m0 x36 h21 y13c ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[16]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">对于候选数值序列的第一个值，移除它的倍数</span></span></div><div class="t m0 x51 h27 y13d ff22 fsf fc5 sc0 ls1 ws1">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[n<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span>n<span class="_ _2"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span>L<span class="_ _3"> </span><span class="ff29 fc9">if<span class="_ _3"> </span></span>n<span class="_ _3"> </span><span class="fcb">==<span class="_ _3"> </span></span>L[<span class="fcb">0</span>]<span class="_ _3"> </span><span class="ff29 fc10">or<span class="_ _3"> </span></span>n<span class="_ _3"> </span><span class="fcb">%<span class="_ _3"> </span></span>L[<span class="fcb">0</span>]<span class="_ _2"> </span><span class="fcb">&gt;<span class="_ _3"> </span>0</span>]</div><div class="t m0 x51 h27 y693 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(L)</span></div><div class="t m0 x36 h27 y349 ff22 fsf fc5 sc0 ls1 ws1">[2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>5,<span class="_ _3"> </span>7,<span class="_ _3"> </span>9,<span class="_ _2"> </span>11,<span class="_ _3"> </span>13,<span class="_ _3"> </span>15,<span class="_ _3"> </span>17,<span class="_ _3"> </span>19,<span class="_ _3"> </span>21,<span class="_ _3"> </span>23,<span class="_ _3"> </span>25,<span class="_ _3"> </span>27,<span class="_ _3"> </span>29,<span class="_ _2"> </span>31,<span class="_ _3"> </span>33,<span class="_ _3"> </span>35,<span class="_ _3"> </span>37,<span class="_ _3"> </span>39]</div><div class="t m0 x36 h21 y34a ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[17]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">对于候选数值序列的第二个值，移除它的倍数</span></span></div><div class="t m0 x51 h27 y694 ff22 fsf fc5 sc0 ls1 ws1">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[n<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span>n<span class="_ _2"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span>L<span class="_ _3"> </span><span class="ff29 fc9">if<span class="_ _3"> </span></span>n<span class="_ _3"> </span><span class="fcb">==<span class="_ _3"> </span></span>L[<span class="fcb">1</span>]<span class="_ _3"> </span><span class="ff29 fc10">or<span class="_ _3"> </span></span>n<span class="_ _3"> </span><span class="fcb">%<span class="_ _3"> </span></span>L[<span class="fcb">1</span>]<span class="_ _2"> </span><span class="fcb">&gt;<span class="_ _3"> </span>0</span>]</div><div class="t m0 x51 h27 y34b ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(L)</span></div><div class="t m0 x36 h27 y695 ff22 fsf fc5 sc0 ls1 ws1">[2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>5,<span class="_ _3"> </span>7,<span class="_ _3"> </span>11,<span class="_ _2"> </span>13,<span class="_ _3"> </span>17,<span class="_ _3"> </span>19,<span class="_ _3"> </span>23,<span class="_ _3"> </span>25,<span class="_ _3"> </span>29,<span class="_ _3"> </span>31,<span class="_ _3"> </span>35,<span class="_ _3"> </span>37]</div><div class="t m0 x36 h21 y696 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[18]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">对于候选数值序列的第三个值，移除它的倍数</span></span></div><div class="t m0 x51 h27 y34e ff22 fsf fc5 sc0 ls1 ws1">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[n<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span>n<span class="_ _2"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span>L<span class="_ _3"> </span><span class="ff29 fc9">if<span class="_ _3"> </span></span>n<span class="_ _3"> </span><span class="fcb">==<span class="_ _3"> </span></span>L[<span class="fcb">2</span>]<span class="_ _3"> </span><span class="ff29 fc10">or<span class="_ _3"> </span></span>n<span class="_ _3"> </span><span class="fcb">%<span class="_ _3"> </span></span>L[<span class="fcb">2</span>]<span class="_ _2"> </span><span class="fcb">&gt;<span class="_ _3"> </span>0</span>]</div><div class="t m0 x51 h27 y34f ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(L)</span></div><div class="t m0 x36 h27 y350 ff22 fsf fc5 sc0 ls1 ws1">[2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>5,<span class="_ _3"> </span>7,<span class="_ _3"> </span>11,<span class="_ _2"> </span>13,<span class="_ _3"> </span>17,<span class="_ _3"> </span>19,<span class="_ _3"> </span>23,<span class="_ _3"> </span>29,<span class="_ _3"> </span>31,<span class="_ _3"> </span>37]</div><div class="t m0 x1a h1f y697 ff1d fsf fc5 sc0 ls1 ws1">如果我<span class="_ _0"></span>们不断在<span class="_ _0"></span>一个足够<span class="_ _0"></span>大的列表上重<span class="_ _0"></span>复这个过<span class="_ _0"></span>程足够多<span class="_ _0"></span>次，我们就能<span class="_ _0"></span>产生足够<span class="_ _0"></span>多我们需</div><div class="t m0 x2a h1f y698 ff1d fsf fc5 sc0 ls1 ws1">要的素数。</div><div class="t m0 x1a h1f y699 ff1d fsf fc5 sc0 ls1 ws1">让我们把计算的逻辑封装成为一个生成器表达式：</div><div class="t m0 x36 h27 y69a ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[19]:<span class="_ _3"> </span><span class="ff29 fc9">def<span class="_ _3"> </span></span><span class="fca">gen_primes<span class="fc5">(N):</span></span></div><div class="t m0 x25 h27 y69b ff2c fsf fc11 sc0 ls1 ws1">&quot;&quot;&quot;Generate<span class="_ _3"> </span>primes<span class="_ _3"> </span>up<span class="_ _3"> </span>to<span class="_ _3"> </span>N&quot;&quot;&quot;</div><div class="t m0 x25 h27 y69c ff22 fsf fc5 sc0 ls1 ws1">primes<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fc9">set</span></span>()</div><div class="t m0 x25 h27 y69d ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">n<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span></span><span class="ff22">range<span class="fc5">(<span class="fcb">2</span>,<span class="_ _3"> </span>N):</span></span></div><div class="t m0 x59 h27 y69e ff29 fsf fc9 sc0 ls1 ws1">if<span class="_ _3"> </span><span class="ff22">all<span class="fc5">(n<span class="_ _3"> </span><span class="fcb">%<span class="_ _3"> </span></span>p<span class="_ _3"> </span><span class="fcb">&gt;<span class="_ _2"> </span>0<span class="_ _3"> </span></span></span></span>for<span class="_ _3"> </span><span class="ff22 fc5">p<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span><span class="ff22 fc5">primes):</span></span></div><div class="t m0 x5c h27 y69f ff22 fsf fc5 sc0 ls1 ws1">primes<span class="fcb">.</span>add(n)</div><div class="t m0 x5c h27 y6a0 ff29 fsf fc9 sc0 ls1 ws1">yield<span class="_ _3"> </span><span class="ff22 fc5">n</span></div><div class="t m0 x51 h27 y6a1 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(<span class="fcb">*</span>gen_primes(<span class="fcb">100</span>))</span></div><div class="t m0 x36 h27 y6a2 ff22 fsf fc5 sc0 ls1 ws1">2<span class="_ _3"> </span>3<span class="_ _3"> </span>5<span class="_ _3"> </span>7<span class="_ _3"> </span>11<span class="_ _2"> </span>13<span class="_ _3"> </span>17<span class="_ _3"> </span>19<span class="_ _3"> </span>23<span class="_ _3"> </span>29<span class="_ _3"> </span>31<span class="_ _3"> </span>37<span class="_ _3"> </span>41<span class="_ _3"> </span>43<span class="_ _3"> </span>47<span class="_ _2"> </span>53<span class="_ _3"> </span>59<span class="_ _3"> </span>61<span class="_ _3"> </span>67<span class="_ _3"> </span>71<span class="_ _3"> </span>73<span class="_ _3"> </span>79<span class="_ _3"> </span>83<span class="_ _3"> </span>89<span class="_ _3"> </span>97</div><div class="t m0 x1a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">这就是<span class="_ _0"></span>关于生成器<span class="_ _0"></span>的一切！尽<span class="_ _0"></span>管这绝对<span class="_ _0"></span>不是一个<span class="_ _0"></span>高效实现爱<span class="_ _0"></span>拉托逊斯<span class="_ _0"></span>筛法的方<span class="_ _0"></span>法，但它说</div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">明了如何使用生成器函数的语法来方便地构建更复杂的序列。</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf55" class="pf w3 h1b" data-page-no="55"><div class="pc pc55 w3 h1b"></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf56" class="pf w3 h1b" data-page-no="56"><div class="pc pc56 w3 h1b"><img class="bi x2a yd7 w4 h65" alt="" src="bg56.png"/><div class="t m0 x16 h1c y6a3 ff1a fsc fc5 sc0 ls1 ws1">第<span class="_ _7"> </span><span class="ff19">14<span class="_ _7"> </span></span>章<span class="_ _33"> </span>模块和包</div><div class="t m0 x1a h1f y6a4 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _2"> </span><span class="ff1d">有<span class="_ _55"> </span>一<span class="_ _55"> </span>个<span class="_ _55"> </span>特<span class="_ _55"></span>性<span class="_ _4a"></span>使<span class="_ _55"> </span>其<span class="_ _55"> </span>可<span class="_ _55"> </span>以<span class="_ _55"> </span>用<span class="_ _55"> </span>于<span class="_ _55"></span>各<span class="_ _55"></span>种<span class="_ _4a"></span>各<span class="_ _55"> </span>样<span class="_ _55"> </span>的<span class="_ _55"> </span>任<span class="_ _55"> </span>务，<span class="_ _55"> </span>那<span class="_ _55"></span>就<span class="_ _4a"></span>是<span class="_ _55"> </span>“自<span class="_ _55"> </span>带<span class="_ _55"> </span>电<span class="_ _55"> </span>池”</span></div><div class="t m0 x2b h26 y6a5 ff26 fs10 fc6 sc0 ls1 ws1">1</div><div class="t m0 x87 h1f y6a4 ff1d fsf fc5 sc0 ls1 ws1">。<span class="_ _55"></span>也<span class="_ _4a"></span>就<span class="_ _55"> </span>是</div><div class="t m0 x2a h1f y6a6 ff1d fsf fc5 sc0 ls1 ws1">说<span class="_ _3b"> </span><span class="ff1f">Python<span class="_ _8"> </span></span>标<span class="_ _f"></span>准<span class="ff1e">库<span class="_ _f"></span></span>（<span class="ff1f">library</span>）<span class="_ _4a"></span>包<span class="_ _f"></span>含<span class="_ _f"></span>了<span class="_ _4a"></span>各<span class="_ _f"></span>种<span class="_ _f"></span>各<span class="_ _f"></span>样<span class="_ _4a"></span>任<span class="_ _f"></span>务<span class="_ _f"></span>的<span class="_ _4a"></span>有<span class="_ _f"></span>用<span class="_ _f"></span>工<span class="_ _4a"></span>具。<span class="_ _f"></span>除<span class="_ _f"></span>此<span class="_ _f"></span>之<span class="_ _4a"></span>外，<span class="ff1f">Python<span class="_ _8"> </span></span>还<span class="_ _0"></span>有<span class="_ _4a"></span>一</div><div class="t m0 x2a h1f y6a7 ff1d fsf fc5 sc0 ls1 ws1">个<span class="_ _0"></span>广<span class="_ _0"></span>泛<span class="_ _0"></span>的第<span class="_ _0"></span>三<span class="_ _0"></span>方<span class="_ _0"></span>工<span class="_ _0"></span>具<span class="_ _0"></span>和<span class="_ _0"></span>软件包<span class="_ _0"></span>的<span class="_ _0"></span>生<span class="_ _0"></span>态<span class="_ _0"></span>系<span class="_ _0"></span>统，<span class="_ _0"></span>可<span class="_ _0"></span>提供<span class="_ _0"></span>更<span class="_ _0"></span>专<span class="_ _0"></span>业<span class="_ _0"></span>化<span class="_ _0"></span>的<span class="_ _0"></span>功能。<span class="_ _0"></span>我<span class="_ _0"></span>们<span class="_ _0"></span>来<span class="_ _0"></span>看<span class="_ _0"></span>看<span class="_ _0"></span>如何<span class="_ _0"></span>导<span class="_ _0"></span>入<span class="_ _0"></span>标</div><div class="t m0 x2a h1f y6a8 ff1d fsf fc5 sc0 ls1 ws1">准库模块、安装第三方模块的工具以及如何制作自己的模块。</div><div class="t m0 x2a h23 y6a9 ff19 fsd fc5 sc0 ls1 ws1">14.1<span class="_ _15"> </span><span class="ff1a">导入模块：<span class="ff29">import<span class="_ _3"> </span></span>语句</span></div><div class="t m0 x1a h1f y6aa ff1d fsf fc5 sc0 ls1 ws1">为了加载内置和第三方模块，<span class="ff1f">Python<span class="_ _a"> </span></span>提供了<span class="_ _e"> </span><span class="ff22">import<span class="_ _e"> </span></span>语句。我们在这里按<span class="_ _0"></span>最推荐到最不推</div><div class="t m0 x2a h1f y6ab ff1d fsf fc5 sc0 ls1 ws1">荐的顺序简要介绍一下使用这个语句的一些方法。</div><div class="t m0 x2a h25 y6ac ff19 fse fc5 sc0 ls1 ws1">14.1.1<span class="_ _3c"> </span><span class="ff1a">显式模块导入</span></div><div class="t m0 x1a h1f y6ad ff1d fsf fc5 sc0 ls1 ws1">模<span class="_ _0"></span>块的<span class="_ _0"></span>显式<span class="_ _0"></span>导入<span class="_ _0"></span>会将<span class="_ _0"></span>模块<span class="_ _0"></span>的内<span class="_ _0"></span>容保<span class="_ _0"></span>留在<span class="ff1e">命<span class="_ _0"></span>名空<span class="_ _0"></span>间<span class="_ _0"></span></span>（<span class="ff1f">namespace</span>）中。<span class="_ _0"></span>你接<span class="_ _0"></span>下来<span class="_ _0"></span>可以<span class="_ _0"></span>使用<span class="_ _0"></span>这</div><div class="t m0 x2a h1f y6ae ff1d fsf fc5 sc0 ls1 ws1">个命名空间来<span class="_ _0"></span>引用它们的内容：通过命<span class="_ _0"></span>名空间加<span class="_ _e"> </span><span class="ff22">.<span class="_ _a"> </span></span>加某个具<span class="_ _0"></span>体的内容。例如，这里我<span class="_ _0"></span>们将导入</div><div class="t m0 x2a h1f y6af ff1d fsf fc5 sc0 ls1 ws1">内置的<span class="_ _e"> </span><span class="ff22">math<span class="_ _a"> </span></span>模块并计算<span class="_ _e"> </span><span class="ff25">π<span class="_ _10"> </span></span>的余弦值：</div><div class="t m0 x36 h27 y6b0 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[1]:<span class="_ _3"> </span><span class="ff29 fc9">import<span class="_ _3"> </span><span class="fca">math</span></span></div><div class="t m0 x46 h27 y6b1 ff22 fsf fc5 sc0 ls1 ws1">math<span class="fcb">.</span>cos(math<span class="fcb">.</span>pi)</div><div class="t m0 x36 h27 y6b2 ff22 fsf fc14 sc0 ls1 ws1">Out[1]:<span class="_ _3"> </span><span class="fc5">-1.0</span></div><div class="t m0 x2a h25 y6b3 ff19 fse fc5 sc0 ls1 ws1">14.1.2<span class="_ _3c"> </span><span class="ff1a">显式模块导入并取别名</span></div><div class="t m0 x1a h1f y6b4 ff1d fsf fc5 sc0 ls1 ws1">如果模<span class="_ _0"></span>块有更长<span class="_ _0"></span>的名称，那<span class="_ _0"></span>么每次访<span class="_ _0"></span>问某个元<span class="_ _0"></span>素时使用完<span class="_ _0"></span>整模块名<span class="_ _0"></span>称并不方<span class="_ _0"></span>便。因此，我</div><div class="t m0 x2a h1f y6b5 ff1d fsf fc5 sc0 ls1 ws1">们通常会使用<span class="_ _38"> </span><span class="ff22">import...<span class="_ _3"> </span>as...<span class="_ _e"> </span></span>来为命名空间创建一个较短的别名。<span class="_ _3f"></span>例如<span class="_ _e"> </span><span class="ff1f">NumPy<span class="_ _5"></span><span class="ff1d">（<span class="ff1f">Numerical</span></span></span></div><div class="t m0 x2a h1f y6b6 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="ff1d">）<span class="_ _0"></span>软<span class="_ _0"></span>件包，一<span class="_ _0"></span>种<span class="_ _0"></span>数<span class="_ _0"></span>据<span class="_ _0"></span>科<span class="_ _0"></span>学领<span class="_ _0"></span>域<span class="_ _0"></span>中<span class="_ _0"></span>很<span class="_ _0"></span>受欢<span class="_ _0"></span>迎<span class="_ _0"></span>的<span class="_ _0"></span>第<span class="_ _0"></span>三<span class="_ _0"></span>方软<span class="_ _0"></span>件包，<span class="_ _0"></span>我<span class="_ _0"></span>们<span class="_ _0"></span>可<span class="_ _0"></span>以按<span class="_ _0"></span>照<span class="_ _0"></span>惯<span class="_ _0"></span>例<span class="_ _0"></span>使用<span class="_ _0"></span>别</span></div><div class="t m0 x2a h1f y6b7 ff1d fsf fc5 sc0 ls1 ws1">名<span class="_ _e"> </span><span class="ff22">np<span class="_ _a"> </span></span>导入：</div><div class="t m0 x36 h27 y6b8 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[2]:<span class="_ _3"> </span><span class="ff29 fc9">import<span class="_ _3"> </span><span class="fca">numpy<span class="_ _3"> </span></span>as<span class="_ _2"> </span><span class="fca">np</span></span></div><div class="t m0 x46 h27 y6b9 ff22 fsf fc5 sc0 ls1 ws1">np<span class="fcb">.</span>cos(np<span class="fcb">.</span>pi)</div><div class="t m0 x36 h27 y6ba ff22 fsf fc14 sc0 ls1 ws1">Out[2]:<span class="_ _3"> </span><span class="fc5">-1.0</span></div><div class="t m0 x37 h28 yf5 ff27 fs11 fc5 sc0 ls1 ws1">1</div><div class="t m0 x2f h29 yf6 ff1d fs12 fc5 sc0 ls1 ws1">译<span class="_ _f"></span>者<span class="_ _4a"></span>注：<span class="_ _f"></span>这<span class="_ _4a"></span>里<span class="_ _f"></span>原<span class="_ _4a"></span>文<span class="_ _f"></span>为<span class="_ _3b"> </span><span class="ff28">batteries<span class="_ _10"> </span>included</span>，<span class="_ _4a"></span>可<span class="_ _f"></span>以<span class="_ _4a"></span>理<span class="_ _f"></span>解<span class="_ _4a"></span>为<span class="_ _f"></span>内<span class="_ _4a"></span>置<span class="_ _f"></span>了<span class="_ _4a"></span>许<span class="_ _f"></span>多<span class="_ _4a"></span>功<span class="_ _f"></span>能，<span class="_ _4a"> </span>参<span class="_ _f"></span>见<span class="_ _3b"> </span><span class="ff28">PEP<span class="_ _10"> </span>206</span>：<span class="ff28">Python<span class="_ _3b"> </span></span>高<span class="_ _f"></span>级库：</div><div class="t m0 x2a h29 y7c ff2b fs12 fc7 sc0 ls1 ws1">https://www.python.org/dev/peps/pep-<span class="_ _0"></span>0206/#id3<span class="ff1d fc5">。</span></div><div class="t m0 x4f h22 y5c ff1f fsf fc5 sc0 ls1 ws1">77</div><a class="l" href="#pf56" data-dest-detail='[86,"XYZ",88.59,98.3,null]'><div class="d m7" style="border-style:none;position:absolute;left:470.999000px;bottom:623.019000px;width:4.234000px;height:5.136000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://www.python.org/dev/peps/pep-0206/#id3"><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:70.007000px;width:212.329000px;height:8.220000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf57" class="pf w3 h1b" data-page-no="57"><div class="pc pc57 w3 h1b"><img class="bi x2a y6bb w4 h66" alt="" src="bg57.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">78<span class="_ _85"> </span><span class="ff24">14.<span class="_ _2c"> </span><span class="ff1e">模块和包</span></span></div><div class="t m0 x2a h25 y309 ff19 fse fc5 sc0 ls1 ws1">14.1.3<span class="_ _3c"> </span><span class="ff1a">显式导入模块内容</span></div><div class="t m0 x1a h1f y6bc ff1d fsf fc5 sc0 ls1 ws1">有<span class="_ _f"></span>时<span class="_ _f"></span>你<span class="_ _f"></span>只<span class="_ _f"></span>想<span class="_ _f"></span>从<span class="_ _f"></span>模<span class="_ _f"></span>块<span class="_ _f"></span>导<span class="_ _f"></span>入<span class="_ _4a"></span>一<span class="_ _f"></span>些<span class="_ _f"></span>特<span class="_ _f"></span>定<span class="_ _f"></span>的<span class="_ _f"></span>项<span class="_ _f"></span>目，<span class="_ _f"></span>而<span class="_ _f"></span>不<span class="_ _f"></span>是<span class="_ _f"></span>导<span class="_ _f"></span>入<span class="_ _4a"></span>模<span class="_ _f"></span>块<span class="_ _f"></span>的<span class="_ _f"></span>整<span class="_ _f"></span>个命<span class="_ _f"></span>名<span class="_ _f"></span>空<span class="_ _f"></span>间。<span class="_ _f"></span>这<span class="_ _f"></span>可<span class="_ _f"></span>以<span class="_ _4a"></span>通</div><div class="t m0 x2a h1f y6bd ff1d fsf fc5 sc0 ls1 ws1">过<span class="_ _e"> </span><span class="ff22">from...<span class="_ _3"> </span>import...<span class="_ _a"> </span></span>来完成。例如，我们可以从<span class="_ _e"> </span><span class="ff22">math<span class="_ _a"> </span></span>模块导入<span class="_ _e"> </span><span class="ff22">cos<span class="_ _a"> </span></span>函数和<span class="_ _e"> </span><span class="ff22">pi<span class="_ _a"> </span></span>常量：</div><div class="t m0 x36 h27 y6be ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[3]:<span class="_ _3"> </span><span class="ff29 fc9">from<span class="_ _3"> </span><span class="fca">math<span class="_ _3"> </span></span>import<span class="_ _2"> </span></span><span class="fc5">cos,<span class="_ _3"> </span>pi</span></div><div class="t m0 x46 h27 y6bf ff22 fsf fc5 sc0 ls1 ws1">cos(pi)</div><div class="t m0 x36 h27 y6c0 ff22 fsf fc14 sc0 ls1 ws1">Out[3]:<span class="_ _3"> </span><span class="fc5">-1.0</span></div><div class="t m0 x2a h25 y6c1 ff19 fse fc5 sc0 ls1 ws1">14.1.4<span class="_ _3c"> </span><span class="ff1a">隐式导入模块内容</span></div><div class="t m0 x1a h1f y6c2 ff1d fsf fc5 sc0 ls1 ws1">最后，<span class="_ _1"></span>有时候你也可以将整个模块内容导入本地的命名空间。<span class="_ _34"></span>这可以通过<span class="_ _38"> </span><span class="ff22">from...<span class="_ _3"> </span>import</span></div><div class="t m0 x2a h1f y6c3 ff22 fsf fc5 sc0 ls1 ws1">*<span class="_ _e"> </span><span class="ff1d">来完成：</span></div><div class="t m0 x36 h27 y6c4 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[4]:<span class="_ _3"> </span><span class="ff29 fc9">from<span class="_ _3"> </span><span class="fca">math<span class="_ _3"> </span></span>import<span class="_ _2"> </span></span><span class="fcb">*</span></div><div class="t m0 x46 h27 y6c5 ff22 fsf fc5 sc0 ls1 ws1">sin(pi)<span class="_ _3"> </span><span class="fcb">**<span class="_ _3"> </span>2<span class="_ _3"> </span>+<span class="_ _3"> </span></span>cos(pi)<span class="_ _2"> </span><span class="fcb">**<span class="_ _3"> </span>2</span></div><div class="t m0 x36 h27 y6c6 ff22 fsf fc14 sc0 ls1 ws1">Out[4]:<span class="_ _3"> </span><span class="fc5">1.0</span></div><div class="t m0 x1a h1f y6c7 ff1d fsf fc5 sc0 ls1 ws1">你应当<span class="_ _0"></span>谨慎使用<span class="_ _0"></span>这种方法。<span class="_ _0"></span>由此带来<span class="_ _0"></span>的问题是，<span class="_ _0"></span>这样导入有<span class="_ _0"></span>时可能会<span class="_ _0"></span>覆盖你不<span class="_ _0"></span>想覆盖的函</div><div class="t m0 x2a h1f y6c8 ff1d fsf fc5 sc0 ls1 ws1">数<span class="_ _0"></span>名<span class="_ _f"></span>称，<span class="_ _0"></span>并<span class="_ _f"></span>且<span class="_ _0"></span>这<span class="_ _f"></span>个<span class="_ _0"></span>语<span class="_ _0"></span>句<span class="_ _f"></span>的<span class="_ _0"></span>隐<span class="_ _f"></span>蔽<span class="_ _0"></span>性<span class="_ _f"></span>使<span class="_ _0"></span>得<span class="_ _f"></span>你<span class="_ _0"></span>很<span class="_ _f"></span>难<span class="_ _0"></span>确<span class="_ _f"></span>定<span class="_ _0"></span>发<span class="_ _f"></span>生<span class="_ _0"></span>了<span class="_ _f"></span>什<span class="_ _0"></span>么<span class="_ _f"></span>变<span class="_ _0"></span>化。<span class="_ _f"></span>例<span class="_ _0"></span>如，<span class="ff1f">Python<span class="_ _3b"> </span></span>具<span class="_ _0"></span>有<span class="_ _f"></span>内<span class="_ _0"></span>置</div><div class="t m0 x2a h1f y6c9 ff1d fsf fc5 sc0 ls1 ws1">的<span class="_ _e"> </span><span class="ff1f">“sum”<span class="_ _a"> </span></span>功能，可用于各种操作：</div><div class="t m0 x36 h27 y6ca ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[5]:<span class="_ _3"> </span><span class="fc5">help(<span class="fc9">sum</span>)</span></div><div class="t m0 x36 h27 y6cb ff22 fsf fc5 sc0 ls1 ws1">Help<span class="_ _3"> </span>on<span class="_ _3"> </span>built-in<span class="_ _3"> </span>function<span class="_ _3"> </span>sum<span class="_ _2"> </span>in<span class="_ _3"> </span>module<span class="_ _3"> </span>builtins:</div><div class="t m0 x36 h27 y6cc ff22 fsf fc5 sc0 ls1 ws1">sum(...)</div><div class="t m0 x49 h27 y6cd ff22 fsf fc5 sc0 ls1 ws1">sum(iterable[,<span class="_ _3"> </span>start])<span class="_ _3"> </span>-&gt;<span class="_ _3"> </span>value</div><div class="t m0 x49 h27 y6ce ff22 fsf fc5 sc0 ls1 ws1">Return<span class="_ _3"> </span>the<span class="_ _3"> </span>sum<span class="_ _3"> </span>of<span class="_ _3"> </span>an<span class="_ _2"> </span>iterable<span class="_ _3"> </span>of<span class="_ _3"> </span>numbers<span class="_ _3"> </span>(NOT<span class="_ _3"> </span>strings)<span class="_ _3"> </span>plus<span class="_ _3"> </span>the<span class="_ _3"> </span>value</div><div class="t m0 x49 h27 y6cf ff22 fsf fc5 sc0 ls1 ws1">of<span class="_ _3"> </span>parameter<span class="_ _3"> </span><span class="ff2a">&apos;</span>start<span class="ff2a">&apos;<span class="_ _3"> </span></span>(which<span class="_ _3"> </span>defaults<span class="_ _2"> </span>to<span class="_ _3"> </span>0).<span class="_ _44"> </span>When<span class="_ _3"> </span>the<span class="_ _3"> </span>iterable<span class="_ _3"> </span>is</div><div class="t m0 x49 h27 y6d0 ff22 fsf fc5 sc0 ls1 ws1">empty,<span class="_ _3"> </span>return<span class="_ _3"> </span>start.</div><div class="t m0 x1a h1f y6d1 ff1d fsf fc5 sc0 ls1 ws1">我们可以用这个函数从某个指定的初始值开始计算一个序列的和，在这里我们从<span class="_ _e"> </span><span class="ff2e">−<span class="ff2d">1<span class="_ _a"> </span></span></span>开始：</div><div class="t m0 x36 h27 y6d2 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[6]:<span class="_ _3"> </span><span class="fc9">sum<span class="fc5">(</span>range<span class="fc5">(<span class="fcb">5</span>),<span class="_ _3"> </span><span class="fcb">-1</span>)</span></span></div><div class="t m0 x36 h27 y6d3 ff22 fsf fc14 sc0 ls1 ws1">Out[6]:<span class="_ _3"> </span><span class="fc5">9</span></div><div class="t m0 x1a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">现在观察如果我们从<span class="_ _e"> </span><span class="ff22">numpy<span class="_ _a"> </span></span>导入全部内容后进行<span class="ff1a">完全相同的函数调用</span>会发生什么：</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf58" class="pf w3 h1b" data-page-no="58"><div class="pc pc58 w3 h1b"><img class="bi x2a y6d4 w4 h67" alt="" src="bg58.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">14.2.<span class="_ _2c"> </span><span class="ff1e">导入<span class="_ _a"> </span></span>PYTHON<span class="_ _e"> </span><span class="ff1e">标准库<span class="_ _86"> </span><span class="ff1f">79</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[7]:<span class="_ _3"> </span><span class="ff29 fc9">from<span class="_ _3"> </span><span class="fca">numpy<span class="_ _3"> </span></span>import<span class="_ _2"> </span></span><span class="fcb">*</span></div><div class="t m0 x36 h27 y138 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[8]:<span class="_ _3"> </span><span class="fc9">sum<span class="fc5">(</span>range<span class="fc5">(<span class="fcb">5</span>),<span class="_ _3"> </span><span class="fcb">-1</span>)</span></span></div><div class="t m0 x36 h27 y139 ff22 fsf fc14 sc0 ls1 ws1">Out[8]:<span class="_ _3"> </span><span class="fc5">10</span></div><div class="t m0 x1a h1f y6d5 ff1d fsf fc5 sc0 ls1 ws1">结<span class="_ _0"></span>果与<span class="_ _0"></span>之前<span class="_ _0"></span>相差<span class="_ _0"></span>了<span class="_ _a"> </span><span class="ff2d">1</span>。<span class="_ _0"></span>这是<span class="_ _0"></span>因为<span class="_ _10"> </span><span class="ff22">import<span class="_ _a"> </span></span>语<span class="_ _0"></span>句用<span class="_ _10"> </span><span class="ff22">numpy.sum<span class="_ _a"> </span></span>函<span class="_ _0"></span>数<span class="ff1a">替<span class="_ _0"></span>换<span class="_ _0"></span></span>了内<span class="_ _0"></span>置的<span class="_ _a"> </span><span class="ff22">sum<span class="_ _10"> </span></span>函<span class="_ _0"></span>数：</div><div class="t m0 x2a h1f y6d6 ff1d fsf fc5 sc0 ls1 ws1">在前者中，<span class="_ _9"></span><span class="ff22">sum(5)<span class="_ _e"> </span><span class="ff1d">从<span class="_ _e"> </span></span>-1<span class="_ _e"> </span><span class="ff1d">开始对<span class="_ _e"> </span></span>range(5)<span class="_ _e"> </span><span class="ff1d">求和；<span class="_ _5"></span>而在后者中，<span class="_ _9"></span>我们沿着最后一个轴（用<span class="_ _38"> </span><span class="ff22">-1<span class="_ _e"> </span></span>表</span></span></div><div class="t m0 x2a h1f y6d7 ff1d fsf fc5 sc0 ls1 ws1">示）<span class="_ _4"></span>对<span class="_ _e"> </span><span class="ff22">range(5)<span class="_ _e"> </span></span>求和。<span class="_ _5"></span>这是使用<span class="_ _e"> </span><span class="ff22">import<span class="_ _e"> </span></span>时很难注意到的情况：<span class="_ _5"></span>为此，<span class="_ _5"></span>除非你确切知道你在做</div><div class="t m0 x2a h1f y6d8 ff1d fsf fc5 sc0 ls1 ws1">什么，否则最好避免这种情况。</div><div class="t m0 x2a h23 y6d9 ff19 fsd fc5 sc0 ls1 ws1">14.2<span class="_ _15"> </span><span class="ff1a">导入<span class="_ _3"> </span></span>Python<span class="_ _8"> </span><span class="ff1a">标准库</span></div><div class="t m0 x1a h1f y6da ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _29"> </span><span class="ff1d">的<span class="_ _5f"> </span>标<span class="_ _5f"> </span>准库<span class="_ _4b"> </span>包<span class="_ _5f"> </span>含<span class="_ _5f"> </span>很<span class="_ _5f"> </span>多<span class="_ _5f"> </span>内<span class="_ _5f"> </span>置<span class="_ _5f"> </span>的<span class="_ _87"> </span>模<span class="_ _87"> </span>块，<span class="_ _5f"> </span>你<span class="_ _5f"> </span>可<span class="_ _5f"> </span>以<span class="_ _87"> </span>在<span class="_ _29"> </span><span class="ff22 fc7">https://docs.python.org/3/</span></span></div><div class="t m0 x2a h1f y6db ff22 fsf fc7 sc0 ls1 ws1">library/<span class="_ _3b"> </span><span class="ff1d fc5">处<span class="_ _0"></span>看<span class="_ _f"></span>到<span class="_ _f"></span>它<span class="_ _f"></span>的<span class="_ _f"></span>完<span class="_ _f"></span>整<span class="_ _0"></span>说<span class="_ _f"></span>明。<span class="_ _f"></span>它<span class="_ _f"></span>们<span class="_ _f"></span>都<span class="_ _0"></span>可<span class="_ _f"></span>以<span class="_ _f"></span>使<span class="_ _f"></span>用<span class="_ _3b"> </span><span class="ff22">import<span class="_ _3b"> </span></span>语<span class="_ _f"></span>句<span class="_ _f"></span>导<span class="_ _0"></span>入，<span class="_ _f"></span>然<span class="_ _f"></span>后<span class="_ _f"></span>你<span class="_ _f"></span>还<span class="_ _f"></span>可<span class="_ _0"></span>以<span class="_ _f"></span>使<span class="_ _f"></span>用<span class="_ _f"></span>前</span></div><div class="t m0 x2a h1f y6dc ff1d fsf fc5 sc0 ls1 ws1">面一<span class="_ _0"></span>节出现<span class="_ _0"></span>的<span class="_ _a"> </span><span class="ff22">help<span class="_ _a"> </span></span>功能来<span class="_ _0"></span>查看<span class="_ _0"></span>帮助。以<span class="_ _0"></span>下是一<span class="_ _0"></span>个你可<span class="_ _0"></span>能希望<span class="_ _0"></span>了解<span class="_ _0"></span>和探索<span class="_ _0"></span>的一些<span class="_ _0"></span>模块的<span class="_ _0"></span>不完<span class="_ _0"></span>全</div><div class="t m0 x2a h1f y6dd ff1d fsf fc5 sc0 ls1 ws1">列表：</div><div class="t m0 x1a h1f y6de ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">os<span class="_ _a"> </span><span class="ff1d">和<span class="_ _e"> </span></span>sys<span class="ff1d">：与操作系统交互的工具，包括文件目录间的导航和执行<span class="_ _a"> </span><span class="ff1f">shell<span class="_ _e"> </span></span>命令。</span></span></div><div class="t m0 x1a h1f y6df ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">math<span class="_ _a"> </span><span class="ff1d">和<span class="_ _e"> </span></span>cmath<span class="ff1d">：数学功能和对实数和复数的操作。</span></span></div><div class="t m0 x1a h1f y6e0 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">itertools<span class="ff1d">：使用迭代器和生成器的工具。</span></span></div><div class="t m0 x1a h1f y6e1 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">functools<span class="ff1d">：函数式编程的工具。</span></span></div><div class="t m0 x1a h1f y6e2 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">random<span class="ff1d">：产生随机数的工具。</span></span></div><div class="t m0 x1a h1f y6e3 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">pickle<span class="ff1d">：对象序列化的工具：保存对象或者从磁盘中读取对象。</span></span></div><div class="t m0 x1a h1f y6e4 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">json<span class="_ _a"> </span><span class="ff1d">和<span class="_ _e"> </span></span>csv<span class="ff1d">：读取<span class="_ _a"> </span><span class="ff1f">JSON<span class="_ _e"> </span></span>格式和<span class="_ _a"> </span><span class="ff1f">CSV<span class="_ _e"> </span></span>格式文件的工具。</span></span></div><div class="t m0 x1a h1f y6e5 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">urllib<span class="ff1f">:<span class="_ _8"> </span><span class="ff1d">进行<span class="_ _e"> </span></span>HTTP<span class="_ _a"> </span><span class="ff1d">和其他网络请求的工具。</span></span></span></div><div class="t m0 x1a h1f y6e6 ff1d fsf fc5 sc0 ls1 ws1">查阅<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>官方标准库文档查阅更多信息吧！</div><div class="t m0 x2a h23 y6e7 ff19 fsd fc5 sc0 ls1 ws1">14.3<span class="_ _15"> </span><span class="ff1a">导入第三方模块</span></div><div class="t m0 x1a h1f y6e8 ff1d fsf fc5 sc0 ls1 ws1">第三<span class="_ _0"></span>方模块<span class="_ _0"></span>的生态<span class="_ _0"></span>系统使<span class="_ _0"></span>得<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>十<span class="_ _0"></span>分易用，<span class="_ _0"></span>这一点<span class="_ _0"></span>在数据<span class="_ _0"></span>科学领<span class="_ _0"></span>域表现<span class="_ _0"></span>最为明<span class="_ _0"></span>显。这</div><div class="t m0 x2a h1f y6e9 ff1d fsf fc5 sc0 ls1 ws1">些模块可以像内置模块一样被导入，当然前提是你在你的系统中已经安装好了它们。</div><div class="t m0 x1a h1f y6ea ff1d fsf fc5 sc0 ls1 ws1">这些模块的标准来源是<span class="_ _5f"> </span><span class="ff1f">Python<span class="_ _5f"> </span></span>软件包索引<span class="_ _1"></span>（<span class="ff1f">Python<span class="_ _5f"> </span>Pac<span class="_ _4"></span>kage<span class="_ _5f"> </span>Index<span class="ff1d">，<span class="_ _d"></span><span class="ff1f">PyPI<span class="ff1d">）<span class="_ _39"></span>，<span class="_ _d"></span>网址为<span class="_ _5f"> </span><span class="ff22 fc7">https:</span></span></span></span></span></div><div class="t m0 x2a h1f y6eb ff22 fsf fc7 sc0 ls1 ws1">//pypi.python.org/<span class="ff1d fc5">。为<span class="_ _0"></span>了更方<span class="_ _0"></span>便地使<span class="_ _0"></span>用，<span class="ff1f">Python<span class="_ _a"> </span></span>提供了<span class="_ _0"></span>一个叫<span class="_ _0"></span>做<span class="_ _a"> </span><span class="ff22">pip<span class="_ _a"> </span></span>的程序<span class="_ _0"></span>（<span class="ff1f">pip<span class="_ _a"> </span>installs</span></span></div><div class="t m0 x2a h1f y6ec ff1f fsf fc5 sc0 ls1 ws1">pac<span class="_ _4"></span>kages<span class="_ _10"> </span><span class="ff1d">的<span class="_ _0"></span>递归<span class="_ _0"></span>缩<span class="_ _0"></span>写）<span class="_ _43"></span>，<span class="_ _0"></span>它<span class="_ _0"></span>可以<span class="_ _0"></span>在<span class="_ _10"> </span><span class="ff1f">PyPI<span class="_ _10"> </span></span>上<span class="_ _0"></span>自动<span class="_ _0"></span>获<span class="_ _0"></span>取包<span class="_ _0"></span>的<span class="_ _a"> </span><span class="ff1f">release<span class="_ _10"> </span></span>版<span class="_ _0"></span>本。<span class="_ _43"></span>（如<span class="_ _0"></span>果<span class="_ _0"></span>你使<span class="_ _0"></span>用<span class="_ _10"> </span><span class="ff1f">Python</span></span></div><div class="t m0 x2a h1f y6ed ff1f fsf fc5 sc0 ls1 ws1">2<span class="_ _e"> </span><span class="ff1d">的话，你需要额外安装<span class="_ _a"> </span><span class="ff22">pip</span>）<span class="_ _39"></span>。</span></div><div class="t m0 x1a h1f y6ee ff1d fsf fc5 sc0 ls1 ws1">比如，如果你想安装我写的<span class="_ _e"> </span><span class="ff22">supersmoother<span class="_ _a"> </span></span>包，你只需要键入下面的命令：</div><div class="t m0 x36 h27 y6ef ff22 fsf fc5 sc0 ls1 ws1">$<span class="_ _3"> </span>pip<span class="_ _3"> </span>install<span class="_ _3"> </span>supersmoother</div><div class="t m0 x1a h1f yd5 ff1d fsf fc5 sc0 ls1 ws1">这个包<span class="_ _0"></span>的源<span class="_ _0"></span>代码会<span class="_ _0"></span>被自<span class="_ _0"></span>动地<span class="_ _0"></span>从<span class="_ _a"> </span><span class="ff1f">PyPI<span class="_ _a"> </span></span>仓库下<span class="_ _0"></span>载下<span class="_ _0"></span>来，并且<span class="_ _0"></span>安装<span class="_ _0"></span>在<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>标准<span class="_ _0"></span>路径下<span class="_ _0"></span>（我</div><div class="t m0 x2a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">们假定你拥有在你使用的电脑上做这些操作的权限）<span class="_ _39"></span>。</div><div class="t m0 x1a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">对于<span class="_ _35"> </span><span class="ff1f">PyPI<span class="_ _35"> </span></span>和<span class="_ _35"> </span><span class="ff22">pip<span class="_ _5f"> </span></span>安装器的更多信息，<span class="_ _37"></span>可以查看这里的文档：<span class="_ _34"></span><span class="ff22 fc7">https://pypi.python.org/<span class="ff1d fc5">。</span></span></div><a class="l" href="https://docs.python.org/3/library/"><div class="d m7" style="border-style:none;position:absolute;left:374.367000px;bottom:531.705000px;width:148.909000px;height:10.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://docs.python.org/3/library/"><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:515.446000px;width:45.818000px;height:10.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://pypi.python.org/"><div class="d m7" style="border-style:none;position:absolute;left:488.912000px;bottom:224.272000px;width:34.364000px;height:8.960000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://pypi.python.org/"><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:208.013000px;width:103.091000px;height:10.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://pypi.python.org/"><div class="d m7" style="border-style:none;position:absolute;left:381.603000px;bottom:69.576000px;width:137.454000px;height:10.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf59" class="pf w3 h1b" data-page-no="59"><div class="pc pc59 w3 h1b"></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf5a" class="pf w3 h1b" data-page-no="5a"><div class="pc pc5a w3 h1b"><img class="bi x2a y7c w4 h68" alt="" src="bg5a.png"/><div class="t m0 x3 h1c y3f ff1a fsc fc5 sc0 ls1 ws1">第<span class="_ _7"> </span><span class="ff19">15<span class="_ _7"> </span></span>章<span class="_ _33"> </span>字符串处理和正则表达式</div><div class="t m0 x1a h1f y240 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _e"> </span><span class="ff1d">语言的一个突出特性是它能轻松地处理字符串。在本章中我们将会讨论<span class="_ _e"> </span></span>Python<span class="_ _e"> </span><span class="ff1d">内</span></div><div class="t m0 x2a h1f y241 ff1d fsf fc5 sc0 ls1 ws1">置的<span class="_ _0"></span>字符<span class="_ _0"></span>串处<span class="_ _0"></span>理函数<span class="_ _0"></span>以及<span class="ff1e">格<span class="_ _0"></span>式化<span class="_ _0"></span>字符串<span class="_ _0"></span></span>（<span class="ff1f">format<span class="_ _a"> </span>string</span>）操<span class="_ _0"></span>作，之<span class="_ _0"></span>后我们<span class="_ _0"></span>将会<span class="_ _0"></span>简略地<span class="_ _0"></span>介绍<span class="_ _0"></span>一个</div><div class="t m0 x2a h1f y242 ff1d fsf fc5 sc0 ls1 ws1">非常实用的主题：<span class="ff1e">正则表达式</span>（<span class="ff1f">regular<span class="_ _e"> </span>expression</span>）<span class="_ _39"></span>。这种字符串处理的模式经常在数据科学的</div><div class="t m0 x2a h1f y6f0 ff1d fsf fc5 sc0 ls1 ws1">工作中出现，并且也是<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中非常活跃的一个主题。</div><div class="t m0 x1a h1f y6f1 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _a"> </span><span class="ff1d">中<span class="_ _0"></span>的字<span class="_ _0"></span>符串<span class="_ _0"></span>可以<span class="_ _0"></span>用<span class="_ _0"></span>单引<span class="_ _0"></span>号或<span class="_ _0"></span>者双<span class="_ _0"></span>引号<span class="_ _0"></span>成对<span class="_ _0"></span>引<span class="_ _0"></span>用来<span class="_ _0"></span>定义<span class="_ _0"></span>（从功<span class="_ _0"></span>能上<span class="_ _0"></span>说这<span class="_ _0"></span>两<span class="_ _0"></span>种是<span class="_ _0"></span>等价</span></div><div class="t m0 x2a h1f y6f2 ff1d fsf fc5 sc0 ls1 ws1">的）<span class="_ _39"></span>：</div><div class="t m0 x36 h27 y6f3 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[1]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">a<span class="_ _2"> </span>string</span>&apos;</span></span></span></div><div class="t m0 x46 h27 y6f4 ff22 fsf fc5 sc0 ls1 ws1">y<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fc11">&quot;a<span class="_ _3"> </span>string&quot;</span></span></div><div class="t m0 x46 h27 y6f5 ff22 fsf fc5 sc0 ls1 ws1">x<span class="_ _3"> </span><span class="fcb">==<span class="_ _3"> </span></span>y</div><div class="t m0 x36 h27 y6f6 ff22 fsf fc14 sc0 ls1 ws1">Out[1]:<span class="_ _3"> </span><span class="fc5">True</span></div><div class="t m0 x1a h1f y6f7 ff1d fsf fc5 sc0 ls1 ws1">除此之外，也可以用三重引号来定义跨行字符串：</div><div class="t m0 x36 h27 y6f8 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[2]:<span class="_ _3"> </span><span class="fc5">multiline<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fc11">&quot;&quot;&quot;</span></span></span></div><div class="t m0 x46 h27 y6f9 ff22 fsf fc11 sc0 ls1 ws1">one</div><div class="t m0 x46 h27 y6fa ff22 fsf fc11 sc0 ls1 ws1">two</div><div class="t m0 x46 h27 y6fb ff22 fsf fc11 sc0 ls1 ws1">three</div><div class="t m0 x46 h27 y6fc ff22 fsf fc11 sc0 ls1 ws1">&quot;&quot;&quot;</div><div class="t m0 x1a h1f y6fd ff1d fsf fc5 sc0 ls1 ws1">有了这些作为基础，我们来快速浏览一下<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中对字符串进行操作的一些工具。</div><div class="t m0 x2a h23 y6fe ff19 fsd fc5 sc0 ls1 ws1">15.1<span class="_ _15"> </span>Python<span class="_ _3"> </span><span class="ff1a">简易字符串操作</span></div><div class="t m0 x1a h1f y6ff ff1d fsf fc5 sc0 ls1 ws1">对于字符串的基础操作，<span class="_ _40"></span><span class="ff1f">Python<span class="_ _38"> </span><span class="ff1d">内置的字符串处理函数极其地方便。<span class="_ _3f"></span>如果你有一定的<span class="_ _35"> </span><span class="ff1f">C<span class="_ _e"> </span></span>语</span></span></div><div class="t m0 x2a h1f y700 ff1d fsf fc5 sc0 ls1 ws1">言或<span class="_ _0"></span>者其他<span class="_ _0"></span>低级语<span class="_ _0"></span>言的基<span class="_ _0"></span>础，你一定<span class="_ _0"></span>会觉得<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>提<span class="_ _0"></span>供的这<span class="_ _0"></span>些函数非常<span class="_ _0"></span>简便。我<span class="_ _0"></span>们已经<span class="_ _0"></span>介绍</div><div class="t m0 x2a h1f y701 ff1d fsf fc5 sc0 ls1 ws1">了<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>的字符<span class="_ _0"></span>串类型<span class="_ _0"></span>和一些<span class="_ _0"></span>字符串函数，<span class="_ _0"></span>在这一<span class="_ _0"></span>节中我<span class="_ _0"></span>们将会<span class="_ _0"></span>更加深<span class="_ _0"></span>入地介绍<span class="_ _0"></span>字符串<span class="_ _0"></span>处理</div><div class="t m0 x2a h1f y702 ff1d fsf fc5 sc0 ls1 ws1">的函数。</div><div class="t m0 x2a h25 y703 ff19 fse fc5 sc0 ls1 ws1">15.1.1<span class="_ _3c"> </span><span class="ff1a">字符串格式化：大小写转换</span></div><div class="t m0 x1a h1f y704 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _2"> </span><span class="ff1d">可<span class="_ _55"> </span>以<span class="_ _55"> </span>很<span class="_ _55"> </span>容<span class="_ _55"> </span>易<span class="_ _55"> </span>地<span class="_ _55"> </span>调<span class="_ _55"> </span>整<span class="_ _55"> </span>字<span class="_ _55"> </span>符<span class="_ _55"> </span>串<span class="_ _55"> </span>的<span class="_ _55"> </span>大<span class="_ _55"></span>小<span class="_ _55"></span>写。<span class="_ _55"></span>这<span class="_ _55"></span>里<span class="_ _55"></span>我<span class="_ _4a"></span>们<span class="_ _55"> </span>通<span class="_ _55"> </span>过<span class="_ _55"> </span>几<span class="_ _55"> </span>个<span class="_ _55"> </span>杂<span class="_ _55"> </span>乱<span class="_ _55"> </span>的<span class="_ _55"> </span>例<span class="_ _55"> </span>子<span class="_ _55"> </span>来<span class="_ _55"> </span>看<span class="_ _55"> </span>一</span></div><div class="t m0 x2a h1f y705 ff1d fsf fc5 sc0 ls1 ws1">下<span class="_ _e"> </span><span class="ff22">upper()</span>、<span class="ff22">lower()</span>、<span class="ff22">capitalize()</span>、<span class="ff22">title()<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff22">swapcase()<span class="_ _a"> </span></span>这几个函数：</div><div class="t m0 x36 h27 y155 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[3]:<span class="_ _3"> </span><span class="fc5">fox<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fc11">&quot;tHe<span class="_ _2"> </span>qUICk<span class="_ _3"> </span>bROWn<span class="_ _3"> </span>fOx.&quot;</span></span></span></div><div class="t m0 x4f h22 y5c ff1f fsf fc5 sc0 ls1 ws1">81</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf5b" class="pf w3 h1b" data-page-no="5b"><div class="pc pc5b w3 h1b"><img class="bi x2a y1f9 w4 h69" alt="" src="bg5b.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">82<span class="_ _88"> </span><span class="ff24">15.<span class="_ _2c"> </span><span class="ff1e">字符串处理和正则表达式</span></span></div><div class="t m0 x1a h1f y7e ff1d fsf fc5 sc0 ls1 ws1">要将整个字符串转换为大写或者小写，你可以分别使用<span class="_ _e"> </span><span class="ff22">upper()<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff22">lower()<span class="_ _a"> </span></span>函数：</div><div class="t m0 x36 h27 y706 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[4]:<span class="_ _3"> </span><span class="fc5">fox<span class="fcb">.</span>upper()</span></div><div class="t m0 x36 h27 y707 ff22 fsf fc14 sc0 ls1 ws1">Out[4]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">THE<span class="_ _3"> </span>QUICK<span class="_ _3"> </span>BROWN<span class="_ _3"> </span>FOX.</span>&apos;</span></div><div class="t m0 x36 h27 y708 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[5]:<span class="_ _3"> </span><span class="fc5">fox<span class="fcb">.</span>lower()</span></div><div class="t m0 x36 h27 y709 ff22 fsf fc14 sc0 ls1 ws1">Out[5]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">the<span class="_ _3"> </span>quick<span class="_ _3"> </span>brown<span class="_ _3"> </span>fox.</span>&apos;</span></div><div class="t m0 x1a h1f y70a ff1d fsf fc5 sc0 ls1 ws1">一个常<span class="_ _0"></span>见格式化<span class="_ _0"></span>的需求是将<span class="_ _0"></span>字符串中<span class="_ _0"></span>每一个单词<span class="_ _0"></span>的首字母<span class="_ _0"></span>大写，或者<span class="_ _0"></span>每一个段落<span class="_ _0"></span>的首字母</div><div class="t m0 x2a h1f y70b ff1d fsf fc5 sc0 ls1 ws1">大写，这个时候你可以使用<span class="_ _e"> </span><span class="ff22">title()<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff22">capitalize()<span class="_ _a"> </span></span>函数：</div><div class="t m0 x36 h27 y70c ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[6]:<span class="_ _3"> </span><span class="fc5">fox<span class="fcb">.</span>title()</span></div><div class="t m0 x36 h27 y70d ff22 fsf fc14 sc0 ls1 ws1">Out[6]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">The<span class="_ _3"> </span>Quick<span class="_ _3"> </span>Brown<span class="_ _3"> </span>Fox.</span>&apos;</span></div><div class="t m0 x36 h27 y70e ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[7]:<span class="_ _3"> </span><span class="fc5">fox<span class="fcb">.</span>capitalize()</span></div><div class="t m0 x36 h27 y70f ff22 fsf fc14 sc0 ls1 ws1">Out[7]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">The<span class="_ _3"> </span>quick<span class="_ _3"> </span>brown<span class="_ _3"> </span>fox.</span>&apos;</span></div><div class="t m0 x1a h1f y710 ff22 fsf fc5 sc0 ls1 ws1">swapcase()<span class="_ _e"> </span><span class="ff1d">函数可以将大小写颠倒：</span></div><div class="t m0 x36 h27 y711 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[8]:<span class="_ _3"> </span><span class="fc5">fox<span class="fcb">.</span>swapcase()</span></div><div class="t m0 x36 h27 y712 ff22 fsf fc14 sc0 ls1 ws1">Out[8]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">ThE<span class="_ _3"> </span>QuicK<span class="_ _3"> </span>BrowN<span class="_ _3"> </span>FoX.</span>&apos;</span></div><div class="t m0 x2a h25 y713 ff19 fse fc5 sc0 ls1 ws1">15.1.2<span class="_ _3c"> </span><span class="ff1a">格式化字符串：添加和删除空格</span></div><div class="t m0 x1a h1f y714 ff1d fsf fc5 sc0 ls1 ws1">另一个常见的需求是在字符串的头部或者尾部删除空格<span class="_ _4"></span>（或者其他字符）<span class="_ _39"></span>。<span class="_ _9"></span>删除字符的基本</div><div class="t m0 x2a h1f y715 ff1d fsf fc5 sc0 ls1 ws1">方法是通过<span class="_ _e"> </span><span class="ff22">strip()<span class="_ _a"> </span></span>函数，这个函数会将头部和尾部的空白字符删去：</div><div class="t m0 x36 h27 y716 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[9]:<span class="_ _3"> </span><span class="fc5">line<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="_ _47"> </span><span class="ff22">this<span class="_ _2"> </span>is<span class="_ _3"> </span>the<span class="_ _3"> </span>content<span class="_ _47"> </span></span>&apos;</span></span></span></div><div class="t m0 x46 h27 y717 ff22 fsf fc5 sc0 ls1 ws1">line<span class="fcb">.</span>strip()</div><div class="t m0 x36 h27 y718 ff22 fsf fc14 sc0 ls1 ws1">Out[9]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">this<span class="_ _3"> </span>is<span class="_ _3"> </span>the<span class="_ _3"> </span>content</span>&apos;</span></div><div class="t m0 x1a h1f y719 ff1d fsf fc5 sc0 ls1 ws1">如果只需要删除右边或者左边的空格，可以分别使用<span class="_ _e"> </span><span class="ff22">rstrip()<span class="_ _a"> </span></span>或<span class="_ _e"> </span><span class="ff22">lstrip()</span>：</div><div class="t m0 x36 h27 y1b2 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[10]:<span class="_ _3"> </span><span class="fc5">line<span class="fcb">.</span>rstrip()</span></div><div class="t m0 x36 h27 yd5 ff22 fsf fc14 sc0 ls1 ws1">Out[10]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="_ _47"> </span><span class="ff22">this<span class="_ _3"> </span>is<span class="_ _3"> </span>the<span class="_ _3"> </span>content</span>&apos;</span></div><div class="t m0 x36 h27 y7c ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[11]:<span class="_ _3"> </span><span class="fc5">line<span class="fcb">.</span>lstrip()</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf5c" class="pf w3 h1b" data-page-no="5c"><div class="pc pc5c w3 h1b"><img class="bi x2a y7c w4 h4e" alt="" src="bg5c.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">15.1.<span class="_ _2c"> </span>PYTHON<span class="_ _a"> </span><span class="ff1e">简易字符串操作<span class="_ _89"> </span><span class="ff1f">83</span></span></div><div class="t m0 x36 h27 y213 ff22 fsf fc14 sc0 ls1 ws1">Out[11]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">this<span class="_ _3"> </span>is<span class="_ _3"> </span>the<span class="_ _3"> </span>content<span class="_ _47"> </span></span>&apos;</span></div><div class="t m0 x1a h1f y71a ff1d fsf fc5 sc0 ls1 ws1">如果要删除的不是空格而是其他字符，向<span class="_ _e"> </span><span class="ff22">strip()<span class="_ _a"> </span></span>函数传递你需要删除的字符作为参数：</div><div class="t m0 x36 h27 y71b ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[12]:<span class="_ _3"> </span><span class="fc5">num<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fc11">&quot;000000000000435&quot;</span></span></span></div><div class="t m0 x51 h27 y71c ff22 fsf fc5 sc0 ls1 ws1">num<span class="fcb">.</span>strip(<span class="ff2a fc11">&apos;<span class="ff22">0</span>&apos;</span>)</div><div class="t m0 x36 h27 y71d ff22 fsf fc14 sc0 ls1 ws1">Out[12]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">435</span>&apos;</span></div><div class="t m0 x1a h1f y71e ff1d fsf fc5 sc0 ls1 ws1">删除空格的反向操作可以通过<span class="_ _e"> </span><span class="ff22">center()</span>、<span class="ff22">ljust()<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff22">rjust()<span class="_ _a"> </span></span>三个函数实现。</div><div class="t m0 x1a h1f y71f ff1d fsf fc5 sc0 ls1 ws1">举例来说，我们可以使用<span class="_ _e"> </span><span class="ff22">center()<span class="_ _a"> </span></span>函数来以一定数量的空格中心对齐一个给定的字符串：</div><div class="t m0 x36 h27 y720 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[13]:<span class="_ _3"> </span><span class="fc5">line<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fc11">&quot;this<span class="_ _2"> </span>is<span class="_ _3"> </span>the<span class="_ _3"> </span>content&quot;</span></span></span></div><div class="t m0 x51 h27 y721 ff22 fsf fc5 sc0 ls1 ws1">line<span class="fcb">.</span>center(<span class="fcb">30</span>)</div><div class="t m0 x36 h27 y722 ff22 fsf fc14 sc0 ls1 ws1">Out[13]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="_ _4f"> </span><span class="ff22">this<span class="_ _3"> </span>is<span class="_ _3"> </span>the<span class="_ _3"> </span>content<span class="_ _48"> </span></span>&apos;</span></div><div class="t m0 x1a h1f y723 ff1d fsf fc5 sc0 ls1 ws1">类似地，<span class="ff22">ljust()<span class="_ _e"> </span></span>和<span class="_ _a"> </span><span class="ff22">rjust()<span class="_ _e"> </span></span>将会以一定长度的空格左对齐或者右对齐字符串：</div><div class="t m0 x36 h27 y724 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[14]:<span class="_ _3"> </span><span class="fc5">line<span class="fcb">.</span>ljust(<span class="fcb">30</span>)</span></div><div class="t m0 x36 h27 y725 ff22 fsf fc14 sc0 ls1 ws1">Out[14]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">this<span class="_ _3"> </span>is<span class="_ _3"> </span>the<span class="_ _3"> </span>content<span class="_ _56"> </span></span>&apos;</span></div><div class="t m0 x36 h27 y726 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[15]:<span class="_ _3"> </span><span class="fc5">line<span class="fcb">.</span>rjust(<span class="fcb">30</span>)</span></div><div class="t m0 x36 h27 y727 ff22 fsf fc14 sc0 ls1 ws1">Out[15]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="_ _56"> </span><span class="ff22">this<span class="_ _3"> </span>is<span class="_ _3"> </span>the<span class="_ _3"> </span>content</span>&apos;</span></div><div class="t m0 x1a h1f y728 ff1d fsf fc5 sc0 ls1 ws1">除此以外，所有这些函数都支持以任意的字符填充空白。比如：</div><div class="t m0 x36 h27 y729 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[16]:<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">435</span>&apos;</span><span class="fcb">.<span class="fc5">rjust(</span>10<span class="fc5">,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">0</span>&apos;</span>)</span></span></div><div class="t m0 x36 h27 y72a ff22 fsf fc14 sc0 ls1 ws1">Out[16]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">0000000435</span>&apos;</span></div><div class="t m0 x1a h1f y72b ff1d fsf fc5 sc0 ls1 ws1">因为填<span class="_ _0"></span>充<span class="_ _e"> </span><span class="ff2d">0<span class="_ _a"> </span></span>是<span class="_ _0"></span>一种常见需<span class="_ _0"></span>求，<span class="ff1f">Python<span class="_ _a"> </span></span>也提供了<span class="_ _a"> </span><span class="ff22">zfill()<span class="_ _a"> </span></span>函数。这<span class="_ _0"></span>个特殊的函<span class="_ _0"></span>数会在字符</div><div class="t m0 x2a h1f y72c ff1d fsf fc5 sc0 ls1 ws1">串左边填充一个全为<span class="_ _e"> </span><span class="ff1f">“0”<span class="_ _a"> </span></span>的字符串：</div><div class="t m0 x36 h27 y153 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[17]:<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">435</span>&apos;</span><span class="fcb">.<span class="fc5">zfill(</span>10<span class="fc5">)</span></span></div><div class="t m0 x36 h27 y155 ff22 fsf fc14 sc0 ls1 ws1">Out[17]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">0000000435</span>&apos;</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf5d" class="pf w3 h1b" data-page-no="5d"><div class="pc pc5d w3 h1b"><img class="bi x2a y211 w4 h6a" alt="" src="bg5d.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">84<span class="_ _88"> </span><span class="ff24">15.<span class="_ _2c"> </span><span class="ff1e">字符串处理和正则表达式</span></span></div><div class="t m0 x2a h25 y309 ff19 fse fc5 sc0 ls1 ws1">15.1.3<span class="_ _3c"> </span><span class="ff1a">查找和替换子字符串</span></div><div class="t m0 x1a h1f y30a ff1d fsf fc5 sc0 ls1 ws1">如果你需要查找一个特定字符在一个字符串出现的次数，<span class="_ _1"></span><span class="ff1f">Python<span class="_ _e"> </span><span class="ff1d">内置的<span class="_ _38"> </span><span class="ff22">find()</span></span>/<span class="ff22">rfind()<span class="ff1d">、</span></span></span></div><div class="t m0 x2a h1f y30b ff22 fsf fc5 sc0 ls1 ws1">index()<span class="ff1f">/</span>rindex()<span class="_ _e"> </span><span class="ff1d">和<span class="_ _a"> </span></span>replace()<span class="_ _e"> </span><span class="ff1d">函数是最好的选择。</span></div><div class="t m0 x1a h1f y72d ff22 fsf fc5 sc0 ls1 ws1">find()<span class="_ _a"> </span><span class="ff1d">和<span class="_ _a"> </span></span>index()<span class="_ _a"> </span><span class="ff1d">函数<span class="_ _0"></span>相似，它<span class="_ _0"></span>们都<span class="_ _0"></span>在一个<span class="_ _0"></span>字符<span class="_ _0"></span>串中搜<span class="_ _0"></span>索一个<span class="_ _0"></span>字符<span class="_ _0"></span>或者一<span class="_ _0"></span>个子串<span class="_ _0"></span>首次<span class="_ _0"></span>出</span></div><div class="t m0 x2a h1f y72e ff1d fsf fc5 sc0 ls1 ws1">现的情况，并且返回子串的索引：</div><div class="t m0 x36 h27 y72f ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[18]:<span class="_ _3"> </span><span class="fc5">line<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">the<span class="_ _2"> </span>quick<span class="_ _3"> </span>brown<span class="_ _3"> </span>fox<span class="_ _3"> </span>jumped<span class="_ _3"> </span>over<span class="_ _3"> </span>a<span class="_ _3"> </span>lazy<span class="_ _3"> </span>dog</span>&apos;</span></span></span></div><div class="t m0 x51 h27 y730 ff22 fsf fc5 sc0 ls1 ws1">line<span class="fcb">.</span>find(<span class="ff2a fc11">&apos;<span class="ff22">fox</span>&apos;</span>)</div><div class="t m0 x36 h27 y731 ff22 fsf fc14 sc0 ls1 ws1">Out[18]:<span class="_ _3"> </span><span class="fc5">16</span></div><div class="t m0 x36 h27 y732 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[19]:<span class="_ _3"> </span><span class="fc5">line<span class="fcb">.</span>index(<span class="ff2a fc11">&apos;<span class="ff22">fox</span>&apos;</span>)</span></div><div class="t m0 x36 h27 y733 ff22 fsf fc14 sc0 ls1 ws1">Out[19]:<span class="_ _3"> </span><span class="fc5">16</span></div><div class="t m0 x1a h1f y734 ff22 fsf fc5 sc0 ls1 ws1">find()<span class="_ _3b"> </span><span class="ff1d">和<span class="_ _8"> </span></span>index()<span class="_ _3b"> </span><span class="ff1d">唯<span class="_ _4a"></span>一<span class="_ _f"></span>的<span class="_ _f"></span>区<span class="_ _f"></span>别<span class="_ _4a"></span>是<span class="_ _f"></span>当<span class="_ _f"></span>要<span class="_ _4a"></span>搜<span class="_ _f"></span>索<span class="_ _f"></span>的<span class="_ _f"></span>字<span class="_ _4a"></span>符<span class="_ _f"></span>串<span class="_ _f"></span>不<span class="_ _4a"></span>存<span class="_ _f"></span>在<span class="_ _f"></span>时<span class="_ _f"></span>这<span class="_ _4a"></span>两<span class="_ _f"></span>个函<span class="_ _f"></span>数<span class="_ _f"></span>的<span class="_ _4a"></span>行<span class="_ _f"></span>为<span class="_ _f"></span>不<span class="_ _4a"></span>同：</span></div><div class="t m0 x2a h1f y735 ff22 fsf fc5 sc0 ls1 ws1">find()<span class="_ _e"> </span><span class="ff1d">返回<span class="_ _a"> </span></span>-1<span class="ff1d">，而<span class="_ _e"> </span></span>index()<span class="_ _a"> </span><span class="ff1d">将会抛出一个<span class="_ _e"> </span></span>ValueError<span class="_ _a"> </span><span class="ff1d">异常：</span></div><div class="t m0 x36 h27 y736 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[20]:<span class="_ _3"> </span><span class="fc5">line<span class="fcb">.</span>find(<span class="ff2a fc11">&apos;<span class="ff22">bear</span>&apos;</span>)</span></div><div class="t m0 x36 h27 y737 ff22 fsf fc14 sc0 ls1 ws1">Out[20]:<span class="_ _3"> </span><span class="fc5">-1</span></div><div class="t m0 x36 h27 y738 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[21]:<span class="_ _3"> </span><span class="fc5">line<span class="fcb">.</span>index(<span class="ff2a fc11">&apos;<span class="ff22">bear</span>&apos;</span>)</span></div><div class="t m0 x46 h27 y739 ff22 fsf fc5 sc0 ls1 ws1">----------------------------------------------------------------------</div><div class="t m0 x46 h27 y73a ff22 fsf fc5 sc0 ls1 ws1">ValueError<span class="_ _7c"> </span>Traceback<span class="_ _3"> </span>(most<span class="_ _3"> </span>recent<span class="_ _3"> </span>call<span class="_ _3"> </span>last)</div><div class="t m0 x46 h27 y73b ff22 fsf fc5 sc0 ls1 ws1">&lt;ipython-input-21-4cbe6ee9b0eb&gt;<span class="_ _3"> </span>in<span class="_ _3"> </span>&lt;module&gt;()</div><div class="t m0 x49 h27 y73c ff22 fsf fc5 sc0 ls1 ws1">----&gt;<span class="_ _3"> </span>1<span class="_ _3"> </span>line.index(<span class="ff2a">&apos;</span>bear<span class="ff2a">&apos;</span>)</div><div class="t m0 x46 h27 y73d ff22 fsf fc5 sc0 ls1 ws1">ValueError:<span class="_ _3"> </span>substring<span class="_ _3"> </span>not<span class="_ _3"> </span>found</div><div class="t m0 x1a h1f y73e ff1d fsf fc5 sc0 ls1 ws1">与之相关的<span class="_ _a"> </span><span class="ff22">rfind()<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff22">rindex()<span class="_ _a"> </span></span>函数与上面<span class="_ _0"></span>两个函数类似，它们会从<span class="_ _0"></span>字符串尾部开始搜</div><div class="t m0 x2a h1f y73f ff1d fsf fc5 sc0 ls1 ws1">索第一次出现的子串，而不是从头部：</div><div class="t m0 x36 h27 y740 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[22]:<span class="_ _3"> </span><span class="fc5">line<span class="fcb">.</span>rfind(<span class="ff2a fc11">&apos;<span class="ff22">a</span>&apos;</span>)</span></div><div class="t m0 x36 h27 y741 ff22 fsf fc14 sc0 ls1 ws1">Out[22]:<span class="_ _3"> </span><span class="fc5">35</span></div><div class="t m0 x1a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">对<span class="_ _38"> </span>字<span class="_ _e"> </span>符<span class="_ _38"> </span>串<span class="_ _e"> </span>开<span class="_ _38"> </span>头<span class="_ _38"> </span>或<span class="_ _e"> </span>结<span class="_ _38"> </span>尾<span class="_ _e"> </span>的<span class="_ _38"> </span>子<span class="_ _e"> </span>串<span class="_ _38"> </span>进<span class="_ _e"> </span>行<span class="_ _38"> </span>检<span class="_ _38"> </span>查<span class="_ _e"> </span>的<span class="_ _38"> </span>特<span class="_ _e"> </span>殊<span class="_ _38"> </span>情<span class="_ _e"> </span>况，<span class="ff1f">Python<span class="_ _2e"> </span></span>提<span class="_ _e"> </span>供<span class="_ _38"> </span>了<span class="_ _38"> </span>两<span class="_ _e"> </span>个<span class="_ _38"> </span>函</div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">数<span class="_ _e"> </span><span class="ff22">startswith()<span class="_ _a"> </span></span>和<span class="_ _e"> </span><span class="ff22">endswith()</span>：</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf5e" class="pf w3 h1b" data-page-no="5e"><div class="pc pc5e w3 h1b"><img class="bi x2a y1f9 w4 h6b" alt="" src="bg5e.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">15.1.<span class="_ _2c"> </span>PYTHON<span class="_ _a"> </span><span class="ff1e">简易字符串操作<span class="_ _89"> </span><span class="ff1f">85</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[23]:<span class="_ _3"> </span><span class="fc5">line<span class="fcb">.</span>endswith(<span class="ff2a fc11">&apos;<span class="ff22">dog</span>&apos;</span>)</span></div><div class="t m0 x36 h27 y138 ff22 fsf fc14 sc0 ls1 ws1">Out[23]:<span class="_ _3"> </span><span class="fc5">True</span></div><div class="t m0 x36 h27 y139 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[24]:<span class="_ _3"> </span><span class="fc5">line<span class="fcb">.</span>startswith(<span class="ff2a fc11">&apos;<span class="ff22">fox</span>&apos;</span>)</span></div><div class="t m0 x36 h27 y13b ff22 fsf fc14 sc0 ls1 ws1">Out[24]:<span class="_ _3"> </span><span class="fc5">False</span></div><div class="t m0 x1a h1f y742 ff1d fsf fc5 sc0 ls1 ws1">进<span class="_ _0"></span>一步<span class="_ _0"></span>地，<span class="_ _0"></span>你可<span class="_ _0"></span>以<span class="_ _0"></span>使<span class="_ _0"></span>用<span class="_ _a"> </span><span class="ff22">replace()<span class="_ _a"> </span></span>函<span class="_ _0"></span>数<span class="_ _0"></span>将一<span class="_ _0"></span>个<span class="_ _0"></span>给<span class="_ _0"></span>定的<span class="_ _0"></span>子<span class="_ _0"></span>串替<span class="_ _0"></span>换<span class="_ _0"></span>为另<span class="_ _0"></span>外<span class="_ _0"></span>一<span class="_ _0"></span>个。在<span class="_ _0"></span>这<span class="_ _0"></span>里我<span class="_ _0"></span>们</div><div class="t m0 x2a h1f y743 ff1d fsf fc5 sc0 ls1 ws1">将<span class="_ _e"> </span><span class="ff2a">&apos;<span class="ff22">brown</span>&apos;<span class="_ _a"> </span></span>替换为<span class="_ _e"> </span><span class="ff2a">&apos;<span class="ff22">red</span>&apos;</span>：</div><div class="t m0 x36 h27 y744 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[25]:<span class="_ _3"> </span><span class="fc5">line<span class="fcb">.</span>replace(<span class="ff2a fc11">&apos;<span class="ff22">brown</span>&apos;</span>,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">red</span>&apos;</span>)</span></div><div class="t m0 x36 h27 y745 ff22 fsf fc14 sc0 ls1 ws1">Out[25]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">the<span class="_ _3"> </span>quick<span class="_ _3"> </span>red<span class="_ _3"> </span>fox<span class="_ _2"> </span>jumped<span class="_ _3"> </span>over<span class="_ _3"> </span>a<span class="_ _3"> </span>lazy<span class="_ _3"> </span>dog</span>&apos;</span></div><div class="t m0 x1a h1f y746 ff22 fsf fc5 sc0 ls1 ws1">replace()<span class="_ _e"> </span><span class="ff1d">函数返回一个新的字符串，并且会替换输入中的所有出现的字符串：</span></div><div class="t m0 x36 h27 y747 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[26]:<span class="_ _3"> </span><span class="fc5">line<span class="fcb">.</span>replace(<span class="ff2a fc11">&apos;<span class="ff22">o</span>&apos;</span>,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">--</span>&apos;</span>)</span></div><div class="t m0 x36 h27 y748 ff22 fsf fc14 sc0 ls1 ws1">Out[26]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;</span></div><div class="t m0 x3 h27 y749 ff22 fsf fc5 sc0 ls1 ws1">the<span class="_ _3"> </span>quick<span class="_ _3"> </span>br--wn<span class="_ _3"> </span>f--x<span class="_ _3"> </span>jumped<span class="_ _2"> </span>--ver<span class="_ _3"> </span>a<span class="_ _3"> </span>lazy<span class="_ _3"> </span>d--g</div><div class="t m0 x61 h27 y748 ff2a fsf fc5 sc0 ls1 ws1">&apos;</div><div class="t m0 x1a h1f y74a ff1d fsf fc5 sc0 ls1 ws1">对于<span class="_ _a"> </span><span class="ff22">replace()<span class="_ _a"> </span></span>函<span class="_ _0"></span>数的<span class="_ _0"></span>更为灵<span class="_ _0"></span>活的<span class="_ _0"></span>用法，<span class="_ _0"></span>请参阅<span class="_ _0"></span>第<span class="_ _a"> </span><span class="ff1f fc6">15.3<span class="_ _a"> </span></span>节关<span class="_ _0"></span>于正则表<span class="_ _0"></span>达式<span class="_ _0"></span>的讨论：<span class="fc6">使<span class="_ _0"></span>用</span></div><div class="t m0 x2a h1f y74b ff1d fsf fc6 sc0 ls1 ws1">正则表达式灵活地匹配字符串模式<span class="fc5">。</span></div><div class="t m0 x2a h25 y74c ff19 fse fc5 sc0 ls1 ws1">15.1.4<span class="_ _3c"> </span><span class="ff1a">拆分和分割字符串</span></div><div class="t m0 x1a h1f y74d ff1d fsf fc5 sc0 ls1 ws1">如<span class="_ _2"> </span>果<span class="_ _2"> </span>你<span class="_ _8"> </span>需<span class="_ _2"> </span>要<span class="_ _2"> </span>寻<span class="_ _2"> </span>找<span class="_ _2"> </span>一<span class="_ _2"> </span>个<span class="_ _2"> </span>子<span class="_ _2"> </span>串，<span class="_ _2"> </span><span class="ff1a">然<span class="_ _2"> </span>后<span class="_ _2"> </span></span>在<span class="_ _2"> </span>子<span class="_ _2"> </span>串<span class="_ _2"> </span>的<span class="_ _2"> </span>位<span class="_ _8"> </span>置<span class="_ _2"> </span>进<span class="_ _2"> </span>行<span class="_ _2"> </span>字<span class="_ _2"> </span>符<span class="_ _2"> </span>串<span class="_ _2"> </span>分<span class="_ _2"> </span>割，</div><div class="t m0 x2a h1f y74e ff22 fsf fc5 sc0 ls1 ws1">partition()<span class="_ _8"> </span><span class="ff1d">和<span class="ff1f">/</span>或<span class="_ _8"> </span></span>split()<span class="_ _8"> </span><span class="ff1d">函<span class="_ _f"></span>数<span class="_ _4a"></span>是<span class="_ _4a"></span>你<span class="_ _f"></span>需<span class="_ _4a"></span>要<span class="_ _4a"></span>寻<span class="_ _4a"></span>找<span class="_ _f"></span>的<span class="_ _4a"></span>解<span class="_ _4a"></span>决<span class="_ _4a"></span>方<span class="_ _f"></span>法。<span class="_ _4a"></span>这<span class="_ _4a"></span>两<span class="_ _f"></span>个函<span class="_ _4a"></span>数<span class="_ _4a"></span>都<span class="_ _4a"></span>会<span class="_ _f"></span>返<span class="_ _4a"></span>回<span class="_ _4a"></span>一<span class="_ _4a"></span>个<span class="_ _f"></span>子</span></div><div class="t m0 x2a h1f y74f ff1d fsf fc5 sc0 ls1 ws1">串序列。</div><div class="t m0 x1a h1f y750 ff22 fsf fc5 sc0 ls1 ws1">partition()<span class="_ _a"> </span><span class="ff1d">函数返回一<span class="_ _0"></span>个三个元素<span class="_ _0"></span>的元组：在待寻<span class="_ _0"></span>找的子串第<span class="_ _0"></span>一次出现的<span class="_ _0"></span>位置（拆分位</span></div><div class="t m0 x2a h1f y751 ff1d fsf fc5 sc0 ls1 ws1">置）之前的子字符串、拆分位置本身以及后面的子字符串：</div><div class="t m0 x36 h27 y752 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[27]:<span class="_ _3"> </span><span class="fc5">line<span class="fcb">.</span>partition(<span class="ff2a fc11">&apos;<span class="ff22">fox</span>&apos;</span>)</span></div><div class="t m0 x36 h27 y753 ff22 fsf fc14 sc0 ls1 ws1">Out[27]:<span class="_ _3"> </span><span class="fc5">(<span class="ff2a">&apos;</span>the<span class="_ _3"> </span>quick<span class="_ _3"> </span>brown<span class="_ _3"> </span><span class="ff2a">&apos;</span>,<span class="_ _2"> </span><span class="ff2a">&apos;</span>fox<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;<span class="_ _3"> </span></span>jumped<span class="_ _3"> </span>over<span class="_ _3"> </span>a<span class="_ _3"> </span>lazy<span class="_ _3"> </span>dog<span class="ff2a">&apos;</span>)</span></div><div class="t m0 x1a h1f y754 ff22 fsf fc5 sc0 ls1 ws1">rpartition()<span class="_ _e"> </span><span class="ff1d">函数与之类似，但是是从右往左搜索字符串。</span></div><div class="t m0 x1a h1f y755 ff22 fsf fc5 sc0 ls1 ws1">split()<span class="_ _e"> </span><span class="ff1d">函数可能更加实用。这个函数寻找<span class="ff1a">所有</span>分割位置的实例并且返回它们之间的子串。</span></div><div class="t m0 x2a h1f y756 ff1d fsf fc5 sc0 ls1 ws1">默<span class="_ _0"></span>认<span class="_ _0"></span>调用<span class="_ _0"></span>这<span class="_ _0"></span>个函<span class="_ _0"></span>数<span class="_ _0"></span>时<span class="_ _0"></span>它<span class="_ _0"></span>以任<span class="_ _0"></span>意<span class="_ _0"></span>空<span class="_ _0"></span>白<span class="_ _0"></span>字<span class="_ _0"></span>符作<span class="_ _0"></span>为<span class="_ _0"></span>分<span class="_ _0"></span>割<span class="_ _0"></span>的<span class="_ _0"></span>依据，<span class="_ _0"></span>返<span class="_ _0"></span>回<span class="_ _0"></span>一<span class="_ _0"></span>个<span class="_ _0"></span>包含<span class="_ _0"></span>字<span class="_ _0"></span>符<span class="_ _0"></span>串<span class="_ _0"></span>中<span class="_ _0"></span>的<span class="_ _0"></span>所有<span class="_ _0"></span>单<span class="_ _0"></span>词</div><div class="t m0 x2a h1f y757 ff1d fsf fc5 sc0 ls1 ws1">的列表：</div><div class="t m0 x36 h27 yd6 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[28]:<span class="_ _3"> </span><span class="fc5">line<span class="fcb">.</span>split()</span></div><a class="l" href="#pf61" data-dest-detail='[97,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:345.288000px;bottom:398.870000px;width:19.394000px;height:6.870000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf61" data-dest-detail='[97,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:501.262000px;bottom:395.759000px;width:22.014000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf61" data-dest-detail='[97,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:379.500000px;width:163.636000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf5f" class="pf w3 h1b" data-page-no="5f"><div class="pc pc5f w3 h1b"><img class="bi x2a y566 w4 h6c" alt="" src="bg5f.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">86<span class="_ _88"> </span><span class="ff24">15.<span class="_ _2c"> </span><span class="ff1e">字符串处理和正则表达式</span></span></div><div class="t m0 x36 h27 y212 ff22 fsf fc14 sc0 ls1 ws1">Out[28]:<span class="_ _3"> </span><span class="fc5">[<span class="ff2a">&apos;</span>the<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>quick<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>brown<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>fox<span class="ff2a">&apos;</span>,<span class="_ _2"> </span><span class="ff2a">&apos;</span>jumped<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>over<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>a<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>lazy<span class="ff2a">&apos;</span>,</span></div><div class="t m0 x3 h27 y213 ff2a fsf fc5 sc0 ls1 ws1">&apos;<span class="ff22">dog</span>&apos;<span class="ff22">]</span></div><div class="t m0 x1a h1f y758 ff1d fsf fc5 sc0 ls1 ws1">与之相关的一个函数是<span class="_ _a"> </span><span class="ff22">splitlines()</span>，它对换行符进行分割。让我们<span class="_ _0"></span>对<span class="_ _e"> </span><span class="ff1f">17<span class="_ _a"> </span></span>世纪著名的俳</div><div class="t m0 x2a h1f y759 ff1d fsf fc5 sc0 ls1 ws1">句诗人松尾芭蕉（まつお<span class="_ _e"> </span>ばしょう，</div><div class="t m0 x88 h22 y75a ff1f fsf fc5 sc0 ls1 ws1">Matsuo<span class="_ _e"> </span>Bash¯<span class="_ _c"></span>o</div><div class="t m0 x4e h1f y759 ff1d fsf fc5 sc0 ls1 ws1">）的一首俳句进行分割：</div><div class="t m0 x36 h27 y75b ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[29]:<span class="_ _3"> </span><span class="fc5">haiku<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fc11">&quot;&quot;&quot;matsushima-ya</span></span></span></div><div class="t m0 x51 h27 y75c ff22 fsf fc11 sc0 ls1 ws1">aah<span class="_ _3"> </span>matsushima-ya</div><div class="t m0 x51 h27 y75d ff22 fsf fc11 sc0 ls1 ws1">matsushima-ya&quot;&quot;&quot;</div><div class="t m0 x51 h27 y75e ff22 fsf fc5 sc0 ls1 ws1">haiku<span class="fcb">.</span>splitlines()</div><div class="t m0 x36 h27 y75f ff22 fsf fc14 sc0 ls1 ws1">Out[29]:<span class="_ _3"> </span><span class="fc5">[<span class="ff2a">&apos;</span>matsushima-ya<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>aah<span class="_ _3"> </span>matsushima-ya<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>matsushima-ya<span class="ff2a">&apos;</span>]</span></div><div class="t m0 x1a h1f y760 ff1d fsf fc5 sc0 ls1 ws1">注意，如果<span class="_ _0"></span>你希望撤销<span class="_ _a"> </span><span class="ff22">split()<span class="_ _a"> </span></span>的结果，你可以<span class="_ _0"></span>使用<span class="_ _e"> </span><span class="ff22">join()<span class="_ _a"> </span></span>函数，这<span class="_ _0"></span>个函数将返回一<span class="_ _0"></span>个</div><div class="t m0 x2a h1f y761 ff1d fsf fc5 sc0 ls1 ws1">由一个分割位置和一个可迭代对象组成的字符串：</div><div class="t m0 x36 h27 y762 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[30]:<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">--</span>&apos;</span><span class="fcb">.<span class="fc5">join([<span class="ff2a fc11">&apos;<span class="ff22">1</span>&apos;</span>,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">2</span>&apos;</span>,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">3</span>&apos;</span>])</span></span></div><div class="t m0 x36 h27 y763 ff22 fsf fc14 sc0 ls1 ws1">Out[30]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">1--2--3</span>&apos;</span></div><div class="t m0 x1a h1f y764 ff1d fsf fc5 sc0 ls1 ws1">一个常见的模式是使用换行符<span class="_ _e"> </span><span class="ff22">&quot;\n&quot;<span class="_ _a"> </span></span>来连接之前分割过的字符串，这样可以恢复原始输入：</div><div class="t m0 x36 h27 y765 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[31]:<span class="_ _3"> </span><span class="fc9">print<span class="fc5">(<span class="fc11">&quot;<span class="ff29 fc17">\n</span>&quot;<span class="fcb">.</span></span>join([<span class="ff2a fc11">&apos;<span class="ff22">matsushima-ya</span>&apos;</span>,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">aah<span class="_ _3"> </span>matsushima-ya</span>&apos;</span>,</span></span></div><div class="t m0 x89 h27 y766 ff2a fsf fc11 sc0 ls1 ws1">&apos;<span class="ff22">matsushima-ya</span>&apos;<span class="ff22 fc5">]))</span></div><div class="t m0 x36 h27 y767 ff22 fsf fc5 sc0 ls1 ws1">matsushima-ya</div><div class="t m0 x36 h27 y768 ff22 fsf fc5 sc0 ls1 ws1">aah<span class="_ _3"> </span>matsushima-ya</div><div class="t m0 x36 h27 y769 ff22 fsf fc5 sc0 ls1 ws1">matsushima-ya</div><div class="t m0 x2a h23 y76a ff19 fsd fc5 sc0 ls1 ws1">15.2<span class="_ _15"> </span><span class="ff1a">格式化字符串</span></div><div class="t m0 x1a h1f y76b ff1d fsf fc5 sc0 ls1 ws1">在对上述函数的讨论中，<span class="_ _37"></span>我们已经学会了如何从字符串中提取值，<span class="_ _36"></span>并对字符串进行操作以转</div><div class="t m0 x2a h1f y76c ff1d fsf fc5 sc0 ls1 ws1">换为需要的格式。<span class="_ _41"></span>另外一个字符串函数的使用是对字符串其他类型的值的<span class="ff1e">表示<span class="_ _34"></span><span class="ff1d">（<span class="ff1f">representation</span>）</span></span></div><div class="t m0 x2a h1f y76d ff1d fsf fc5 sc0 ls1 ws1">进行操作。当然，字符串表示总是可以通过</div><div class="t m0 x6a h27 y76e ff22 fsf fc5 sc0 ls1 ws1">str()</div><div class="t m0 x66 h1f y76d ff1d fsf fc5 sc0 ls1 ws1">函数生成，比如：</div><div class="t m0 x36 h27 y76f ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[32]:<span class="_ _3"> </span><span class="fc5">pi<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span>3.14159</span></span></div><div class="t m0 x51 h27 y770 ff22 fsf fc9 sc0 ls1 ws1">str<span class="fc5">(pi)</span></div><div class="t m0 x36 h27 y771 ff22 fsf fc14 sc0 ls1 ws1">Out[32]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">3.14159</span>&apos;</span></div><div class="t m0 x1a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">对<span class="_ _0"></span>于<span class="_ _0"></span>更<span class="_ _0"></span>加<span class="_ _0"></span>复<span class="_ _0"></span>杂<span class="_ _0"></span>的<span class="_ _0"></span>格<span class="_ _0"></span>式，<span class="_ _0"></span>你<span class="_ _0"></span>可以<span class="_ _0"></span>使<span class="_ _0"></span>用<span class="_ _0"></span>第<span class="_ _10"> </span><span class="ff1f fc6">5<span class="_ _3b"> </span></span>章<span class="fc6">基<span class="_ _0"></span>础<span class="_ _10"> </span><span class="ff1f">Python<span class="_ _10"> </span></span>语<span class="_ _0"></span>法：<span class="_ _0"></span>运<span class="_ _0"></span>算<span class="_ _0"></span>符</span>中<span class="_ _0"></span>介<span class="_ _0"></span>绍<span class="_ _0"></span>过<span class="_ _0"></span>的<span class="_ _0"></span>字符<span class="_ _0"></span>串</div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">的算术运算符：</div><a class="l" href="#pf1c" data-dest-detail='[28,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:279.047000px;bottom:88.259000px;width:5.454000px;height:6.870000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1c" data-dest-detail='[28,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:299.686000px;bottom:85.148000px;width:133.113000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf60" class="pf w3 h1b" data-page-no="60"><div class="pc pc60 w3 h1b"><img class="bi x2a y156 w4 h6d" alt="" src="bg60.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">15.2.<span class="_ _2c"> </span><span class="ff1e">格式化字符串<span class="_ _81"> </span><span class="ff1f">87</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[33]:<span class="_ _3"> </span><span class="fc11">&quot;The<span class="_ _3"> </span>value<span class="_ _3"> </span>of<span class="_ _2"> </span>pi<span class="_ _3"> </span>is<span class="_ _3"> </span>&quot;<span class="_ _3"> </span><span class="fcb">+<span class="_ _3"> </span><span class="fc9">str<span class="fc5">(pi)</span></span></span></span></div><div class="t m0 x36 h27 y138 ff22 fsf fc14 sc0 ls1 ws1">Out[33]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">The<span class="_ _3"> </span>value<span class="_ _3"> </span>of<span class="_ _3"> </span>pi<span class="_ _2"> </span>is<span class="_ _3"> </span>3.14159</span>&apos;</span></div><div class="t m0 x1a h1f y772 ff1d fsf fc5 sc0 ls1 ws1">一<span class="_ _0"></span>个更<span class="_ _0"></span>加<span class="_ _0"></span>灵活<span class="_ _0"></span>的<span class="_ _0"></span>方法<span class="_ _0"></span>是<span class="_ _0"></span>使用格<span class="_ _0"></span>式<span class="_ _0"></span>化字<span class="_ _0"></span>符<span class="_ _0"></span>串。这<span class="_ _0"></span>是<span class="_ _0"></span>由<span class="_ _0"></span>花括<span class="_ _0"></span>号<span class="_ _0"></span>表示<span class="_ _0"></span>的<span class="_ _0"></span>特殊<span class="_ _0"></span>标<span class="_ _0"></span>记组<span class="_ _0"></span>成<span class="_ _0"></span>的字<span class="_ _0"></span>符<span class="_ _0"></span>串，</div><div class="t m0 x2a h1f y773 ff1d fsf fc5 sc0 ls1 ws1">代表将要插入字符串格式化后的值。这里有一个简单的例子：</div><div class="t m0 x36 h27 y774 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[34]:<span class="_ _3"> </span><span class="fc11">&quot;The<span class="_ _3"> </span>value<span class="_ _3"> </span>of<span class="_ _2"> </span>pi<span class="_ _3"> </span>is<span class="_ _3"> </span><span class="ff29 fc15">{}</span>&quot;<span class="fcb">.<span class="fc5">format(pi)</span></span></span></div><div class="t m0 x36 h27 y775 ff22 fsf fc14 sc0 ls1 ws1">Out[34]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">The<span class="_ _3"> </span>value<span class="_ _3"> </span>of<span class="_ _3"> </span>pi<span class="_ _2"> </span>is<span class="_ _3"> </span>3.14159</span>&apos;</span></div><div class="t m0 x1a h1f y776 ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _a"> </span><span class="ff22">{}<span class="_ _e"> </span></span>标记<span class="_ _0"></span>内部你也可以包<span class="_ _0"></span>括希望在那里出现<span class="_ _0"></span>的确切的信息</div><div class="t m0 x8a h26 y777 ff26 fs10 fc6 sc0 ls1 ws1">1</div><div class="t m0 x8b h1f y776 ff1d fsf fc5 sc0 ls1 ws1">。如果你<span class="_ _0"></span>包括了一个数字，它</div><div class="t m0 x2a h1f y778 ff1d fsf fc5 sc0 ls1 ws1">指向的是带插入的参数的索引：</div><div class="t m0 x36 h27 y779 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[35]:<span class="_ _3"> </span><span class="ff2c fc11">&quot;&quot;&quot;First<span class="_ _3"> </span>letter:<span class="_ _3"> </span>{0}.<span class="_ _2"> </span>Last<span class="_ _3"> </span>letter:<span class="_ _3"> </span>{1}.&quot;&quot;&quot;<span class="_ _4b"> </span></span><span class="fcb">.<span class="fc5">format(<span class="ff2a fc11">&apos;<span class="ff22">A</span>&apos;</span>,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">Z</span>&apos;</span>)</span></span></div><div class="t m0 x36 h27 y77a ff22 fsf fc14 sc0 ls1 ws1">Out[35]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">First<span class="_ _3"> </span>letter:<span class="_ _3"> </span>A.<span class="_ _3"> </span>Last<span class="_ _2"> </span>letter:<span class="_ _3"> </span>Z.</span>&apos;</span></div><div class="t m0 x1a h1f y77b ff1d fsf fc5 sc0 ls1 ws1">如果你在大括号中包括了一个字符串，它会指向任何关键字参数的键：</div><div class="t m0 x36 h27 y77c ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[36]:<span class="_ _3"> </span><span class="ff2c fc11">&quot;&quot;&quot;First<span class="_ _3"> </span>letter:<span class="_ _3"> </span>{first}.<span class="_ _2"> </span>Last<span class="_ _3"> </span>letter:<span class="_ _3"> </span>{last}.&quot;&quot;&quot;<span class="_ _4b"> </span></span><span class="fcb">.<span class="fc5">format(</span></span></div><div class="t m0 x51 h27 y77d ff22 fsf fc5 sc0 ls1 ws1">last<span class="fcb">=<span class="ff2a fc11">&apos;<span class="ff22">Z</span>&apos;</span></span>,<span class="_ _3"> </span>first<span class="fcb">=<span class="ff2a fc11">&apos;<span class="ff22">A</span>&apos;</span></span>)</div><div class="t m0 x36 h27 y77e ff22 fsf fc14 sc0 ls1 ws1">Out[36]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">First<span class="_ _3"> </span>letter:<span class="_ _3"> </span>A.<span class="_ _3"> </span>Last<span class="_ _2"> </span>letter:<span class="_ _3"> </span>Z.</span>&apos;</span></div><div class="t m0 x1a h1f y77f ff1d fsf fc5 sc0 ls1 ws1">最后，对<span class="_ _0"></span>于数字的<span class="_ _0"></span>输入，你可<span class="_ _0"></span>以使用格<span class="_ _0"></span>式化代码<span class="_ _0"></span>来控制数字<span class="_ _0"></span>转换为字<span class="_ _0"></span>符串的格<span class="_ _0"></span>式。比如要</div><div class="t m0 x2a h1f y780 ff1d fsf fc5 sc0 ls1 ws1">打印一个小数点后保留<span class="_ _e"> </span><span class="ff2d">3<span class="_ _a"> </span></span>位的浮点数，你可以使用如下格式化字符串：</div><div class="t m0 x36 h27 y781 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[37]:<span class="_ _3"> </span><span class="fc11">&quot;pi<span class="_ _3"> </span>=<span class="_ _3"> </span><span class="ff29 fc15">{0:.3f}</span>&quot;<span class="fcb">.<span class="fc5">format(pi)</span></span></span></div><div class="t m0 x36 h27 y782 ff22 fsf fc14 sc0 ls1 ws1">Out[37]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">pi<span class="_ _3"> </span>=<span class="_ _3"> </span>3.142</span>&apos;</span></div><div class="t m0 x1a h1f y783 ff1d fsf fc5 sc0 ls1 ws1">像之<span class="_ _0"></span>前讨<span class="_ _0"></span>论的<span class="_ _0"></span>那样，<span class="_ _0"></span>这里的<span class="_ _10"> </span><span class="ff22">0<span class="_ _a"> </span></span>指的<span class="_ _0"></span>是将<span class="_ _0"></span>要插<span class="_ _0"></span>入的参<span class="_ _0"></span>数的索引，<span class="_ _0"></span>冒号<span class="_ _0"></span>（<span class="ff22">:</span>）标<span class="_ _0"></span>记了<span class="_ _0"></span>后面<span class="_ _0"></span>将会</div><div class="t m0 x2a h1f y784 ff1d fsf fc5 sc0 ls1 ws1">跟着格式化代码，<span class="ff22">.3f<span class="_ _e"> </span></span>编码了需要的精度信息：小数点后保留<span class="_ _a"> </span><span class="ff2d">3<span class="_ _e"> </span></span>位小数的浮点数。</div><div class="t m0 x1a h1f y785 ff1d fsf fc5 sc0 ls1 ws1">这<span class="_ _f"></span>种<span class="_ _f"></span>格<span class="_ _f"></span>式<span class="_ _f"></span>规<span class="_ _f"></span>范<span class="_ _f"></span>非<span class="_ _f"></span>常<span class="_ _f"></span>灵<span class="_ _f"></span>活。<span class="_ _f"></span>我<span class="_ _f"></span>们<span class="_ _f"></span>在<span class="_ _f"></span>这<span class="_ _f"></span>里<span class="_ _f"></span>举<span class="_ _f"></span>的<span class="_ _f"></span>例<span class="_ _f"></span>子<span class="_ _f"></span>还<span class="_ _f"></span>不<span class="_ _f"></span>足<span class="_ _f"></span>以<span class="_ _f"></span>介<span class="_ _f"></span>绍<span class="_ _f"></span>全<span class="_ _f"></span>部<span class="_ _f"></span>的<span class="_ _f"></span>字<span class="_ _f"></span>符<span class="_ _f"></span>串<span class="_ _f"></span>格<span class="_ _f"></span>式<span class="_ _f"></span>化<span class="_ _f"></span>的语</div><div class="t m0 x2a h1f y786 ff1d fsf fc5 sc0 ls1 ws1">法。<span class="_ _0"></span>对于<span class="_ _0"></span>更多<span class="_ _0"></span>信息，<span class="_ _0"></span>请查<span class="_ _0"></span>阅<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>官<span class="_ _0"></span>方文<span class="_ _0"></span>档中<span class="_ _0"></span>字<span class="_ _0"></span>符串<span class="_ _0"></span>格式<span class="_ _0"></span>化格<span class="_ _0"></span>式说<span class="_ _0"></span>明一<span class="_ _0"></span>节：<span class="ff22 fc7">https://docs.</span></div><div class="t m0 x2a h1f y787 ff22 fsf fc7 sc0 ls1 ws1">python.org/3/library/string.html#formatspec<span class="ff1d fc5">。</span></div><div class="t m0 x37 h28 y15f ff27 fs11 fc5 sc0 ls1 ws1">1</div><div class="t m0 x2f h29 y117 ff1d fs12 fc5 sc0 ls1 ws1">译者<span class="_ _0"></span>注：在<span class="_ _0"></span>本书<span class="_ _0"></span>翻译<span class="_ _0"></span>时<span class="_ _38"> </span><span class="ff28">Python<span class="_ _e"> </span></span>更<span class="_ _0"></span>新至<span class="_ _e"> </span><span class="ff28">3.6<span class="_ _e"> </span></span>版<span class="_ _0"></span>本，该<span class="_ _0"></span>版本<span class="_ _0"></span>提供了<span class="ff1e">字<span class="_ _0"></span>符串<span class="_ _0"></span>内插<span class="_ _0"></span></span>（<span class="ff28">string<span class="_ _38"> </span>interpolation</span>）<span class="_ _0"></span>功能，<span class="_ _0"></span>可</div><div class="t m0 x2a h29 yf6 ff1d fs12 fc5 sc0 ls1 ws1">以使用<span class="_ _35"> </span><span class="ff2b">f<span class="ff32">&apos;</span>The<span class="_ _8"> </span>value<span class="_ _3b"> </span>of<span class="_ _3b"> </span>pi<span class="_ _3b"> </span>is<span class="_ _8"> </span>{pi}<span class="ff32">&apos;<span class="_ _35"> </span></span></span>来实现上述例子同样的效果。详情请参阅网址：<span class="_ _4"></span><span class="ff2b fc7">https://www.python.org/</span></div><div class="t m0 x2a h29 y7c ff2b fs12 fc7 sc0 ls1 ws1">dev/peps/pep-<span class="_ _0"></span>0498/<span class="ff1d fc5">。</span></div><a class="l" href="#pf60" data-dest-detail='[96,"XYZ",88.59,111.45,null]'><div class="d m7" style="border-style:none;position:absolute;left:375.999000px;bottom:554.566000px;width:4.235000px;height:5.137000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://docs.python.org/3/library/string.html#formatspec"><div class="d m7" style="border-style:none;position:absolute;left:448.821000px;bottom:135.291000px;width:74.455000px;height:10.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://docs.python.org/3/library/string.html#formatspec"><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:119.032000px;width:246.273000px;height:10.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://www.python.org/dev/peps/pep-0498/"><div class="d m7" style="border-style:none;position:absolute;left:415.007000px;bottom:83.158000px;width:108.269000px;height:8.219000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://www.python.org/dev/peps/pep-0498/"><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:70.007000px;width:85.230000px;height:8.220000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf61" class="pf w3 h1b" data-page-no="61"><div class="pc pc61 w3 h1b"><img class="bi x2a y1f9 w4 h6e" alt="" src="bg61.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">88<span class="_ _88"> </span><span class="ff24">15.<span class="_ _2c"> </span><span class="ff1e">字符串处理和正则表达式</span></span></div><div class="t m0 x2a h23 yf7 ff19 fsd fc5 sc0 ls1 ws1">15.3<span class="_ _15"> </span><span class="ff1a">使用正则表达式灵活地匹配字符串模式</span></div><div class="t m0 x1a h1f yf8 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _a"> </span><span class="ff1d">的<span class="_ _a"> </span><span class="ff22">str<span class="_ _a"> </span></span>类型<span class="_ _0"></span>给你<span class="_ _0"></span>提供了<span class="_ _0"></span>一系<span class="_ _0"></span>列强大<span class="_ _0"></span>的字<span class="_ _0"></span>符串格<span class="_ _0"></span>式化、<span class="_ _0"></span>分割和<span class="_ _0"></span>操作<span class="_ _0"></span>字符串<span class="_ _0"></span>数据<span class="_ _0"></span>的函</span></div><div class="t m0 x2a h1f yf9 ff1d fsf fc5 sc0 ls1 ws1">数。但<span class="_ _0"></span>是<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>还有更<span class="_ _0"></span>强大的<span class="_ _0"></span>工具，这<span class="_ _0"></span>就是正则<span class="_ _0"></span>表达式<span class="_ _0"></span>模块。正则<span class="_ _0"></span>表达式<span class="_ _0"></span>是一个<span class="_ _0"></span>很庞大<span class="_ _0"></span>的话</div><div class="t m0 x2a h1f yfa ff1d fsf fc5 sc0 ls1 ws1">题。有<span class="_ _0"></span>许多书<span class="_ _0"></span>整本都<span class="_ _0"></span>是围绕<span class="_ _0"></span>这个话题<span class="_ _0"></span>进行展<span class="_ _0"></span>开（比如<span class="_ _a"> </span><span class="ff1f">Jeﬀrey<span class="_ _a"> </span>E.F.<span class="_ _a"> </span>F<span class="_ _9"></span>riedl<span class="_ _a"> </span><span class="ff1d">的<span class="_ _a"> </span><span class="ff20 fc7">Mastering<span class="_ _10"> </span>R<span class="_ _5"></span>e<span class="_ _4"></span>gular</span></span></span></div><div class="t m0 x2a h1f yfb ff20 fsf fc7 sc0 ls1 ws1">Expr<span class="_ _5"></span>essions<span class="_ _0"></span><span class="ff1d fc5">，因此在短短一节内讲完全部的知识几乎是不可能的。</span></div><div class="t m0 x1a h1f yfc ff1d fsf fc5 sc0 ls1 ws1">本<span class="_ _4a"></span>节<span class="_ _4a"></span>的<span class="_ _4a"></span>目<span class="_ _55"></span>标<span class="_ _4a"></span>是<span class="_ _4a"></span>介<span class="_ _4a"></span>绍<span class="_ _4a"></span>一<span class="_ _55"></span>些<span class="_ _4a"></span>可<span class="_ _4a"></span>以<span class="_ _4a"></span>通<span class="_ _55"></span>过正<span class="_ _4a"></span>则<span class="_ _4a"></span>表<span class="_ _4a"></span>达<span class="_ _4a"></span>式<span class="_ _55"></span>解<span class="_ _4a"></span>决<span class="_ _4a"></span>的<span class="_ _4a"></span>问<span class="_ _55"></span>题，<span class="_ _4a"></span>以<span class="_ _4a"></span>及<span class="_ _4a"></span>一<span class="_ _4a"></span>些<span class="_ _55"></span>基<span class="_ _4a"></span>本<span class="_ _4a"></span>方<span class="_ _4a"></span>法<span class="_ _55"></span>指<span class="_ _4a"></span>导<span class="_ _4a"></span>你</div><div class="t m0 x2a h1f yfd ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _5f"> </span><span class="ff1f">Python<span class="_ _35"> </span></span>中解决它们。<span class="_ _d"></span>在本章最后，<span class="_ _d"></span>我将为之后的学习提供一些参考资料，<span class="_ _45"></span>请参阅第<span class="_ _5f"> </span><span class="ff1f fc6">15.3.3<span class="_ _35"> </span></span>节<span class="fc6">关</span></div><div class="t m0 x2a h1f y788 ff1d fsf fc6 sc0 ls1 ws1">于正则表达式的更多资源<span class="fc5">。</span></div><div class="t m0 x1a h1f y789 ff1d fsf fc5 sc0 ls1 ws1">从<span class="_ _0"></span>根<span class="_ _f"></span>本<span class="_ _f"></span>上<span class="_ _f"></span>说，正<span class="_ _0"></span>则<span class="_ _f"></span>表<span class="_ _f"></span>达<span class="_ _0"></span>式<span class="_ _f"></span>是<span class="_ _f"></span>一<span class="_ _f"></span>种<span class="_ _0"></span>解<span class="_ _f"></span>决<span class="_ _f"></span>在<span class="_ _f"></span>字<span class="_ _0"></span>符<span class="_ _f"></span>串<span class="_ _f"></span>中<span class="_ _f"></span>进<span class="_ _0"></span>行<span class="_ _f"></span>灵<span class="_ _f"></span>活<span class="_ _f"></span>的<span class="ff1e">模<span class="_ _0"></span>式<span class="_ _f"></span>匹<span class="_ _f"></span>配<span class="_ _0"></span></span>（<span class="ff1f">pattern<span class="_ _3b"> </span>match-</span></div><div class="t m0 x2a h22 y78a ff1f fsf fc5 sc0 ls1 ws1">ing</div><div class="t m0 x17 h1f y78b ff1d fsf fc5 sc0 ls1 ws1">）<span class="_ _4a"></span>的<span class="_ _55"> </span>方<span class="_ _55"></span>法。<span class="_ _4a"></span>如<span class="_ _55"> </span>果<span class="_ _55"></span>你<span class="_ _4a"></span>经<span class="_ _55"> </span>常<span class="_ _55"></span>使<span class="_ _4a"></span>用<span class="_ _55"> </span>命<span class="_ _55"></span>令<span class="_ _4a"></span>行，<span class="_ _55"> </span>你<span class="_ _4a"></span>可<span class="_ _55"> </span>能<span class="_ _55"> </span>会<span class="_ _4a"></span>对<span class="_ _55"> </span>带</div><div class="t m0 x6c h27 y78a ff22 fsf fc5 sc0 ls1 ws1">*</div><div class="t m0 x75 h1f y78b ff1d fsf fc5 sc0 ls1 ws1">字<span class="_ _4a"></span>符<span class="_ _55"> </span>进<span class="_ _55"></span>行<span class="_ _4a"></span>灵<span class="_ _55"> </span>活<span class="_ _55"></span>的<span class="_ _4a"></span>字<span class="_ _55"> </span>符<span class="_ _55"></span>串<span class="_ _4a"></span>匹<span class="_ _55"> </span>配<span class="_ _55"></span>有</div><div class="t m0 x2a h1f y78c ff1d fsf fc5 sc0 ls1 ws1">印<span class="_ _55"></span>象。<span class="_ _4a"></span>在<span class="_ _55"> </span>这<span class="_ _55"> </span>里<span class="_ _3"> </span><span class="ff22">*<span class="_ _2"> </span></span>是<span class="_ _4a"></span>一<span class="_ _55"> </span>个<span class="ff1e">通<span class="_ _55"> </span>配<span class="_ _55"> </span>符<span class="_ _55"> </span></span>（<span class="ff1f">wildcard</span>）。<span class="_ _55"> </span>举<span class="_ _55"> </span>例<span class="_ _55"> </span>来<span class="_ _55"></span>说，<span class="_ _4a"></span>我<span class="_ _55"> </span>们<span class="_ _55"> </span>可<span class="_ _55"> </span>以<span class="_ _55"> </span>列<span class="_ _55"> </span>出<span class="_ _55"> </span>所<span class="_ _55"></span>有<span class="_ _4a"></span>文<span class="_ _55"> </span>件<span class="_ _55"> </span>名<span class="_ _55"> </span>中<span class="_ _55"> </span>带</div><div class="t m0 x2a h1f y78d ff1d fsf fc5 sc0 ls1 ws1">有<span class="_ _8"> </span><span class="ff1f">“Python”<span class="_ _8"> </span></span>的<span class="_ _8"> </span><span class="ff1f">IPython<span class="_ _3b"> </span></span>记<span class="_ _4a"></span>事<span class="_ _4a"></span>本<span class="_ _f"></span>（即<span class="_ _4a"></span>带<span class="_ _4a"></span>有<span class="_ _8"> </span><span class="ff22">.ipynb<span class="_ _8"> </span></span>扩<span class="_ _f"></span>展<span class="_ _4a"></span>名<span class="_ _f"></span>的<span class="_ _4a"></span>文<span class="_ _f"></span>件）<span class="_ _34"></span>，<span class="_ _f"></span>这<span class="_ _4a"></span>可<span class="_ _4a"></span>以<span class="_ _f"></span>通<span class="_ _4a"></span>过<span class="_ _4a"></span>使<span class="_ _f"></span>用<span class="_ _8"> </span><span class="ff22">*<span class="_ _8"> </span></span>通</div><div class="t m0 x2a h1f y78e ff1d fsf fc5 sc0 ls1 ws1">配符来匹配文件名中的其他字符：</div><div class="t m0 x36 h27 y78f ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[38]:<span class="_ _3"> </span><span class="fcb">!<span class="fc5">ls<span class="_ _3"> </span>*Python*.ipynb</span></span></div><div class="t m0 x36 h27 y790 ff22 fsf fc5 sc0 ls1 ws1">01-How-to-Run-Python-Code.ipynb<span class="_ _3"> </span>02-Basic-Python-Syntax.ipynb</div><div class="t m0 x1a h1f y791 ff1d fsf fc5 sc0 ls1 ws1">正<span class="_ _0"></span>则表<span class="_ _0"></span>达<span class="_ _0"></span>式扩<span class="_ _0"></span>展<span class="_ _0"></span>了“通<span class="_ _0"></span>配<span class="_ _0"></span>符”这<span class="_ _0"></span>一<span class="_ _0"></span>个概<span class="_ _0"></span>念，<span class="_ _0"></span>形成<span class="_ _0"></span>了<span class="_ _0"></span>一套<span class="_ _0"></span>更<span class="_ _0"></span>广<span class="_ _0"></span>泛的<span class="_ _0"></span>灵<span class="_ _0"></span>活字<span class="_ _0"></span>符<span class="_ _0"></span>串匹<span class="_ _0"></span>配<span class="_ _0"></span>的语法。</div><div class="t m0 x2a h1f y792 ff1f fsf fc5 sc0 ls1 ws1">Python<span class="_ _a"> </span><span class="ff1d">支持正则表达式的接口存放在内置<span class="_ _0"></span>的<span class="_ _e"> </span><span class="ff22">re<span class="_ _a"> </span></span>模块中。我们首先来看一个简单<span class="_ _0"></span>的例子，这个</span></div><div class="t m0 x2a h1f y793 ff1d fsf fc5 sc0 ls1 ws1">例子实现了与字符串<span class="_ _e"> </span><span class="ff22">split()<span class="_ _a"> </span></span>函数相同的功能：</div><div class="t m0 x36 h27 y794 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[39]:<span class="_ _3"> </span><span class="ff29 fc9">import<span class="_ _3"> </span><span class="fca">re</span></span></div><div class="t m0 x51 h27 y795 ff22 fsf fc5 sc0 ls1 ws1">regex<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>re<span class="fcb">.</span>compile(<span class="ff2a fc11">&apos;<span class="ff22">\s+</span>&apos;</span>)</div><div class="t m0 x51 h27 y796 ff22 fsf fc5 sc0 ls1 ws1">regex<span class="fcb">.</span>split(line)</div><div class="t m0 x36 h27 y797 ff22 fsf fc14 sc0 ls1 ws1">Out[39]:<span class="_ _3"> </span><span class="fc5">[<span class="ff2a">&apos;</span>the<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>quick<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>brown<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>fox<span class="ff2a">&apos;</span>,<span class="_ _2"> </span><span class="ff2a">&apos;</span>jumped<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>over<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>a<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>lazy<span class="ff2a">&apos;</span>,</span></div><div class="t m0 x3 h27 y798 ff2a fsf fc5 sc0 ls1 ws1">&apos;<span class="ff22">dog</span>&apos;<span class="ff22">]</span></div><div class="t m0 x1a h1f y799 ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _5f"> </span>这<span class="_ _5f"> </span>里<span class="_ _5f"> </span>我<span class="_ _5f"> </span>们<span class="_ _5f"> </span>首<span class="_ _5f"> </span>先<span class="ff1e">编<span class="_ _35"> </span>译<span class="_ _87"> </span></span>（<span class="ff1f">compile</span>）<span class="_ _5f"> </span>了<span class="_ _35"> </span>一<span class="_ _87"> </span>个正<span class="_ _5f"> </span>则<span class="_ _35"> </span>表<span class="_ _87"> </span>达<span class="_ _35"> </span>式，<span class="_ _87"> </span>然<span class="_ _5f"> </span>后<span class="_ _35"> </span>用<span class="_ _87"> </span>它<span class="_ _5f"> </span>来<span class="_ _35"> </span>分<span class="_ _87"> </span>割<span class="_ _5f"> </span>字<span class="_ _35"> </span>符<span class="_ _87"> </span>串。</div><div class="t m0 x2a h1f y79a ff1d fsf fc5 sc0 ls1 ws1">和<span class="_ _3b"> </span><span class="ff1f">Python<span class="_ _8"> </span></span>的<span class="_ _3b"> </span><span class="ff22">split()<span class="_ _3b"> </span></span>函<span class="_ _f"></span>数<span class="_ _4a"></span>一<span class="_ _f"></span>样，<span class="_ _f"></span>它<span class="_ _f"></span>返<span class="_ _f"></span>回<span class="_ _f"></span>了<span class="_ _f"></span>一<span class="_ _f"></span>个<span class="_ _f"></span>包<span class="_ _4a"></span>含<span class="_ _f"></span>所<span class="_ _f"></span>有<span class="_ _f"></span>空<span class="_ _f"></span>格<span class="_ _f"></span>之<span class="_ _f"></span>间<span class="_ _f"></span>的<span class="_ _4a"></span>子<span class="_ _f"></span>串<span class="_ _f"></span>的列<span class="_ _f"></span>表，正<span class="_ _f"></span>则<span class="_ _f"></span>表</div><div class="t m0 x2a h1f y79b ff1d fsf fc5 sc0 ls1 ws1">达式的<span class="_ _e"> </span><span class="ff22">split()<span class="_ _a"> </span></span>函数返回了一个包含所有匹配给定输入模式串的子串的列表。</div><div class="t m0 x1a h1f y79c ff1d fsf fc5 sc0 ls1 ws1">在这个例子中，<span class="_ _9"></span>输入串是<span class="_ _e"> </span><span class="ff22">&quot;\s+&quot;</span>：<span class="_ _5"></span>其中<span class="_ _e"> </span><span class="ff22">\s<span class="_ _e"> </span></span>是一个特殊的字符，<span class="_ _5"></span>它匹配了所有空白字符（包</div><div class="t m0 x2a h1f y79d ff1d fsf fc5 sc0 ls1 ws1">含空格、<span class="_ _9"></span><span class="ff1f">T<span class="_ _5"></span>AB<span class="_ _e"> </span><span class="ff1d">字符、<span class="_ _5"></span>换行符等等）<span class="_ _39"></span>，<span class="_ _5"></span><span class="ff22">+<span class="_ _e"> </span><span class="ff1d">指明了在它前面的实体出现<span class="ff1a">一次或多次</span>。<span class="_ _9"></span>因此，<span class="_ _5"></span>上述正则</span></span></span></span></div><div class="t m0 x2a h1f y79e ff1d fsf fc5 sc0 ls1 ws1">表达式匹配了任何包含一个或多个空格的子串。</div><div class="t m0 x1a h1f y79f ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _0"></span>这<span class="_ _f"></span>里<span class="_ _3b"> </span><span class="ff22">split()<span class="_ _3b"> </span></span>函<span class="_ _f"></span>数<span class="_ _f"></span>基<span class="_ _f"></span>本<span class="_ _0"></span>上<span class="_ _f"></span>是<span class="_ _f"></span>一<span class="_ _f"></span>个<span class="_ _0"></span>基<span class="_ _f"></span>于<span class="_ _f"></span>这<span class="_ _f"></span>种模<span class="_ _f"></span>式<span class="_ _0"></span>匹<span class="_ _f"></span>配<span class="_ _f"></span>行<span class="_ _f"></span>为<span class="_ _0"></span>的<span class="_ _f"></span>简<span class="_ _f"></span>便<span class="_ _f"></span>函<span class="_ _f"></span>数。<span class="_ _0"></span>更<span class="_ _f"></span>加<span class="_ _f"></span>基<span class="_ _f"></span>础<span class="_ _0"></span>的<span class="_ _f"></span>则</div><div class="t m0 x2a h1f y7a0 ff1d fsf fc5 sc0 ls1 ws1">是<span class="_ _e"> </span><span class="ff22">match()<span class="_ _a"> </span></span>函数，这个函数会返回一个字符串的开头是否匹配了模式串：</div><div class="t m0 x36 h27 y1b2 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[40]:<span class="_ _3"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span><span class="fc5">s<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _2"> </span></span>[<span class="fc11">&quot;<span class="_ _4f"> </span>&quot;</span>,<span class="_ _3"> </span><span class="fc11">&quot;abc<span class="_ _44"> </span>&quot;</span>,<span class="_ _3"> </span><span class="fc11">&quot;<span class="_ _44"> </span>abc&quot;</span>]:</span></div><div class="t m0 x25 h27 yd4 ff29 fsf fc9 sc0 ls1 ws1">if<span class="_ _3"> </span><span class="ff22 fc5">regex<span class="fcb">.</span>match(s):</span></div><div class="t m0 x59 h27 yd5 ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(</span>repr<span class="fc5">(s),<span class="_ _3"> </span><span class="fc11">&quot;matches&quot;</span>)</span></div><div class="t m0 x25 h27 yd6 ff29 fsf fc9 sc0 ls1 ws1">else<span class="ff22 fc5">:</span></div><div class="t m0 x59 h27 y7c ff22 fsf fc9 sc0 ls1 ws1">print<span class="fc5">(</span>repr<span class="fc5">(s),<span class="_ _3"> </span><span class="fc11">&quot;does<span class="_ _3"> </span>not<span class="_ _3"> </span>match&quot;</span>)</span></div><a class="l" href="http://shop.oreilly.com/product/9780596528126.do"><div class="d m7" style="border-style:none;position:absolute;left:435.920000px;bottom:693.114000px;width:87.356000px;height:9.636000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://shop.oreilly.com/product/9780596528126.do"><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:676.855000px;width:55.533000px;height:9.636000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf67" data-dest-detail='[103,"XYZ",72,546.13,null]'><div class="d m7" style="border-style:none;position:absolute;left:471.023000px;bottom:646.458000px;width:27.879000px;height:6.870000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf67" data-dest-detail='[103,"XYZ",72,546.13,null]'><div class="d m7" style="border-style:none;position:absolute;left:512.367000px;bottom:643.347000px;width:10.909000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf67" data-dest-detail='[103,"XYZ",72,546.13,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:627.088000px;width:120.000000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf62" class="pf w3 h1b" data-page-no="62"><div class="pc pc62 w3 h1b"><img class="bi x2a y7a1 w4 h6f" alt="" src="bg62.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">15.3.<span class="_ _2c"> </span><span class="ff1e">使用正则表达式灵活地匹配字符串模式<span class="_ _8a"> </span><span class="ff1f">89</span></span></div><div class="t m0 x36 h27 y213 ff22 fsf fc5 sc0 ls1 ws1">(&quot;<span class="ff2a">&apos;<span class="_ _4f"> </span>&apos;</span>&quot;,<span class="_ _3"> </span><span class="ff2a">&apos;</span>matches<span class="ff2a">&apos;</span>)</div><div class="t m0 x36 h27 y386 ff22 fsf fc5 sc0 ls1 ws1">(&quot;<span class="ff2a">&apos;</span>abc<span class="_ _44"> </span><span class="ff2a">&apos;</span>&quot;,<span class="_ _2"> </span><span class="ff2a">&apos;</span>does<span class="_ _3"> </span>not<span class="_ _3"> </span>match<span class="ff2a">&apos;</span>)</div><div class="t m0 x36 h27 y387 ff22 fsf fc5 sc0 ls1 ws1">(&quot;<span class="ff2a">&apos;<span class="_ _44"> </span></span>abc<span class="ff2a">&apos;</span>&quot;,<span class="_ _2"> </span><span class="ff2a">&apos;</span>matches<span class="ff2a">&apos;</span>)</div><div class="t m0 x1a h1f y7a2 ff1d fsf fc5 sc0 ls1 ws1">像 <span class="ff22">split()<span class="_ _1d"> </span></span>一<span class="_ _2"> </span>样，<span class="ff1f">Python<span class="_ _1a"> </span></span>有<span class="_ _2"> </span>类<span class="_ _8"> </span>似<span class="_ _8"> </span>的<span class="_ _2"> </span>方<span class="_ _8"> </span>便<span class="_ _8"> </span>的函<span class="_ _2"> </span>数<span class="_ _8"> </span>来<span class="_ _2"> </span>寻<span class="_ _8"> </span>找<span class="_ _8"> </span>首<span class="_ _2"> </span>次<span class="_ _8"> </span>匹<span class="_ _8"> </span>配<span class="_ _2"> </span>（类</div><div class="t m0 x2a h1f y7a3 ff1d fsf fc5 sc0 ls1 ws1">似<span class="_ _3b"> </span><span class="ff22">str.index()<span class="_ _3b"> </span></span>或<span class="_ _3b"> </span><span class="ff22">str.find()</span>）<span class="_ _f"></span>或<span class="_ _f"></span>者<span class="_ _f"></span>寻<span class="_ _f"></span>找<span class="_ _f"></span>后<span class="_ _f"></span>匹<span class="_ _f"></span>配<span class="_ _f"></span>（类<span class="_ _f"></span>似<span class="_ _3b"> </span><span class="ff22">str.replace()</span>）<span class="_ _40"></span>。<span class="_ _f"></span>我<span class="_ _f"></span>们<span class="_ _f"></span>会<span class="_ _f"></span>再<span class="_ _f"></span>次<span class="_ _f"></span>使</div><div class="t m0 x2a h1f y7a4 ff1d fsf fc5 sc0 ls1 ws1">用之前用过的这行字符串：</div><div class="t m0 x36 h27 y7a5 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[41]:<span class="_ _3"> </span><span class="fc5">line<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">the<span class="_ _2"> </span>quick<span class="_ _3"> </span>brown<span class="_ _3"> </span>fox<span class="_ _3"> </span>jumped<span class="_ _3"> </span>over<span class="_ _3"> </span>a<span class="_ _3"> </span>lazy<span class="_ _3"> </span>dog</span>&apos;</span></span></span></div><div class="t m0 x1a h1f y7a6 ff1d fsf fc5 sc0 ls1 ws1">有<span class="_ _2"> </span>了<span class="_ _2"> </span>这<span class="_ _3"> </span>行<span class="_ _2"> </span>字<span class="_ _2"> </span>符<span class="_ _2"> </span>串，<span class="_ _3"> </span>我<span class="_ _2"> </span>们<span class="_ _2"> </span>可<span class="_ _2"> </span>以<span class="_ _3"> </span>发<span class="_ _2"> </span>现<span class="_ _13"> </span><span class="ff22">regex.search()<span class="_ _13"> </span></span>函<span class="_ _2"> </span>数<span class="_ _3"> </span>的<span class="_ _2"> </span>行<span class="_ _2"> </span>为<span class="_ _2"> </span>非<span class="_ _3"> </span>常</div><div class="t m0 x2a h1f y7a7 ff1d fsf fc5 sc0 ls1 ws1">像<span class="_ _e"> </span><span class="ff22">str.index()<span class="_ _a"> </span></span>或<span class="_ _e"> </span><span class="ff22">str.find()<span class="_ _a"> </span></span>函数：</div><div class="t m0 x36 h27 y7a8 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[42]:<span class="_ _3"> </span><span class="fc5">line<span class="fcb">.</span>index(<span class="ff2a fc11">&apos;<span class="ff22">fox</span>&apos;</span>)</span></div><div class="t m0 x36 h27 y7a9 ff22 fsf fc14 sc0 ls1 ws1">Out[42]:<span class="_ _3"> </span><span class="fc5">16</span></div><div class="t m0 x36 h27 y7aa ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[43]:<span class="_ _3"> </span><span class="fc5">regex<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>re<span class="fcb">.</span>compile(<span class="ff2a fc11">&apos;<span class="ff22">fox</span>&apos;</span>)</span></div><div class="t m0 x51 h27 y7ab ff22 fsf fc5 sc0 ls1 ws1">match<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>regex<span class="fcb">.</span>search(line)</div><div class="t m0 x51 h27 y7ac ff22 fsf fc5 sc0 ls1 ws1">match<span class="fcb">.</span>start()</div><div class="t m0 x36 h27 y7ad ff22 fsf fc14 sc0 ls1 ws1">Out[43]:<span class="_ _3"> </span><span class="fc5">16</span></div><div class="t m0 x1a h1f y7ae ff1d fsf fc5 sc0 ls1 ws1">类似地，<span class="ff22">regex.sub()<span class="_ _e"> </span></span>函数的行为很像<span class="_ _a"> </span><span class="ff22">str.replace()</span>：</div><div class="t m0 x36 h27 y7af ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[44]:<span class="_ _3"> </span><span class="fc5">line<span class="fcb">.</span>replace(<span class="ff2a fc11">&apos;<span class="ff22">fox</span>&apos;</span>,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">BEAR</span>&apos;</span>)</span></div><div class="t m0 x36 h27 y7b0 ff22 fsf fc14 sc0 ls1 ws1">Out[44]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">the<span class="_ _3"> </span>quick<span class="_ _3"> </span>brown<span class="_ _3"> </span>BEAR<span class="_ _2"> </span>jumped<span class="_ _3"> </span>over<span class="_ _3"> </span>a<span class="_ _3"> </span>lazy<span class="_ _3"> </span>dog</span>&apos;</span></div><div class="t m0 x36 h27 y7b1 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[45]:<span class="_ _3"> </span><span class="fc5">regex<span class="fcb">.</span>sub(<span class="ff2a fc11">&apos;<span class="ff22">BEAR</span>&apos;</span>,<span class="_ _3"> </span>line)</span></div><div class="t m0 x36 h27 y7b2 ff22 fsf fc14 sc0 ls1 ws1">Out[45]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">the<span class="_ _3"> </span>quick<span class="_ _3"> </span>brown<span class="_ _3"> </span>BEAR<span class="_ _2"> </span>jumped<span class="_ _3"> </span>over<span class="_ _3"> </span>a<span class="_ _3"> </span>lazy<span class="_ _3"> </span>dog</span>&apos;</span></div><div class="t m0 x1a h1f y7b3 ff1d fsf fc5 sc0 ls1 ws1">你可能会有一点这样的想法：其他简单的字符串操作也可以转换为正则表达式进行操作。</div><div class="t m0 x2a h25 y7b4 ff19 fse fc5 sc0 ls1 ws1">15.3.1<span class="_ _3c"> </span><span class="ff1a">一个更复杂的例子</span></div><div class="t m0 x1a h1f y7b5 ff1d fsf fc5 sc0 ls1 ws1">但是你<span class="_ _0"></span>可能会问，<span class="_ _0"></span>为什么要<span class="_ _0"></span>用这种相<span class="_ _0"></span>对来说更<span class="_ _0"></span>复杂的正则<span class="_ _0"></span>表达式语法，<span class="_ _0"></span>而不是用<span class="_ _0"></span>更符合直</div><div class="t m0 x2a h1f y7b6 ff1d fsf fc5 sc0 ls1 ws1">觉、更简单的字符串操作呢？正则表达式的优点是它提供的特性<span class="ff1a">远不止</span>灵活性这么简单。</div><div class="t m0 x1a h1f yd5 ff1d fsf fc5 sc0 ls1 ws1">这里我<span class="_ _0"></span>们将会再<span class="_ _0"></span>考虑一个<span class="_ _0"></span>更加复杂的<span class="_ _0"></span>例子，同时<span class="_ _0"></span>也是一个<span class="_ _0"></span>非常常见<span class="_ _0"></span>的任务——匹<span class="_ _0"></span>配电子邮</div><div class="t m0 x2a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">件地址。<span class="_ _0"></span>我将从粗<span class="_ _0"></span>暴地写下一<span class="_ _0"></span>个难以理<span class="_ _0"></span>解的正则表达<span class="_ _0"></span>式开始，然<span class="_ _0"></span>后一步一<span class="_ _0"></span>步地带你理<span class="_ _0"></span>解其中的</div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">内涵。这个复杂的表达式如下：</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf63" class="pf w3 h1b" data-page-no="63"><div class="pc pc63 w3 h1b"><img class="bi x2a y7c w4 h2c" alt="" src="bg63.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">90<span class="_ _88"> </span><span class="ff24">15.<span class="_ _2c"> </span><span class="ff1e">字符串处理和正则表达式</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[46]:<span class="_ _3"> </span><span class="fc5">email<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>re<span class="fcb">.</span>compile(<span class="ff2a fc11">&apos;<span class="ff22">\w+@\w+\.[a-z]<span class="ff29 fc15">{3}</span></span>&apos;</span>)</span></div><div class="t m0 x1a h1f y7b7 ff1d fsf fc5 sc0 ls1 ws1">如果从<span class="_ _0"></span>文档中有<span class="_ _0"></span>一行文字，<span class="_ _0"></span>那么你可以<span class="_ _0"></span>使用这个正<span class="_ _0"></span>则表达式<span class="_ _0"></span>迅速提取看<span class="_ _0"></span>上去像电<span class="_ _0"></span>子邮件地</div><div class="t m0 x2a h1f y7b8 ff1d fsf fc5 sc0 ls1 ws1">址的内容：</div><div class="t m0 x36 h27 y7b9 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[47]:<span class="_ _3"> </span><span class="fc5">text<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fc11">&quot;To<span class="_ _2"> </span>email<span class="_ _3"> </span>Guido,<span class="_ _3"> </span>try<span class="_ _3"> </span>guido@python.org<span class="_ _3"> </span>or<span class="_ _3"> </span>the<span class="_ _3"> </span>older<span class="_ _3"> </span>address<span class="_ _3"> </span>&quot;</span></span>\</span></div><div class="t m0 x47 h27 y7ba ff22 fsf fc11 sc0 ls1 ws1">&quot;guido@google.com.&quot;</div><div class="t m0 x51 h27 y7bb ff22 fsf fc5 sc0 ls1 ws1">email<span class="fcb">.</span>findall(text)</div><div class="t m0 x36 h27 y7bc ff22 fsf fc14 sc0 ls1 ws1">Out[47]:<span class="_ _3"> </span><span class="fc5">[<span class="ff2a">&apos;</span>guido@python.org<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>guido@google.com<span class="ff2a">&apos;</span>]</span></div><div class="t m0 x2f h1f y7bd ff1d fsf fc5 sc0 ls1 ws1">（请注意，这些地址完全是瞎编的。也许有更好的方法与<span class="_ _e"> </span><span class="ff1f">Guido<span class="_ _a"> </span></span>取得联系……）</div><div class="t m0 x1a h1f y7be ff1d fsf fc5 sc0 ls1 ws1">我们可<span class="_ _0"></span>以进行进<span class="_ _0"></span>一步的操<span class="_ _0"></span>作，比如将这<span class="_ _0"></span>些电子邮<span class="_ _0"></span>件地址替<span class="_ _0"></span>换为其他的<span class="_ _0"></span>字符串，这<span class="_ _0"></span>可以达到</div><div class="t m0 x2a h1f y7bf ff1d fsf fc5 sc0 ls1 ws1">在输出中隐藏地址、保护个人信息的作用：</div><div class="t m0 x36 h27 y7c0 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[48]:<span class="_ _3"> </span><span class="fc5">email<span class="fcb">.</span>sub(<span class="ff2a fc11">&apos;<span class="ff22">--@--.--</span>&apos;</span>,<span class="_ _3"> </span>text)</span></div><div class="t m0 x36 h27 y7c1 ff22 fsf fc14 sc0 ls1 ws1">Out[48]:<span class="_ _3"> </span><span class="ff2a fc5">&apos;<span class="ff22">To<span class="_ _3"> </span>email<span class="_ _3"> </span>Guido,<span class="_ _3"> </span>try<span class="_ _2"> </span>--@--.--<span class="_ _3"> </span>or<span class="_ _3"> </span>the<span class="_ _3"> </span>older<span class="_ _3"> </span>address<span class="_ _3"> </span>--@--.--.</span>&apos;</span></div><div class="t m0 x1a h1f y7c2 ff1d fsf fc5 sc0 ls1 ws1">最后，请<span class="_ _0"></span>注意，如果<span class="_ _0"></span>你真的需<span class="_ _0"></span>要匹配<span class="ff1a">任<span class="_ _0"></span>意</span>电子邮<span class="_ _0"></span>件地址，之<span class="_ _0"></span>前这个正则<span class="_ _0"></span>表达式太<span class="_ _0"></span>过于简单</div><div class="t m0 x2a h1f y7c3 ff1d fsf fc5 sc0 ls1 ws1">了。比如<span class="_ _0"></span>它只允许<span class="_ _0"></span>由数字和字<span class="_ _0"></span>母组成的<span class="_ _0"></span>地址，并且要<span class="_ _0"></span>求以常见<span class="_ _0"></span>的几个域<span class="_ _0"></span>名后缀结尾。<span class="_ _0"></span>因此举例</div><div class="t m0 x2a h1f y7c4 ff1d fsf fc5 sc0 ls1 ws1">来说，我们目前使用的时候只是意味着我们暂时只能找到符合要求地址的一部分：</div><div class="t m0 x36 h27 y7c5 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[49]:<span class="_ _3"> </span><span class="fc5">email<span class="fcb">.</span>findall(<span class="ff2a fc11">&apos;<span class="ff22">barack.obama@whitehouse.gov</span>&apos;</span>)</span></div><div class="t m0 x36 h27 y7c6 ff22 fsf fc14 sc0 ls1 ws1">Out[49]:<span class="_ _3"> </span><span class="fc5">[<span class="ff2a">&apos;</span>obama@whitehouse.gov<span class="ff2a">&apos;</span>]</span></div><div class="t m0 x1a h1f y7c7 ff1d fsf fc5 sc0 ls1 ws1">这个例<span class="_ _0"></span>子表明如<span class="_ _0"></span>果你不小<span class="_ _0"></span>心的话，使<span class="_ _0"></span>用一个错<span class="_ _0"></span>误的正则表达<span class="_ _0"></span>式将带来<span class="_ _0"></span>不可饶恕<span class="_ _0"></span>的错误！如</div><div class="t m0 x2a h1f y7c8 ff1d fsf fc5 sc0 ls1 ws1">果你在<span class="_ _0"></span>互联网上<span class="_ _0"></span>搜索，你会找<span class="_ _0"></span>到不少用<span class="_ _0"></span>来匹配<span class="ff1a">全部<span class="_ _0"></span></span>合法电子<span class="_ _0"></span>邮件地址<span class="_ _0"></span>的正则表达式<span class="_ _0"></span>的建议，但</div><div class="t m0 x2a h1f y7c9 ff1d fsf fc5 sc0 ls1 ws1">是需要小心：它们比这里用到的例子要复杂太多！</div><div class="t m0 x2a h25 y7ca ff19 fse fc5 sc0 ls1 ws1">15.3.2<span class="_ _3c"> </span><span class="ff1a">正则表达式语法基础</span></div><div class="t m0 x1a h1f y7cb ff1d fsf fc5 sc0 ls1 ws1">正则表<span class="_ _0"></span>达式的语法<span class="_ _0"></span>比本节讨<span class="_ _0"></span>论的要复杂<span class="_ _0"></span>许多。我仍<span class="_ _0"></span>然认为熟<span class="_ _0"></span>悉其中的一<span class="_ _0"></span>部分能够<span class="_ _0"></span>给今后的</div><div class="t m0 x2a h1f y7cc ff1d fsf fc5 sc0 ls1 ws1">学习打<span class="_ _0"></span>下基础。因<span class="_ _0"></span>此我将在这<span class="_ _0"></span>里介绍一<span class="_ _0"></span>些基本的构<span class="_ _0"></span>造块，然后<span class="_ _0"></span>列出一些<span class="_ _0"></span>更完整的资<span class="_ _0"></span>源，从中你</div><div class="t m0 x2a h1f y7cd ff1d fsf fc5 sc0 ls1 ws1">可以了解到更多信息。我希望下面的这个初学者入门指引能使你高效地利用这些资源。</div><div class="t m0 x2a h1f y7ce ff1a fsf fc5 sc0 ls1 ws1">简单的字符串直接匹配。<span class="_ _3b"> </span><span class="ff1d">如果你直接用简单的字母或者数字构建正则表达式的话，<span class="_ _5"></span>它会直接精</span></div><div class="t m0 x2a h1f y7cf ff1d fsf fc5 sc0 ls1 ws1">确匹配对应的字符串：</div><div class="t m0 x36 h27 y256 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[50]:<span class="_ _3"> </span><span class="fc5">regex<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>re<span class="fcb">.</span>compile(<span class="ff2a fc11">&apos;<span class="ff22">ion</span>&apos;</span>)</span></div><div class="t m0 x51 h27 y153 ff22 fsf fc5 sc0 ls1 ws1">regex<span class="fcb">.</span>findall(<span class="ff2a fc11">&apos;<span class="ff22">Great<span class="_ _3"> </span>Expectations</span>&apos;</span>)</div><div class="t m0 x36 h27 y155 ff22 fsf fc14 sc0 ls1 ws1">Out[50]:<span class="_ _3"> </span><span class="fc5">[<span class="ff2a">&apos;</span>ion<span class="ff2a">&apos;</span>]</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf64" class="pf w3 h1b" data-page-no="64"><div class="pc pc64 w3 h1b"><img class="bi x2a y7d0 w4 h70" alt="" src="bg64.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">15.3.<span class="_ _2c"> </span><span class="ff1e">使用正则表达式灵活地匹配字符串模式<span class="_ _8a"> </span><span class="ff1f">91</span></span></div><div class="t m0 x2a h1f y7e ff1a fsf fc5 sc0 ls1 ws1">一些字符有特殊含义。<span class="_ _3b"> </span><span class="ff1d">尽管一些字符或者数字是直接匹配的，<span class="_ _5"></span>有另外一些字符在正则表达式里</span></div><div class="t m0 x2a h1f yb3 ff1d fsf fc5 sc0 ls1 ws1">是有特殊含义的。它们是：</div><div class="t m0 x2a h27 y7d1 ff22 fsf fc5 sc0 ls1 ws1">.<span class="_ _3"> </span>^<span class="_ _3"> </span>$<span class="_ _3"> </span>*<span class="_ _3"> </span>+<span class="_ _2"> </span>?<span class="_ _3"> </span>{<span class="_ _3"> </span>}<span class="_ _3"> </span>[<span class="_ _3"> </span>]<span class="_ _3"> </span>\<span class="_ _3"> </span>|<span class="_ _3"> </span>(<span class="_ _3"> </span>)</div><div class="t m0 x1a h1f y7d2 ff1d fsf fc5 sc0 ls1 ws1">我们马<span class="_ _0"></span>上会开始<span class="_ _0"></span>讨论其中<span class="_ _0"></span>一些字符的<span class="_ _0"></span>含义。同时，<span class="_ _0"></span>你需要知<span class="_ _0"></span>道如果你希<span class="_ _0"></span>望直接匹<span class="_ _0"></span>配这其中</div><div class="t m0 x2a h1f y7d3 ff1d fsf fc5 sc0 ls1 ws1">任何一个字符，你可以使用一个反斜线<span class="ff1e">转义</span>（<span class="ff1f">escap<span class="_ _0"></span>e</span>）它们：</div><div class="t m0 x36 h27 y7d4 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[51]:<span class="_ _3"> </span><span class="fc5">regex<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>re<span class="fcb">.</span>compile(<span class="fc11">r<span class="ff2a">&apos;</span>\$<span class="ff2a">&apos;</span></span>)</span></div><div class="t m0 x51 h27 y7d5 ff22 fsf fc5 sc0 ls1 ws1">regex<span class="fcb">.</span>findall(<span class="fc11">&quot;the<span class="_ _3"> </span>cost<span class="_ _3"> </span>is<span class="_ _3"> </span>$20&quot;</span>)</div><div class="t m0 x36 h27 y7d6 ff22 fsf fc14 sc0 ls1 ws1">Out[51]:<span class="_ _3"> </span><span class="fc5">[<span class="ff2a">&apos;</span>$<span class="ff2a">&apos;</span>]</span></div><div class="t m0 x1a h1f y7d7 ff22 fsf fc5 sc0 ls1 ws1">r<span class="ff2a">&apos;</span>\$<span class="ff2a">&apos;<span class="_ _a"> </span><span class="ff1d">的<span class="_ _a"> </span></span></span>r<span class="_ _a"> </span><span class="ff1d">前缀表明<span class="_ _0"></span>这是一<span class="_ _0"></span>个<span class="ff1e">原始字符<span class="_ _0"></span>串</span>（<span class="ff1f">ra<span class="_ _4"></span>w<span class="_ _a"> </span>string<span class="ff1d">）<span class="_ _d"></span>。<span class="_ _0"></span>在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>标<span class="_ _0"></span>准字符串<span class="_ _0"></span>中，反斜</span></span></span></div><div class="t m0 x2a h1f y7d8 ff1d fsf fc5 sc0 ls1 ws1">线用来表示特殊的字符。举例来说，<span class="ff1f">T<span class="_ _9"></span>AB<span class="_ _a"> </span><span class="ff1d">制表符是用<span class="_ _e"> </span><span class="ff22">\t<span class="_ _a"> </span></span>来代表的：</span></span></div><div class="t m0 x36 h27 y7d9 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[52]:<span class="_ _3"> </span><span class="fc9">print<span class="fc5">(<span class="ff2a fc11">&apos;<span class="ff22">a<span class="ff29 fc17">\t</span>b<span class="ff29 fc17">\t</span>c</span>&apos;</span>)</span></span></div><div class="t m0 x36 h27 y7da ff22 fsf fc5 sc0 ls1 ws1">a<span class="_ _8b"> </span>b<span class="_ _8b"> </span>c</div><div class="t m0 x1a h1f y7db ff1d fsf fc5 sc0 ls1 ws1">这样的替换不会在原始字符串中进行：</div><div class="t m0 x36 h27 y7dc ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[53]:<span class="_ _3"> </span><span class="fc9">print<span class="fc5">(<span class="fc11">r<span class="ff2a">&apos;</span>a\tb\tc<span class="ff2a">&apos;</span></span>)</span></span></div><div class="t m0 x36 h27 y7dd ff22 fsf fc5 sc0 ls1 ws1">a\tb\tc</div><div class="t m0 x1a h1f y7de ff1d fsf fc5 sc0 ls1 ws1">基于这<span class="_ _0"></span>样一种原<span class="_ _0"></span>因考虑，<span class="_ _0"></span>无论何时，<span class="_ _0"></span>只要在正则<span class="_ _0"></span>表达式中<span class="_ _0"></span>使用反斜<span class="_ _0"></span>杠，最好使<span class="_ _0"></span>用原始字符</div><div class="t m0 x2a h1f y7df ff1d fsf fc5 sc0 ls1 ws1">串。</div><div class="t m0 x2a h1f y7e0 ff1a fsf fc5 sc0 ls1 ws1">特殊<span class="_ _0"></span>字符<span class="_ _0"></span>可以<span class="_ _0"></span>匹配<span class="_ _0"></span>字符<span class="_ _0"></span>组。<span class="_ _10"> </span><span class="ff1d">就<span class="_ _0"></span>像在正<span class="_ _0"></span>则表<span class="_ _0"></span>达式<span class="_ _0"></span>中<span class="_ _a"> </span><span class="ff22">\<span class="_ _a"> </span></span>字<span class="_ _0"></span>符可<span class="_ _0"></span>以通过转<span class="_ _0"></span>义特<span class="_ _0"></span>殊的<span class="_ _0"></span>字符<span class="_ _0"></span>使它<span class="_ _0"></span>们变<span class="_ _0"></span>成</span></div><div class="t m0 x2a h1f y7e1 ff1d fsf fc5 sc0 ls1 ws1">普通的<span class="_ _0"></span>字符，它也<span class="_ _0"></span>可以用来赋<span class="_ _0"></span>予普通字<span class="_ _0"></span>符意义。这些<span class="_ _0"></span>特殊的字<span class="_ _0"></span>符可以匹<span class="_ _0"></span>配指定的字<span class="_ _0"></span>符组，我们</div><div class="t m0 x2a h1f y7e2 ff1d fsf fc5 sc0 ls1 ws1">已经<span class="_ _0"></span>见到<span class="_ _0"></span>了它们<span class="_ _0"></span>的作<span class="_ _0"></span>用。在电<span class="_ _0"></span>子邮<span class="_ _0"></span>件匹配<span class="_ _0"></span>的正则<span class="_ _0"></span>表达式<span class="_ _0"></span>中，我<span class="_ _0"></span>们使用<span class="_ _a"> </span><span class="ff22">\w<span class="_ _a"> </span></span>标<span class="_ _0"></span>记匹<span class="_ _0"></span>配<span class="ff1a">任意<span class="_ _0"></span>数字<span class="_ _0"></span>或</span></div><div class="t m0 x2a h1f y7e3 ff1a fsf fc5 sc0 ls1 ws1">者字母<span class="ff1d">。<span class="_ _5"></span>类似地，<span class="_ _5"></span>在简单的<span class="_ _e"> </span><span class="ff22">split()<span class="_ _e"> </span></span>例子中，<span class="_ _4"></span>我们也见到了<span class="_ _e"> </span><span class="ff22">\s</span>，<span class="_ _5"></span>这是一个特殊的标记，<span class="_ _5"></span>匹配<span class="ff1a">任</span></span></div><div class="t m0 x2a h1f y7e4 ff1a fsf fc5 sc0 ls1 ws1">意空白字符<span class="ff1d">。</span></div><div class="t m0 x1a h1f y7e5 ff1d fsf fc5 sc0 ls1 ws1">把<span class="_ _0"></span>这些<span class="_ _0"></span>组合<span class="_ _0"></span>在一<span class="_ _0"></span>起，我<span class="_ _0"></span>们可<span class="_ _0"></span>以构<span class="_ _0"></span>造一<span class="_ _0"></span>个匹<span class="_ _0"></span>配<span class="_ _0"></span><span class="ff1a">任何<span class="_ _0"></span>两个<span class="_ _0"></span>字母<span class="ff21">/</span>数<span class="_ _0"></span>字之<span class="_ _0"></span>间有<span class="_ _0"></span>空格<span class="_ _0"></span></span>字符<span class="_ _0"></span>串的正<span class="_ _0"></span>则</div><div class="t m0 x2a h1f y7e6 ff1d fsf fc5 sc0 ls1 ws1">表达式：</div><div class="t m0 x36 h27 y7e7 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[54]:<span class="_ _3"> </span><span class="fc5">regex<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>re<span class="fcb">.</span>compile(<span class="fc11">r<span class="ff2a">&apos;</span>\w\s\w<span class="ff2a">&apos;</span></span>)</span></div><div class="t m0 x51 h27 y7e8 ff22 fsf fc5 sc0 ls1 ws1">regex<span class="fcb">.</span>findall(<span class="ff2a fc11">&apos;<span class="ff22">the<span class="_ _3"> </span>fox<span class="_ _3"> </span>is<span class="_ _3"> </span>9<span class="_ _3"> </span>years<span class="_ _2"> </span>old</span>&apos;</span>)</div><div class="t m0 x36 h27 y7e9 ff22 fsf fc14 sc0 ls1 ws1">Out[54]:<span class="_ _3"> </span><span class="fc5">[<span class="ff2a">&apos;</span>e<span class="_ _3"> </span>f<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>x<span class="_ _3"> </span>i<span class="ff2a">&apos;</span>,<span class="_ _2"> </span><span class="ff2a">&apos;</span>s<span class="_ _3"> </span>9<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>s<span class="_ _3"> </span>o<span class="ff2a">&apos;</span>]</span></div><div class="t m0 x1a h1f y7ea ff1d fsf fc5 sc0 ls1 ws1">从这个例子开始，正则表达式的强大和灵活性渐渐开始显现。</div><div class="t m0 x1a h1f y7eb ff1d fsf fc5 sc0 ls1 ws1">下表列出了一些通常比较有用的字符和它们对应的意义：</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf65" class="pf w3 h1b" data-page-no="65"><div class="pc pc65 w3 h1b"><img class="bi x2a y271 w4 h6d" alt="" src="bg65.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">92<span class="_ _88"> </span><span class="ff24">15.<span class="_ _2c"> </span><span class="ff1e">字符串处理和正则表达式</span></span></div><div class="t m0 x8c h20 y2b9 ff1a fsf fc5 sc0 ls1 ws1">字符<span class="_ _5c"> </span>描述</div><div class="t m0 x64 h1f y2ba ff22 fsf fc5 sc0 ls1 ws1">\d<span class="_ _49"> </span><span class="ff1d">匹配任意数字</span></div><div class="t m0 x64 h1f y2bb ff22 fsf fc5 sc0 ls1 ws1">\D<span class="_ _49"> </span><span class="ff1d">匹配任意非数字</span></div><div class="t m0 x64 h1f y2bc ff22 fsf fc5 sc0 ls1 ws1">\s<span class="_ _49"> </span><span class="ff1d">匹配任意空白字符</span></div><div class="t m0 x64 h1f y2bd ff22 fsf fc5 sc0 ls1 ws1">\S<span class="_ _49"> </span><span class="ff1d">匹配任意非空白字符</span></div><div class="t m0 x64 h1f y7ec ff22 fsf fc5 sc0 ls1 ws1">\w<span class="_ _49"> </span><span class="ff1d">匹配任意字母和数字</span></div><div class="t m0 x64 h1f y7ed ff22 fsf fc5 sc0 ls1 ws1">\W<span class="_ _49"> </span><span class="ff1d">匹配任意非字母和数字</span></div><div class="t m0 x1a h1f y7ee ff1d fsf fc5 sc0 ls1 ws1">这<span class="_ _0"></span>个<span class="_ _f"></span>表<span class="_ _0"></span>格<span class="_ _f"></span>并<span class="_ _f"></span><span class="ff1a">不<span class="_ _0"></span>是<span class="_ _f"></span></span>一<span class="_ _f"></span>个<span class="_ _0"></span>完<span class="_ _f"></span>整<span class="_ _f"></span>的<span class="_ _0"></span>例<span class="_ _f"></span>子，<span class="_ _0"></span>也<span class="_ _f"></span>没<span class="_ _f"></span>有<span class="_ _0"></span>提<span class="_ _f"></span>供<span class="_ _f"></span>完<span class="_ _0"></span>整<span class="_ _f"></span>的<span class="_ _f"></span>描<span class="_ _0"></span>述。<span class="_ _f"></span>如<span class="_ _0"></span>果<span class="_ _f"></span>你<span class="_ _f"></span>需<span class="_ _0"></span>要<span class="_ _f"></span>获<span class="_ _f"></span>得<span class="_ _0"></span>更<span class="_ _f"></span>多<span class="_ _0"></span>细<span class="_ _f"></span>节，</div><div class="t m0 x2a h1f y7ef ff1d fsf fc5 sc0 ls1 ws1">请<span class="_ _0"></span>查<span class="_ _0"></span>阅<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _10"> </span></span>官<span class="_ _0"></span>方正<span class="_ _0"></span>则表<span class="_ _0"></span>达<span class="_ _0"></span>式语<span class="_ _0"></span>法文<span class="_ _0"></span>档：<span class="ff22 fc7">https://docs.python.org/3/library/re.html#</span></div><div class="t m0 x2a h1f y7f0 ff22 fsf fc7 sc0 ls1 ws1">re-<span class="_ _0"></span>syntax<span class="ff1d fc5">。</span></div><div class="t m0 x2a h1f y7f1 ff1a fsf fc5 sc0 ls1 ws1">方括号匹配自定义字符组。<span class="_ _3b"> </span><span class="ff1d">如果内置的字符组不能满足你的定制需求，<span class="_ _5"></span>你可以使用方括号来指</span></div><div class="t m0 x2a h1f y7f2 ff1d fsf fc5 sc0 ls1 ws1">定任意字符的集合。举例来说，下列正则表达式可以匹配任意小写元音字母：</div><div class="t m0 x36 h27 y7f3 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[55]:<span class="_ _3"> </span><span class="fc5">regex<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>re<span class="fcb">.</span>compile(<span class="ff2a fc11">&apos;<span class="ff22">[aeiou]</span>&apos;</span>)</span></div><div class="t m0 x51 h27 y7f4 ff22 fsf fc5 sc0 ls1 ws1">regex<span class="fcb">.</span>split(<span class="ff2a fc11">&apos;<span class="ff22">consequential</span>&apos;</span>)</div><div class="t m0 x36 h27 y7f5 ff22 fsf fc14 sc0 ls1 ws1">Out[55]:<span class="_ _3"> </span><span class="fc5">[<span class="ff2a">&apos;</span>c<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>ns<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>q<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;&apos;</span>,<span class="_ _2"> </span><span class="ff2a">&apos;</span>nt<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>l<span class="ff2a">&apos;</span>]</span></div><div class="t m0 x1a h1f y7f6 ff1d fsf fc5 sc0 ls1 ws1">类<span class="_ _f"></span>似<span class="_ _f"></span>地，<span class="_ _f"></span>你<span class="_ _f"></span>可<span class="_ _4a"></span>以<span class="_ _f"></span>使<span class="_ _f"></span>用<span class="_ _f"></span>短<span class="_ _4a"></span>横<span class="_ _f"></span>线<span class="_ _f"></span>（<span class="ff22">-</span>）<span class="_ _f"></span>来<span class="_ _f"></span>指<span class="_ _4a"></span>定<span class="_ _f"></span>字<span class="_ _f"></span>符<span class="_ _f"></span>的<span class="_ _4a"></span>范<span class="_ _f"></span>围：<span class="_ _f"></span>比<span class="_ _f"></span>如<span class="_ _8"> </span><span class="ff22">[a-z]<span class="_ _3b"> </span></span>匹<span class="_ _f"></span>配<span class="_ _4a"></span>任<span class="_ _f"></span>意<span class="_ _f"></span>小<span class="_ _f"></span>写<span class="_ _f"></span>字<span class="_ _4a"></span>母，</div><div class="t m0 x2a h1f y7f7 ff22 fsf fc5 sc0 ls1 ws1">[1-3]<span class="_ _e"> </span><span class="ff1d">匹配任意数字<span class="_ _a"> </span></span>1<span class="ff1d">、</span>2<span class="_ _e"> </span><span class="ff1d">和<span class="_ _a"> </span></span>3<span class="ff1d">。</span></div><div class="t m0 x1a h1f y7f8 ff1d fsf fc5 sc0 ls1 ws1">你可能<span class="_ _0"></span>需要从文<span class="_ _0"></span>档中提取<span class="_ _0"></span>特定的数字<span class="_ _0"></span>代码，比如<span class="_ _0"></span>包含一个<span class="_ _0"></span>大写字母后<span class="_ _0"></span>跟一个数<span class="_ _0"></span>字。你可以</div><div class="t m0 x2a h1f y7f9 ff1d fsf fc5 sc0 ls1 ws1">这样使用正则表达式：</div><div class="t m0 x36 h27 y7fa ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[56]:<span class="_ _3"> </span><span class="fc5">regex<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>re<span class="fcb">.</span>compile(<span class="ff2a fc11">&apos;<span class="ff22">[A-Z][0-9]</span>&apos;</span>)</span></div><div class="t m0 x51 h27 y7fb ff22 fsf fc5 sc0 ls1 ws1">regex<span class="fcb">.</span>findall(<span class="ff2a fc11">&apos;<span class="ff22">1043879,<span class="_ _3"> </span>G2,<span class="_ _3"> </span>H6</span>&apos;</span>)</div><div class="t m0 x36 h27 y7fc ff22 fsf fc14 sc0 ls1 ws1">Out[56]:<span class="_ _3"> </span><span class="fc5">[<span class="ff2a">&apos;</span>G2<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>H6<span class="ff2a">&apos;</span>]</span></div><div class="t m0 x2a h1f y7fd ff1a fsf fc5 sc0 ls1 ws1">通配符匹配重复字符。<span class="_ _3b"> </span><span class="ff1d">如果你需要匹配一个一行中有三个字母或数字的字符串，<span class="_ _5"></span>你也许会这样</span></div><div class="t m0 x2a h1f y7fe ff1d fsf fc5 sc0 ls1 ws1">构造正则表<span class="_ _0"></span>达式：<span class="ff22">\w\w\w</span>。但是，由于<span class="_ _0"></span>这是一个普遍<span class="_ _0"></span>的需求，有更具体<span class="_ _0"></span>的语法支持这一<span class="_ _0"></span>重复匹</div><div class="t m0 x2a h1f y7ff ff1d fsf fc5 sc0 ls1 ws1">配的需要——用花括号括起一个数字：</div><div class="t m0 x36 h27 y800 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[57]:<span class="_ _3"> </span><span class="fc5">regex<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>re<span class="fcb">.</span>compile(<span class="fc11">r<span class="ff2a">&apos;</span>\w<span class="ff29 fc15">{3}</span><span class="ff2a">&apos;</span></span>)</span></div><div class="t m0 x51 h27 y801 ff22 fsf fc5 sc0 ls1 ws1">regex<span class="fcb">.</span>findall(<span class="ff2a fc11">&apos;<span class="ff22">The<span class="_ _3"> </span>quick<span class="_ _3"> </span>brown<span class="_ _3"> </span>fox</span>&apos;</span>)</div><div class="t m0 x36 h27 y802 ff22 fsf fc14 sc0 ls1 ws1">Out[57]:<span class="_ _3"> </span><span class="fc5">[<span class="ff2a">&apos;</span>The<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>qui<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>bro<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>fox<span class="ff2a">&apos;</span>]</span></div><div class="t m0 x1a h1f yd6 ff1d fsf fc5 sc0 ls1 ws1">同样，<span class="_ _0"></span>可以使<span class="_ _0"></span>用另外<span class="_ _0"></span>一些标<span class="_ _0"></span>记来匹<span class="_ _0"></span>配任意<span class="_ _0"></span>数量的<span class="_ _0"></span>重复字<span class="_ _0"></span>符——比<span class="_ _0"></span>如，<span class="ff22">+<span class="_ _a"> </span></span>字符将<span class="_ _0"></span>会匹配<span class="_ _0"></span>前面</div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">字符出现<span class="_ _e"> </span><span class="ff2d">1<span class="_ _10"> </span><span class="ff1a">次或多次</span></span>重复的情况：</div><a class="l" href="https://docs.python.org/3/library/re.html#re-syntax"><div class="d m7" style="border-style:none;position:absolute;left:282.731000px;bottom:594.361000px;width:240.545000px;height:10.001000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://docs.python.org/3/library/re.html#re-syntax"><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:578.102000px;width:52.044000px;height:8.561000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf66" class="pf w3 h1b" data-page-no="66"><div class="pc pc66 w3 h1b"><img class="bi x2a y7c w4 h2c" alt="" src="bg66.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">15.3.<span class="_ _2c"> </span><span class="ff1e">使用正则表达式灵活地匹配字符串模式<span class="_ _8a"> </span><span class="ff1f">93</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[58]:<span class="_ _3"> </span><span class="fc5">regex<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>re<span class="fcb">.</span>compile(<span class="fc11">r<span class="ff2a">&apos;</span>\w+<span class="ff2a">&apos;</span></span>)</span></div><div class="t m0 x51 h27 y137 ff22 fsf fc5 sc0 ls1 ws1">regex<span class="fcb">.</span>findall(<span class="ff2a fc11">&apos;<span class="ff22">The<span class="_ _3"> </span>quick<span class="_ _3"> </span>brown<span class="_ _3"> </span>fox</span>&apos;</span>)</div><div class="t m0 x36 h27 y257 ff22 fsf fc14 sc0 ls1 ws1">Out[58]:<span class="_ _3"> </span><span class="fc5">[<span class="ff2a">&apos;</span>The<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>quick<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>brown<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>fox<span class="ff2a">&apos;</span>]</span></div><div class="t m0 x1a h1f y258 ff1d fsf fc5 sc0 ls1 ws1">下表总结了正则表达式中的重复标记：</div><div class="t m0 x12 h20 y803 ff1a fsf fc5 sc0 ls1 ws1">字符<span class="_ _8c"> </span>描述<span class="_ _8d"> </span>举例</div><div class="t m0 x12 h1f y804 ff22 fsf fc5 sc0 ls1 ws1">?<span class="_ _5d"> </span><span class="ff1d">匹配前面字符<span class="_ _e"> </span><span class="ff1f">0<span class="_ _a"> </span></span>次或<span class="_ _e"> </span><span class="ff1f">1<span class="_ _a"> </span></span>次重复<span class="_ _5c"> </span></span>ab?<span class="_ _a"> </span><span class="ff1d">匹配<span class="_ _e"> </span></span>&quot;a&quot;<span class="_ _a"> </span><span class="ff1d">或<span class="_ _e"> </span></span>&quot;ab&quot;</div><div class="t m0 x12 h1f y805 ff22 fsf fc5 sc0 ls1 ws1">*<span class="_ _5d"> </span><span class="ff1d">匹配前面字符<span class="_ _e"> </span><span class="ff1f">0<span class="_ _a"> </span></span>次或多次重复<span class="_ _8e"> </span></span>ab*<span class="_ _e"> </span><span class="ff1d">匹配<span class="_ _a"> </span></span>&quot;a&quot;<span class="ff1d">、</span>&quot;ab&quot;<span class="ff1d">、</span>&quot;abb&quot;<span class="ff1d">、</span>&quot;abbb&quot;<span class="ff1d">…</span></div><div class="t m0 x12 h1f y806 ff22 fsf fc5 sc0 ls1 ws1">+<span class="_ _5d"> </span><span class="ff1d">匹配前面字符<span class="_ _e"> </span><span class="ff1f">1<span class="_ _a"> </span></span>次或多次重复<span class="_ _8e"> </span></span>ab+<span class="_ _e"> </span><span class="ff1d">匹配<span class="_ _a"> </span></span>&quot;ab&quot;<span class="ff1d">、</span>&quot;abb&quot;<span class="ff1d">、</span>&quot;abbb&quot;<span class="ff1d">…但是不匹配<span class="_ _e"> </span></span>&quot;a&quot;</div><div class="t m0 x12 h1f y807 ff22 fsf fc5 sc0 ls1 ws1">{n}<span class="_ _33"> </span><span class="ff1d">匹配前面字符<span class="_ _a"> </span></span>n<span class="_ _e"> </span><span class="ff1d">次重复<span class="_ _8f"> </span></span>ab{2}<span class="_ _e"> </span><span class="ff1d">匹配<span class="_ _a"> </span></span>&quot;abb&quot;</div><div class="t m0 x12 h1f y808 ff22 fsf fc5 sc0 ls1 ws1">{m,n}<span class="_ _5c"> </span><span class="ff1d">匹配前面字符<span class="_ _e"> </span></span>m<span class="_ _e"> </span><span class="ff1d">次到<span class="_ _a"> </span></span>n<span class="_ _e"> </span><span class="ff1d">次重复<span class="_ _5c"> </span></span>ab{2,3}<span class="_ _e"> </span><span class="ff1d">匹配<span class="_ _a"> </span></span>&quot;abb&quot;<span class="_ _e"> </span><span class="ff1d">或<span class="_ _a"> </span></span>&quot;abbb&quot;</div><div class="t m0 x1a h1f y809 ff1d fsf fc5 sc0 ls1 ws1">脑海中有了这些内容作为基础，我们将回到之前邮件地址匹配的那个正则表达式：</div><div class="t m0 x36 h27 y80a ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[59]:<span class="_ _3"> </span><span class="fc5">email<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>re<span class="fcb">.</span>compile(<span class="fc11">r<span class="ff2a">&apos;</span>\w+@\w+\.[a-z]<span class="ff29 fc15">{3}</span><span class="ff2a">&apos;</span></span>)</span></div><div class="t m0 x1a h1f y80b ff1d fsf fc5 sc0 ls1 ws1">我们现在<span class="_ _0"></span>能够理解这意<span class="_ _0"></span>味着什么：我们需<span class="_ _0"></span>要一个或者多<span class="_ _0"></span>个数字或字母（<span class="ff22">\w+</span>）<span class="_ _0"></span>后跟<span class="_ _e"> </span><span class="ff1f">at<span class="_ _a"> </span></span>符号</div><div class="t m0 x50 h1f y80c ff1d fsf fc5 sc0 ls1 ws1">（<span class="ff22">@</span>）<span class="_ _39"></span>，<span class="_ _9"></span>然后接一个或者多个数字或字母（<span class="ff22">\w+</span>）<span class="_ _39"></span>，<span class="_ _9"></span>跟着一个句号<span class="_ _4"></span>（<span class="ff22">\.</span>，<span class="_ _9"></span>注意这里需要一个反斜杠转</div><div class="t m0 x2a h1f y80d ff1d fsf fc5 sc0 ls1 ws1">义）<span class="_ _39"></span>，最后跟恰好三个小写字母（<span class="ff22">[a-z]{3}</span>）<span class="_ _39"></span>。</div><div class="t m0 x1a h1f y80e ff1d fsf fc5 sc0 ls1 ws1">如果<span class="_ _0"></span>我们要<span class="_ _0"></span>修改这<span class="_ _0"></span>个正则<span class="_ _0"></span>表达式<span class="_ _0"></span>使得<span class="_ _a"> </span><span class="ff1f">Obama<span class="_ _a"> </span></span>的邮<span class="_ _0"></span>件地址<span class="_ _0"></span>能够得<span class="_ _0"></span>到匹配，<span class="_ _0"></span>我们<span class="_ _0"></span>可以使<span class="_ _0"></span>用方</div><div class="t m0 x2a h1f y80f ff1d fsf fc5 sc0 ls1 ws1">括号：</div><div class="t m0 x36 h27 y810 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[60]:<span class="_ _3"> </span><span class="fc5">email2<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>re<span class="fcb">.</span>compile(<span class="fc11">r<span class="ff2a">&apos;</span>[\w.]+@\w+\.[a-z]<span class="ff29 fc15">{3}</span><span class="ff2a">&apos;</span></span>)</span></div><div class="t m0 x51 h27 y811 ff22 fsf fc5 sc0 ls1 ws1">email2<span class="fcb">.</span>findall(<span class="ff2a fc11">&apos;<span class="ff22">barack.obama@whitehouse.gov</span>&apos;</span>)</div><div class="t m0 x36 h27 y812 ff22 fsf fc14 sc0 ls1 ws1">Out[60]:<span class="_ _3"> </span><span class="fc5">[<span class="ff2a">&apos;</span>barack.obama@whitehouse.gov<span class="ff2a">&apos;</span>]</span></div><div class="t m0 x1a h1f y813 ff1d fsf fc5 sc0 ls1 ws1">我们<span class="_ _0"></span>将<span class="_ _a"> </span><span class="ff22">\w+<span class="_ _a"> </span></span>改为<span class="_ _10"> </span><span class="ff22">[\w.]+</span>，这<span class="_ _0"></span>样我<span class="_ _0"></span>们就能<span class="_ _0"></span>匹配<span class="_ _0"></span>任意<span class="_ _0"></span>字母<span class="_ _0"></span>或者数<span class="_ _0"></span>字<span class="ff1a">或<span class="_ _0"></span>者</span>一<span class="_ _0"></span>个句<span class="_ _0"></span>号。有了<span class="_ _0"></span>这个</div><div class="t m0 x2a h1f y814 ff1d fsf fc5 sc0 ls1 ws1">更为灵<span class="_ _0"></span>活的表达<span class="_ _0"></span>式，我们能<span class="_ _0"></span>够匹配更<span class="_ _0"></span>广范围的<span class="_ _0"></span>邮件地址<span class="_ _0"></span>（尽管仍然<span class="_ _0"></span>不是全部）——你<span class="_ _0"></span>能找出这</div><div class="t m0 x2a h1f y815 ff1d fsf fc5 sc0 ls1 ws1">个正则表达式的其他不足吗？</div><div class="t m0 x2a h1f y816 ff1a fsf fc5 sc0 ls1 ws1">通过小括号进行分组提取。<span class="_ _3b"> </span><span class="ff1d">对于复合正则表达式，<span class="_ _4"></span>比如我们的邮件匹配器，我们经常需要提取</span></div><div class="t m0 x2a h1f y817 ff1d fsf fc5 sc0 ls1 ws1">它们的一部分，而不是全部匹配内容。这可以通过<span class="ff1e">分组</span>（<span class="ff1f">group</span>）实现：</div><div class="t m0 x36 h27 y4a8 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[61]:<span class="_ _3"> </span><span class="fc5">email3<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>re<span class="fcb">.</span>compile(<span class="fc11">r<span class="ff2a">&apos;</span>([\w.]+)@(\w+)\.([a-z]<span class="ff29 fc15">{3}</span>)<span class="ff2a">&apos;</span></span>)</span></div><div class="t m0 x36 h27 y440 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[62]:<span class="_ _3"> </span><span class="fc5">text<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span><span class="fc11">&quot;To<span class="_ _2"> </span>email<span class="_ _3"> </span>Guido,<span class="_ _3"> </span>try<span class="_ _3"> </span>guido@python.org<span class="_ _3"> </span>or<span class="_ _3"> </span>the<span class="_ _3"> </span>older<span class="_ _3"> </span>address<span class="_ _3"> </span>&quot;</span></span>\</span></div><div class="t m0 x47 h27 y256 ff22 fsf fc11 sc0 ls1 ws1">&quot;guido@google.com.&quot;</div><div class="t m0 x51 h27 y153 ff22 fsf fc5 sc0 ls1 ws1">email3<span class="fcb">.</span>findall(text)</div><div class="t m0 x36 h27 y155 ff22 fsf fc14 sc0 ls1 ws1">Out[62]:<span class="_ _3"> </span><span class="fc5">[(<span class="ff2a">&apos;</span>guido<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>python<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>org<span class="ff2a">&apos;</span>),<span class="_ _3"> </span>(<span class="ff2a">&apos;</span>guido<span class="ff2a">&apos;</span>,<span class="_ _2"> </span><span class="ff2a">&apos;</span>google<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>com<span class="ff2a">&apos;</span>)]</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf67" class="pf w3 h1b" data-page-no="67"><div class="pc pc67 w3 h1b"><img class="bi x2a y118 w4 h71" alt="" src="bg67.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">94<span class="_ _88"> </span><span class="ff24">15.<span class="_ _2c"> </span><span class="ff1e">字符串处理和正则表达式</span></span></div><div class="t m0 x1a h1f y7e ff1d fsf fc5 sc0 ls1 ws1">正<span class="_ _0"></span>如我<span class="_ _0"></span>们<span class="_ _0"></span>所看<span class="_ _0"></span>到<span class="_ _0"></span>的这<span class="_ _0"></span>样，<span class="_ _0"></span>这个分<span class="_ _0"></span>组恰<span class="_ _0"></span>好<span class="_ _0"></span>提取<span class="_ _0"></span>出<span class="_ _0"></span>了一<span class="_ _0"></span>个<span class="_ _0"></span>包含<span class="_ _0"></span>所<span class="_ _0"></span>有邮<span class="_ _0"></span>件<span class="_ _0"></span>各个<span class="_ _0"></span>组<span class="_ _0"></span>成部<span class="_ _0"></span>分<span class="_ _0"></span>的列表。</div><div class="t m0 x2a h1f yb3 ff1d fsf fc5 sc0 ls1 ws1">我们<span class="_ _0"></span>可以<span class="_ _0"></span>进一步<span class="_ _0"></span>地使<span class="_ _0"></span>用<span class="_ _a"> </span><span class="ff22">(?P&lt;name&gt;)<span class="_ _a"> </span></span>语法给<span class="_ _0"></span>提取<span class="_ _0"></span>的组<span class="ff1e">命名<span class="_ _0"></span></span>（<span class="ff1f">name</span>）<span class="_ _45"></span>，在<span class="_ _0"></span>这种<span class="_ _0"></span>情况下<span class="_ _0"></span>组别<span class="_ _0"></span>被提取</div><div class="t m0 x2a h1f yb4 ff1d fsf fc5 sc0 ls1 ws1">为<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>的字典：</div><div class="t m0 x36 h27 y818 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[63]:<span class="_ _3"> </span><span class="fc5">email4<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>re<span class="fcb">.</span>compile(<span class="fc11">r<span class="ff2a">&apos;</span>(?P&lt;user&gt;[\w.]+)@(?P&lt;domain&gt;\w+)<span class="ff2a">&apos;</span></span>\</span></div><div class="t m0 x63 h27 y819 ff2a fsf fc11 sc0 ls1 ws1">&apos;<span class="ff22">.(?P&lt;suffix&gt;[a-z]<span class="ff29 fc15">{3}</span>)</span>&apos;<span class="ff22 fc5">)</span></div><div class="t m0 x51 h27 y81a ff22 fsf fc5 sc0 ls1 ws1">match<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>email4<span class="fcb">.</span>match(<span class="ff2a fc11">&apos;<span class="ff22">guido@python.org</span>&apos;</span>)</div><div class="t m0 x51 h27 y81b ff22 fsf fc5 sc0 ls1 ws1">match<span class="fcb">.</span>groupdict()</div><div class="t m0 x36 h27 y81c ff22 fsf fc14 sc0 ls1 ws1">Out[63]:<span class="_ _3"> </span><span class="fc5">{<span class="ff2a">&apos;</span>domain<span class="ff2a">&apos;</span>:<span class="_ _3"> </span><span class="ff2a">&apos;</span>python<span class="ff2a">&apos;</span>,<span class="_ _3"> </span><span class="ff2a">&apos;</span>suffix<span class="ff2a">&apos;</span>:<span class="_ _3"> </span><span class="ff2a">&apos;</span>org<span class="ff2a">&apos;</span>,<span class="_ _2"> </span><span class="ff2a">&apos;</span>user<span class="ff2a">&apos;</span>:<span class="_ _3"> </span><span class="ff2a">&apos;</span>guido<span class="ff2a">&apos;</span>}</span></div><div class="t m0 x1a h1f y81d ff1d fsf fc5 sc0 ls1 ws1">结合这些想法<span class="_ _4"></span>（以及我们未在这里介绍的一些强大的正则表达式语法）<span class="_ _39"></span>，<span class="_ _9"></span>你可以灵活快速地</div><div class="t m0 x2a h1f y81e ff1d fsf fc5 sc0 ls1 ws1">从<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中的字符串中提取信息。</div><div class="t m0 x2a h25 y81f ff19 fse fc5 sc0 ls1 ws1">15.3.3<span class="_ _3c"> </span><span class="ff1a">关于正则表达式的更多资源</span></div><div class="t m0 x1a h1f y820 ff1d fsf fc5 sc0 ls1 ws1">之前我们对于正则表达式的讨论仅仅只是一个概览，对于这个庞大的主题来说还远远不够。</div><div class="t m0 x2a h1f y821 ff1d fsf fc5 sc0 ls1 ws1">如果你对此有兴趣并且想知道更多的内容，我推荐如下的资源：</div><div class="t m0 x1a h1f y822 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1d fc7">《<span class="ff1f">Python<span class="_ _a"> </span><span class="ff22">re<span class="_ _a"> </span></span></span>库函数文档》<span class="fc5">：我发现我<span class="_ _0"></span>每次需要使用正则表<span class="_ _0"></span>达式的时候都会忘<span class="_ _0"></span>记如何使</span></span></div><div class="t m0 x32 h1f y823 ff1d fsf fc5 sc0 ls1 ws1">用它们。既然我已经对这<span class="_ _0"></span>些内容有一些基本的了解，我觉得这个文<span class="_ _0"></span>档对我来说非常有价</div><div class="t m0 x32 h1f y824 ff1d fsf fc5 sc0 ls1 ws1">值。通过这个文档我可以迅速回忆起来正则表达式中一个特定的符号或者序列的意义。</div><div class="t m0 x1a h1f y825 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1d fc7">《<span class="ff1f">Python<span class="_ _8"> </span></span>官<span class="_ _4a"></span>方<span class="_ _f"></span>正<span class="_ _4a"></span>则<span class="_ _4a"></span>表<span class="_ _f"></span>达<span class="_ _4a"></span>式<span class="_ _f"></span>入<span class="_ _4a"></span>门<span class="_ _4a"></span>手<span class="_ _f"></span>册》<span class="fc5">：<span class="_ _4a"></span>这<span class="_ _4a"></span>个<span class="_ _f"></span>链<span class="_ _4a"></span>接<span class="_ _4a"></span>提<span class="_ _f"></span>供<span class="_ _4a"></span>了<span class="_ _4a"></span>一<span class="_ _f"></span>个<span class="_ _4a"></span>更<span class="_ _4a"></span>加<span class="_ _f"></span>直<span class="_ _4a"></span>白<span class="_ _4a"></span>的<span class="_ _f"></span>方<span class="_ _4a"></span>法<span class="_ _f"></span>来<span class="_ _4a"></span>介</span></span></div><div class="t m0 x32 h1f y826 ff1d fsf fc5 sc0 ls1 ws1">绍<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中的正则表达式。</div><div class="t m0 x1a h22 y827 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff20 fc7">Mastering<span class="_ _a"> </span>R<span class="_ _4"></span>e<span class="_ _5"></span>gular<span class="_ _a"> </span>Expr<span class="_ _4"></span>essions</span></div><div class="t m0 x5a h26 y828 ff26 fs10 fc6 sc0 ls1 ws1">2</div><div class="t m0 x7a h1f y827 ff1d fsf fc5 sc0 ls1 ws1">：这本书<span class="_ _e"> </span><span class="ff2d">500<span class="_ _a"> </span></span>余页，完整详细地介绍了正则表达式的内</div><div class="t m0 x32 h1f y829 ff1d fsf fc5 sc0 ls1 ws1">容。如果你需要一个完整的解决方案，这本书是你的不二之选。</div><div class="t m0 x1a h1f y82a ff1d fsf fc5 sc0 ls1 ws1">对于更大范围内<span class="_ _0"></span>字符串操作和实际使用正则表达<span class="_ _0"></span>式的一些例子，可以看第<span class="_ _a"> </span><span class="ff1f fc6">16.2<span class="_ _e"> </span></span>节<span class="_ _a"> </span><span class="ff1f fc6">P<span class="_ _4"></span>andas<span class="ff1d">：</span></span></div><div class="t m0 x2a h1f y82b ff1d fsf fc6 sc0 ls1 ws1">标签化的面向行数据存储<span class="fc5">。<span class="_ _3f"></span>在这一节中我们利用<span class="_ _38"> </span><span class="ff1f">Pandas<span class="_ _35"> </span></span>库，<span class="_ _3f"></span>你会看到如何应用这些表达式在<span class="ff1e">表</span></span></div><div class="t m0 x2a h1f y82c ff1e fsf fc5 sc0 ls1 ws1">格<span class="ff1d">（<span class="ff1f">table</span>）之间处理字符串数据。</span></div><div class="t m0 x37 h28 y135 ff27 fs11 fc5 sc0 ls1 ws1">2</div><div class="t m0 x2f h29 y7c ff1d fs12 fc5 sc0 ls1 ws1">译者注：中文版《精通正则表达式（第三版）<span class="_ _45"></span>》已由电子工业出版社于<span class="_ _38"> </span><span class="ff28">2017<span class="_ _38"> </span></span>年出版。</div><a class="l" href="https://docs.python.org/3/library/re.html"><div class="d m7" style="border-style:none;position:absolute;left:107.758000px;bottom:460.621000px;width:130.486000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://docs.python.org/3/howto/regex.html"><div class="d m7" style="border-style:none;position:absolute;left:107.758000px;bottom:411.844000px;width:191.229000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://shop.oreilly.com/product/9780596528126.do"><div class="d m7" style="border-style:none;position:absolute;left:107.758000px;bottom:380.316000px;width:146.609000px;height:9.636000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf67" data-dest-detail='[103,"XYZ",88.59,85.15,null]'><div class="d m7" style="border-style:none;position:absolute;left:254.781000px;bottom:386.396000px;width:4.234000px;height:5.136000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6a" data-dest-detail='[106,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:447.689000px;bottom:337.964000px;width:19.394000px;height:6.870000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6a" data-dest-detail='[106,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:485.370000px;bottom:334.853000px;width:45.363000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6a" data-dest-detail='[106,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:318.594000px;width:120.000000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf68" class="pf w3 h1b" data-page-no="68"><div class="pc pc68 w3 h1b"><img class="bi x2a y82d w4 h72" alt="" src="bg68.png"/><div class="t m0 x8d h1c y3f ff1a fsc fc5 sc0 ls1 ws1">第<span class="_ _7"> </span><span class="ff19">16<span class="_ _7"> </span></span>章<span class="_ _33"> </span>数据科学工具概览</div><div class="t m0 x1a h1f y119 ff1d fsf fc5 sc0 ls1 ws1">如果<span class="_ _0"></span>你想从<span class="_ _0"></span>这里开<span class="_ _0"></span>始，进一<span class="_ _0"></span>步使用<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>进行<span class="_ _0"></span>科学计<span class="_ _0"></span>算或进<span class="_ _0"></span>行数据<span class="_ _0"></span>科学研<span class="_ _0"></span>究，那么<span class="_ _0"></span>本章</div><div class="t m0 x2a h1f y11a ff1d fsf fc5 sc0 ls1 ws1">介绍的<span class="_ _0"></span>几个软件包<span class="_ _0"></span>可以让你的<span class="_ _0"></span>工作变得<span class="_ _0"></span>更加轻松。本<span class="_ _0"></span>章将介绍<span class="_ _0"></span>其中几个<span class="_ _0"></span>比较重要的<span class="_ _0"></span>工具，并为</div><div class="t m0 x2a h1f y11b ff1d fsf fc5 sc0 ls1 ws1">你<span class="_ _0"></span>简<span class="_ _0"></span>单<span class="_ _0"></span>介绍<span class="_ _0"></span>这<span class="_ _0"></span>些<span class="_ _0"></span>工<span class="_ _0"></span>具<span class="_ _0"></span>适<span class="_ _0"></span>用<span class="_ _0"></span>哪些<span class="_ _0"></span>类<span class="_ _0"></span>型<span class="_ _0"></span>的<span class="_ _0"></span>问<span class="_ _0"></span>题。<span class="_ _0"></span>如<span class="_ _0"></span>果你<span class="_ _0"></span>正<span class="_ _0"></span>在<span class="_ _0"></span>使<span class="_ _0"></span>用<span class="_ _0"></span>在<span class="_ _0"></span>本<span class="_ _0"></span>书开<span class="_ _0"></span>头<span class="_ _0"></span>提<span class="_ _0"></span>到<span class="_ _0"></span>的<span class="_ _10"> </span><span class="ff1f">Anaconda<span class="_ _10"> </span></span>或</div><div class="t m0 x2a h1f y11d ff1d fsf fc5 sc0 ls1 ws1">者</div><div class="t m0 x17 h22 y11e ff1f fsf fc5 sc0 ls1 ws1">Miniconda</div><div class="t m0 x8e h1f y11d ff1d fsf fc5 sc0 ls1 ws1">环境的话，你可以使用下面这个命令安装本章中有关的工具包：</div><div class="t m0 x36 h27 y82e ff22 fsf fc5 sc0 ls1 ws1">$<span class="_ _3"> </span>conda<span class="_ _3"> </span>install<span class="_ _3"> </span>numpy<span class="_ _3"> </span>scipy<span class="_ _2"> </span>pandas<span class="_ _3"> </span>matplotlib<span class="_ _3"> </span>scikit-learn</div><div class="t m0 x1a h1f y82f ff1d fsf fc5 sc0 ls1 ws1">我们来简单看看这些工具。</div><div class="t m0 x2a h23 y830 ff19 fsd fc5 sc0 ls1 ws1">16.1<span class="_ _15"> </span>NumPy<span class="ff1a">：</span>Python<span class="_ _3"> </span><span class="ff1a">数值计算</span></div><div class="t m0 x1a h1f y831 ff1f fsf fc5 sc0 ls1 ws1">NumPy<span class="_ _a"> </span><span class="ff1d">对<span class="_ _e"> </span></span>Python<span class="_ _a"> </span><span class="ff1d">中稠密高维的数组<span class="_ _0"></span>进行存储和操作提供了<span class="_ _0"></span>一个高效的途径。</span>NumPy<span class="_ _a"> </span><span class="ff1d">的</span></div><div class="t m0 x2a h1f y832 ff1d fsf fc5 sc0 ls1 ws1">重要特性有：</div><div class="t m0 x1a h1f y833 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1d">它<span class="_ _0"></span>提供<span class="_ _0"></span>了<span class="_ _a"> </span><span class="ff22">ndarray<span class="_ _a"> </span></span>结<span class="_ _0"></span>构体，<span class="_ _0"></span>使得<span class="_ _0"></span>能够<span class="_ _0"></span>高<span class="_ _0"></span>效地<span class="_ _0"></span>存储<span class="_ _0"></span>和操<span class="_ _0"></span>作向<span class="_ _0"></span>量、矩<span class="_ _0"></span>阵和<span class="_ _0"></span>更高<span class="_ _0"></span>维<span class="_ _0"></span>度的<span class="_ _0"></span>数据</span></div><div class="t m0 x32 h1f y834 ff1d fsf fc5 sc0 ls1 ws1">集。</div><div class="t m0 x1a h1f y835 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1d">它提供了一<span class="_ _0"></span>个易读并且高效的语法来对数据进行处理，<span class="_ _0"></span>支持从简单的按元素的算术运算</span></div><div class="t m0 x32 h1f y836 ff1d fsf fc5 sc0 ls1 ws1">到相对复杂的线性代数运算。</div><div class="t m0 x1a h1f y837 ff1d fsf fc5 sc0 ls1 ws1">在最简单的情况中，<span class="_ _5"></span><span class="ff1f">NumPy<span class="_ _a"> </span><span class="ff1d">的数组与<span class="_ _38"> </span></span>Python<span class="_ _a"> </span><span class="ff1d">的列表十分相像。<span class="_ _5"></span>举例来说，<span class="_ _5"></span>这里有一个包</span></span></div><div class="t m0 x2a h1f y838 ff1d fsf fc5 sc0 ls1 ws1">含范围从<span class="_ _e"> </span><span class="ff2d">1<span class="_ _a"> </span></span>到<span class="_ _e"> </span><span class="ff2d">9<span class="_ _a"> </span></span>的数字的数组（把这个例子与<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中内置的<span class="_ _e"> </span><span class="ff22">range()<span class="_ _a"> </span></span>函数进行比较）<span class="_ _39"></span>：</div><div class="t m0 x36 h27 y839 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[1]:<span class="_ _3"> </span><span class="ff29 fc9">import<span class="_ _3"> </span><span class="fca">numpy<span class="_ _3"> </span></span>as<span class="_ _2"> </span><span class="fca">np</span></span></div><div class="t m0 x46 h27 y83a ff22 fsf fc5 sc0 ls1 ws1">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>np<span class="fcb">.</span>arange(<span class="fcb">1</span>,<span class="_ _3"> </span><span class="fcb">10</span>)</div><div class="t m0 x46 h27 y83b ff22 fsf fc5 sc0 ls1 ws1">x</div><div class="t m0 x36 h27 y83c ff22 fsf fc14 sc0 ls1 ws1">Out[1]:<span class="_ _3"> </span><span class="fc5">array([1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3,<span class="_ _3"> </span>4,<span class="_ _2"> </span>5,<span class="_ _3"> </span>6,<span class="_ _3"> </span>7,<span class="_ _3"> </span>8,<span class="_ _3"> </span>9])</span></div><div class="t m0 x1a h1f y83d ff1f fsf fc5 sc0 ls1 ws1">NumPy<span class="_ _a"> </span><span class="ff1d">的<span class="_ _0"></span>数组既<span class="_ _0"></span>提供<span class="_ _0"></span>了高<span class="_ _0"></span>效存<span class="_ _0"></span>储数<span class="_ _0"></span>据的方<span class="_ _0"></span>法，也<span class="_ _0"></span>提供了<span class="_ _0"></span>一些<span class="_ _0"></span>高效<span class="_ _0"></span>的函<span class="_ _0"></span>数来<span class="_ _0"></span>对这<span class="_ _0"></span>些数<span class="_ _0"></span>据按</span></div><div class="t m0 x2a h1f y83e ff1d fsf fc5 sc0 ls1 ws1">元素进行运算。比如，对数组中每个元素进行平方，我们可以直接对数组进行<span class="_ _e"> </span><span class="ff22">**<span class="_ _a"> </span></span>操作：</div><div class="t m0 x36 h27 y83f ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[2]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">**<span class="_ _3"> </span>2</span></span></div><div class="t m0 x36 h27 y840 ff22 fsf fc14 sc0 ls1 ws1">Out[2]:<span class="_ _3"> </span><span class="fc5">array([<span class="_ _3"> </span>1,<span class="_ _13"> </span>4,<span class="_ _44"> </span>9,<span class="_ _3"> </span>16,<span class="_ _3"> </span>25,<span class="_ _3"> </span>36,<span class="_ _3"> </span>49,<span class="_ _3"> </span>64,<span class="_ _2"> </span>81])</span></div><div class="t m0 x1a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">把上面的代码与有些复杂的<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>风格的列表推导式（两者产生相同的结果）进行比较：</div><div class="t m0 x4f h22 y5c ff1f fsf fc5 sc0 ls1 ws1">95</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf69" class="pf w3 h1b" data-page-no="69"><div class="pc pc69 w3 h1b"><img class="bi x2a yd7 w4 h73" alt="" src="bg69.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">96<span class="_ _90"> </span><span class="ff24">16.<span class="_ _2c"> </span><span class="ff1e">数据科学工具概览</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[3]:<span class="_ _3"> </span><span class="fc5">[val<span class="_ _3"> </span><span class="fcb">**<span class="_ _3"> </span>2<span class="_ _2"> </span><span class="ff29 fc9">for<span class="_ _3"> </span></span></span>val<span class="_ _3"> </span><span class="ff29 fc10">in<span class="_ _3"> </span></span><span class="fc9">range</span>(<span class="fcb">1</span>,<span class="_ _3"> </span><span class="fcb">10</span>)]</span></div><div class="t m0 x36 h27 y138 ff22 fsf fc14 sc0 ls1 ws1">Out[3]:<span class="_ _3"> </span><span class="fc5">[1,<span class="_ _3"> </span>4,<span class="_ _3"> </span>9,<span class="_ _3"> </span>16,<span class="_ _2"> </span>25,<span class="_ _3"> </span>36,<span class="_ _3"> </span>49,<span class="_ _3"> </span>64,<span class="_ _3"> </span>81]</span></div><div class="t m0 x1a h1f y841 ff1d fsf fc5 sc0 ls1 ws1">不像<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>的列表（受限<span class="_ _0"></span>于一维）<span class="_ _d"></span>，<span class="ff1f">NumPy<span class="_ _a"> </span></span>的数组<span class="_ _0"></span>可以是多维<span class="_ _0"></span>的。比如，这<span class="_ _0"></span>里我们将之</div><div class="t m0 x2a h1f y842 ff1d fsf fc5 sc0 ls1 ws1">前的<span class="_ _e"> </span><span class="ff22">x<span class="_ _a"> </span></span>数组调整为一个<span class="_ _e"> </span><span class="ff2d">3<span class="_ _5f"> </span><span class="ff2e">×<span class="_ _5f"> </span></span>3<span class="_ _a"> </span></span>维度的数组：</div><div class="t m0 x36 h27 y843 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[4]:<span class="_ _3"> </span><span class="fc5">M<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>x<span class="fcb">.</span>reshape((<span class="fcb">3</span>,<span class="_ _2"> </span><span class="fcb">3</span>))</span></div><div class="t m0 x46 h27 y844 ff22 fsf fc5 sc0 ls1 ws1">M</div><div class="t m0 x36 h27 y845 ff22 fsf fc14 sc0 ls1 ws1">Out[4]:<span class="_ _3"> </span><span class="fc5">array([[1,<span class="_ _3"> </span>2,<span class="_ _3"> </span>3],</span></div><div class="t m0 x89 h27 y846 ff22 fsf fc5 sc0 ls1 ws1">[4,<span class="_ _3"> </span>5,<span class="_ _3"> </span>6],</div><div class="t m0 x89 h27 y847 ff22 fsf fc5 sc0 ls1 ws1">[7,<span class="_ _3"> </span>8,<span class="_ _3"> </span>9]])</div><div class="t m0 x1a h1f y848 ff1d fsf fc5 sc0 ls1 ws1">一个二<span class="_ _0"></span>维数组是<span class="_ _0"></span>矩阵的一<span class="_ _0"></span>种表示形式，<span class="_ _0"></span>并且<span class="_ _a"> </span><span class="ff1f">NumPy<span class="_ _e"> </span></span>可<span class="_ _0"></span>以高效地<span class="_ _0"></span>进行典型<span class="_ _0"></span>的矩阵运<span class="_ _0"></span>算。比</div><div class="t m0 x2a h1f y849 ff1d fsf fc5 sc0 ls1 ws1">如，你可以通过<span class="_ _e"> </span><span class="ff22">.T<span class="_ _a"> </span></span>计算矩阵的<span class="ff1e">转置矩阵</span>（<span class="ff1f">transp ose<span class="_ _a"> </span>matrix</span>）<span class="_ _39"></span>：</div><div class="t m0 x36 h27 y84a ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[5]:<span class="_ _3"> </span><span class="fc5">M<span class="fcb">.</span>T</span></div><div class="t m0 x36 h27 y84b ff22 fsf fc14 sc0 ls1 ws1">Out[5]:<span class="_ _3"> </span><span class="fc5">array([[1,<span class="_ _3"> </span>4,<span class="_ _3"> </span>7],</span></div><div class="t m0 x89 h27 y84c ff22 fsf fc5 sc0 ls1 ws1">[2,<span class="_ _3"> </span>5,<span class="_ _3"> </span>8],</div><div class="t m0 x89 h27 y84d ff22 fsf fc5 sc0 ls1 ws1">[3,<span class="_ _3"> </span>6,<span class="_ _3"> </span>9]])</div><div class="t m0 x1a h1f y84e ff1d fsf fc5 sc0 ls1 ws1">或者通过<span class="_ _e"> </span><span class="ff22">np.dot<span class="_ _a"> </span></span>进行矩阵乘法：</div><div class="t m0 x36 h27 y84f ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[6]:<span class="_ _3"> </span><span class="fc5">np<span class="fcb">.</span>dot(M,<span class="_ _3"> </span>[<span class="fcb">5</span>,<span class="_ _3"> </span><span class="fcb">6</span>,<span class="_ _2"> </span><span class="fcb">7</span>])</span></div><div class="t m0 x36 h27 y850 ff22 fsf fc14 sc0 ls1 ws1">Out[6]:<span class="_ _3"> </span><span class="fc5">array([<span class="_ _3"> </span>38,<span class="_ _13"> </span>92,<span class="_ _3"> </span>146])</span></div><div class="t m0 x1a h1f y851 ff1d fsf fc5 sc0 ls1 ws1">并且你可以进行更复杂的操作，比如<span class="ff1e">特征值分解</span>（<span class="ff1f">eigen<span class="_ _4"></span>v<span class="_ _5"></span>alue<span class="_ _a"> </span>decomposition<span class="ff1d">）</span></span></div><div class="t m0 x8f h26 y852 ff26 fs10 fc6 sc0 ls1 ws1">1</div><div class="t m0 x90 h1f y851 ff1d fsf fc5 sc0 ls1 ws1">：</div><div class="t m0 x36 h27 y853 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[7]:<span class="_ _3"> </span><span class="fc5">np<span class="fcb">.</span>linalg<span class="fcb">.</span>eigvals(M)</span></div><div class="t m0 x36 h27 y854 ff22 fsf fc14 sc0 ls1 ws1">Out[7]:<span class="_ _3"> </span><span class="fc5">array([<span class="_ _44"> </span>1.61168440e+01,<span class="_ _13"> </span>-1.11684397e+00,<span class="_ _44"> </span>-1.30367773e-15])</span></div><div class="t m0 x1a h1f y855 ff1d fsf fc5 sc0 ls1 ws1">这种线性代数计算是现代数据分析的基础，这在机器学习和数据挖掘领域体现得尤为明显。</div><div class="t m0 x1a h1f y856 ff1d fsf fc5 sc0 ls1 ws1">想了解关于<span class="_ _e"> </span><span class="ff1f">NumPy<span class="_ _a"> </span></span>的更多知识，查阅第<span class="_ _e"> </span><span class="ff1f fc6">17<span class="_ _a"> </span></span>章<span class="_ _e"> </span><span class="fc6">更多学习资源</span>。</div><div class="t m0 x37 h28 yf5 ff27 fs11 fc5 sc0 ls1 ws1">1</div><div class="t m0 x2f h29 yf6 ff1d fs12 fc5 sc0 ls1 ws1">译者注：对<span class="_ _38"> </span><span class="ff33">N<span class="_ _38"> </span><span class="ff34">×<span class="_ _87"> </span></span>N<span class="_ _a"> </span></span>维<span class="_ _0"></span>矩阵<span class="_ _35"> </span><span class="ff35">A<span class="_ _38"> </span></span>和<span class="_ _38"> </span><span class="ff33">N<span class="_ _10"> </span></span>维非零向量<span class="_ _38"> </span><span class="ff35">v</span>，<span class="_ _0"></span>若满足<span class="_ _35"> </span><span class="ff35">Av<span class="_ _35"> </span><span class="ff36">=<span class="_ _5f"> </span><span class="ff33">λ</span></span>v</span>，<span class="_ _0"></span>其中<span class="_ _35"> </span><span class="ff33">λ<span class="_ _38"> </span></span>为一标<span class="_ _0"></span>量，则称<span class="_ _35"> </span><span class="ff33">λ<span class="_ _38"> </span></span>为<span class="_ _e"> </span><span class="ff35">v<span class="_ _35"> </span></span>对<span class="_ _0"></span>应的</div><div class="t m0 x2a h29 y7c ff1d fs12 fc5 sc0 ls1 ws1">特征值。即特征向量被施以线性变换<span class="_ _38"> </span><span class="ff35">A<span class="_ _38"> </span></span>只会使向量伸长或缩短而其方向不被改变。</div><a class="l" href="#pf69" data-dest-detail='[105,"XYZ",88.59,98.3,null]'><div class="d m7" style="border-style:none;position:absolute;left:465.091000px;bottom:237.906000px;width:4.234000px;height:5.136000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:293.969000px;bottom:108.890000px;width:10.909000px;height:6.869000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:323.060000px;bottom:105.779000px;width:65.455000px;height:12.528000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf6a" class="pf w3 h1b" data-page-no="6a"><div class="pc pc6a w3 h1b"><img class="bi x2a y857 w4 h74" alt="" src="bg6a.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">16.2.<span class="_ _2c"> </span>P<span class="_ _5"></span>AND<span class="_ _4"></span>AS<span class="ff1e">：标签化的面向行数据存储<span class="_ _91"> </span><span class="ff1f">97</span></span></div><div class="t m0 x2a h23 yf7 ff19 fsd fc5 sc0 ls1 ws1">16.2<span class="_ _15"> </span>Pandas<span class="ff1a">：标签化的面向行数据存储</span></div><div class="t m0 x1a h1f yf8 ff1f fsf fc5 sc0 ls1 ws1">P<span class="_ _4"></span>andas<span class="_ _38"> </span><span class="ff1d">是一个比<span class="_ _38"> </span></span>NumPy<span class="_ _38"> </span><span class="ff1d">新很多的库，<span class="_ _40"></span>并且实际上是基于后者构建的。<span class="_ _40"></span><span class="ff1f">Pandas<span class="_ _35"> </span><span class="ff1d">提供了一个</span></span></span></div><div class="t m0 x2a h1f yf9 ff1d fsf fc5 sc0 ls1 ws1">标签化的<span class="_ _0"></span>接口来访问多维<span class="_ _0"></span>数据，并且以<span class="ff1e">数据<span class="_ _0"></span>帧</span>（<span class="ff1f">data<span class="_ _e"> </span>frame</span>）对象<span class="_ _0"></span>的形式呈现。如<span class="_ _0"></span>果你是<span class="_ _e"> </span><span class="ff1f">R<span class="_ _a"> </span></span>语</div><div class="t m0 x2a h1f yfa ff1d fsf fc5 sc0 ls1 ws1">言或者相关语言的用户，你对此一定会感到很熟悉。<span class="ff1f">P<span class="_ _4"></span>andas<span class="_ _a"> </span><span class="ff1d">中的数据帧像下面这段代码一样：</span></span></div><div class="t m0 x36 h27 y858 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[8]:<span class="_ _3"> </span><span class="ff29 fc9">import<span class="_ _3"> </span><span class="fca">pandas<span class="_ _3"> </span></span>as<span class="_ _2"> </span><span class="fca">pd</span></span></div><div class="t m0 x46 h27 y859 ff22 fsf fc5 sc0 ls1 ws1">df<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>pd<span class="fcb">.</span>DataFrame({<span class="ff2a fc11">&apos;<span class="ff22">label</span>&apos;</span>:<span class="_ _3"> </span>[<span class="ff2a fc11">&apos;<span class="ff22">A</span>&apos;</span>,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">B</span>&apos;</span>,<span class="_ _2"> </span><span class="ff2a fc11">&apos;<span class="ff22">C</span>&apos;</span>,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">A</span>&apos;</span>,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">B</span>&apos;</span>,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">C</span>&apos;</span>],</div><div class="t m0 x64 h27 y85a ff2a fsf fc11 sc0 ls1 ws1">&apos;<span class="ff22">value</span>&apos;<span class="ff22 fc5">:<span class="_ _3"> </span>[<span class="fcb">1</span>,<span class="_ _3"> </span><span class="fcb">2</span>,<span class="_ _3"> </span><span class="fcb">3</span>,<span class="_ _3"> </span><span class="fcb">4</span>,<span class="_ _2"> </span><span class="fcb">5</span>,<span class="_ _3"> </span><span class="fcb">6</span>]})</span></div><div class="t m0 x46 h27 y85b ff22 fsf fc5 sc0 ls1 ws1">df</div><div class="t m0 x36 h27 y85c ff22 fsf fc14 sc0 ls1 ws1">Out[8]:<span class="_ _49"> </span><span class="fc5">label<span class="_ _44"> </span>value</span></div><div class="t m0 x46 h27 y85d ff22 fsf fc5 sc0 ls1 ws1">0<span class="_ _4f"> </span>A<span class="_ _48"> </span>1</div><div class="t m0 x46 h27 y85e ff22 fsf fc5 sc0 ls1 ws1">1<span class="_ _4f"> </span>B<span class="_ _48"> </span>2</div><div class="t m0 x46 h27 y85f ff22 fsf fc5 sc0 ls1 ws1">2<span class="_ _4f"> </span>C<span class="_ _48"> </span>3</div><div class="t m0 x46 h27 y860 ff22 fsf fc5 sc0 ls1 ws1">3<span class="_ _4f"> </span>A</div><div class="t m0 x5c h27 y861 ff22 fsf fc5 sc0 ls1 ws1">4</div><div class="t m0 x46 h27 y862 ff22 fsf fc5 sc0 ls1 ws1">4<span class="_ _4f"> </span>B<span class="_ _48"> </span>5</div><div class="t m0 x46 h27 y863 ff22 fsf fc5 sc0 ls1 ws1">5<span class="_ _4f"> </span>C<span class="_ _48"> </span>6</div><div class="t m0 x1a h1f yc3 ff1f fsf fc5 sc0 ls1 ws1">P<span class="_ _4"></span>andas<span class="_ _a"> </span><span class="ff1d">的接口允许你直接以名字选中列并进行操作：</span></div><div class="t m0 x36 h27 y864 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[9]:<span class="_ _3"> </span><span class="fc5">df[<span class="ff2a fc11">&apos;<span class="ff22">label</span>&apos;</span>]</span></div><div class="t m0 x36 h27 y865 ff22 fsf fc14 sc0 ls1 ws1">Out[9]:<span class="_ _3"> </span><span class="fc5">0<span class="_ _52"> </span>A</span></div><div class="t m0 x46 h27 y866 ff22 fsf fc5 sc0 ls1 ws1">1<span class="_ _52"> </span>B</div><div class="t m0 x46 h27 y867 ff22 fsf fc5 sc0 ls1 ws1">2<span class="_ _52"> </span>C</div><div class="t m0 x46 h27 y868 ff22 fsf fc5 sc0 ls1 ws1">3<span class="_ _52"> </span>A</div><div class="t m0 x46 h27 y869 ff22 fsf fc5 sc0 ls1 ws1">4<span class="_ _52"> </span>B</div><div class="t m0 x46 h27 y86a ff22 fsf fc5 sc0 ls1 ws1">5<span class="_ _52"> </span>C</div><div class="t m0 x46 h27 y86b ff22 fsf fc5 sc0 ls1 ws1">Name:<span class="_ _3"> </span>label,<span class="_ _3"> </span>dtype:<span class="_ _3"> </span>object</div><div class="t m0 x1a h1f y86c ff1d fsf fc5 sc0 ls1 ws1">在字符串条目之间应用字符串处理函数：</div><div class="t m0 x36 h27 y86d ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[10]:<span class="_ _3"> </span><span class="fc5">df[<span class="ff2a fc11">&apos;<span class="ff22">label</span>&apos;</span>]<span class="fcb">.</span>str<span class="fcb">.</span>lower()</span></div><div class="t m0 x36 h27 y86e ff22 fsf fc14 sc0 ls1 ws1">Out[10]:<span class="_ _3"> </span><span class="fc5">0<span class="_ _52"> </span>a</span></div><div class="t m0 x51 h27 y86f ff22 fsf fc5 sc0 ls1 ws1">1<span class="_ _52"> </span>b</div><div class="t m0 x51 h27 y870 ff22 fsf fc5 sc0 ls1 ws1">2<span class="_ _52"> </span>c</div><div class="t m0 x51 h27 y871 ff22 fsf fc5 sc0 ls1 ws1">3<span class="_ _52"> </span>a</div><div class="t m0 x51 h27 y872 ff22 fsf fc5 sc0 ls1 ws1">4<span class="_ _52"> </span>b</div><div class="t m0 x51 h27 y873 ff22 fsf fc5 sc0 ls1 ws1">5<span class="_ _52"> </span>c</div><div class="t m0 x51 h27 y874 ff22 fsf fc5 sc0 ls1 ws1">Name:<span class="_ _3"> </span>label,<span class="_ _3"> </span>dtype:<span class="_ _3"> </span>object</div><div class="t m0 x1a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">在数值条目之间应用<span class="ff1e">聚集</span>（<span class="ff1f">aggregate</span>）函数：</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf6b" class="pf w3 h1b" data-page-no="6b"><div class="pc pc6b w3 h1b"><img class="bi x2a y7c w4 h2c" alt="" src="bg6b.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">98<span class="_ _90"> </span><span class="ff24">16.<span class="_ _2c"> </span><span class="ff1e">数据科学工具概览</span></span></div><div class="t m0 x36 h27 y136 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[11]:<span class="_ _3"> </span><span class="fc5">df[<span class="ff2a fc11">&apos;<span class="ff22">value</span>&apos;</span>]<span class="fcb">.</span>sum()</span></div><div class="t m0 x36 h27 y138 ff22 fsf fc14 sc0 ls1 ws1">Out[11]:<span class="_ _3"> </span><span class="fc5">21</span></div><div class="t m0 x1a h1f y875 ff1d fsf fc5 sc0 ls1 ws1">并且可能最重要的一点是你可以直接应用高效的数据库风格的连接和分组操作：</div><div class="t m0 x36 h27 y876 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[12]:<span class="_ _3"> </span><span class="fc5">df<span class="fcb">.</span>groupby(<span class="ff2a fc11">&apos;<span class="ff22">label</span>&apos;</span>)<span class="fcb">.</span>sum()</span></div><div class="t m0 x36 h27 y877 ff22 fsf fc14 sc0 ls1 ws1">Out[12]:<span class="_ _51"> </span><span class="fc5">value</span></div><div class="t m0 x51 h27 y878 ff22 fsf fc5 sc0 ls1 ws1">label</div><div class="t m0 x51 h27 y879 ff22 fsf fc5 sc0 ls1 ws1">A<span class="_ _92"> </span>5</div><div class="t m0 x51 h27 y87a ff22 fsf fc5 sc0 ls1 ws1">B<span class="_ _92"> </span>7</div><div class="t m0 x51 h27 y87b ff22 fsf fc5 sc0 ls1 ws1">C<span class="_ _92"> </span>9</div><div class="t m0 x1a h1f y87c ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _f"></span>这<span class="_ _f"></span>里，<span class="_ _f"></span>我<span class="_ _f"></span>们<span class="_ _4a"></span>用<span class="_ _f"></span>一<span class="_ _f"></span>行<span class="_ _f"></span>代<span class="_ _f"></span>码<span class="_ _f"></span>就<span class="_ _4a"></span>计<span class="_ _f"></span>算<span class="_ _f"></span>出<span class="_ _f"></span>了<span class="_ _f"></span>相<span class="_ _f"></span>同<span class="_ _4a"></span>标<span class="_ _f"></span>签<span class="_ _f"></span>列<span class="_ _f"></span>的<span class="_ _f"></span>数<span class="_ _f"></span>值<span class="_ _4a"></span>的<span class="_ _f"></span>和。<span class="_ _f"></span>如<span class="_ _f"></span>果<span class="_ _f"></span>使<span class="_ _f"></span>用<span class="_ _8"> </span><span class="ff1f">NumPy<span class="_ _3b"> </span></span>和<span class="_ _f"></span>核</div><div class="t m0 x2a h1f y87d ff1d fsf fc5 sc0 ls1 ws1">心<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>代码，这样的操作更加繁琐（也更加低效）<span class="_ _39"></span>。</div><div class="t m0 x1a h1f y87e ff1d fsf fc5 sc0 ls1 ws1">想了解关于<span class="_ _e"> </span><span class="ff1f">Pandas<span class="_ _e"> </span></span>的更多知识，查阅第<span class="_ _a"> </span><span class="ff1f fc6">17<span class="_ _e"> </span></span>章<span class="_ _a"> </span><span class="fc6">更多学习资源</span>。</div><div class="t m0 x2a h23 y87f ff19 fsd fc5 sc0 ls1 ws1">16.3<span class="_ _15"> </span>Matplotlib<span class="ff1a">：</span>MatLab<span class="_ _3"> </span><span class="ff1a">风格的科学可视化</span></div><div class="t m0 x1a h1f y880 ff1f fsf fc5 sc0 ls1 ws1">Matplotlib<span class="_ _a"> </span><span class="ff1d">目前<span class="_ _0"></span>是<span class="_ _a"> </span></span>Python<span class="_ _a"> </span><span class="ff1d">中最<span class="_ _0"></span>受欢迎<span class="_ _0"></span>的科<span class="_ _0"></span>学可视<span class="_ _0"></span>化库。尽管<span class="_ _0"></span>它的<span class="_ _0"></span>支持者<span class="_ _0"></span>都会<span class="_ _0"></span>认为它<span class="_ _0"></span>的接</span></div><div class="t m0 x2a h1f y881 ff1d fsf fc5 sc0 ls1 ws1">口有的时候过于繁琐，但是它对于绘制各种类型的图表来说仍然是一个强有力的工具包。</div><div class="t m0 x1a h1f y882 ff1d fsf fc5 sc0 ls1 ws1">要<span class="_ _0"></span>使<span class="_ _0"></span>用<span class="_ _a"> </span><span class="ff1f">Matplotlib</span>，<span class="_ _0"></span>我<span class="_ _0"></span>们从<span class="_ _0"></span>开<span class="_ _0"></span>启<span class="_ _0"></span>记事<span class="_ _0"></span>本<span class="_ _0"></span>模<span class="_ _0"></span>式（对<span class="_ _0"></span>于<span class="_ _0"></span>使<span class="_ _0"></span>用<span class="_ _a"> </span><span class="ff1f">Jupyter<span class="_ _a"> </span>Noteb<span class="_ _0"></span>ook<span class="_ _10"> </span></span>的<span class="_ _0"></span>用<span class="_ _0"></span>户来<span class="_ _0"></span>说）<span class="_ _43"></span>，</div><div class="t m0 x2a h1f y883 ff1d fsf fc5 sc0 ls1 ws1">然后导入库并重命名为<span class="_ _e"> </span><span class="ff22">plt</span>。</div><div class="t m0 x36 h21 y884 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[13]:<span class="_ _3"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">如果使用<span class="_ _3"> </span></span>Jupyter<span class="_ _2"> </span>Notebook<span class="_ _3"> </span><span class="ff1e">需要运行下面这一行</span></span></div><div class="t m0 x51 h27 y885 ff22 fsf fcb sc0 ls1 ws1">%<span class="ff29 fc9">matplotlib<span class="_ _3"> </span></span><span class="fc5">notebook</span></div><div class="t m0 x36 h27 y886 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[14]:<span class="_ _3"> </span><span class="ff29 fc9">import<span class="_ _3"> </span><span class="fca">matplotlib.pyplot<span class="_ _3"> </span></span>as<span class="_ _2"> </span><span class="fca">plt</span></span></div><div class="t m0 x51 h21 y887 ff22 fsf fc5 sc0 ls1 ws1">plt<span class="fcb">.</span>style<span class="fcb">.</span>use(<span class="ff2a fc11">&apos;<span class="ff22">ggplot</span>&apos;</span>)<span class="_ _44"> </span><span class="ff2c fcf">#<span class="_ _2"> </span><span class="ff1e">使用<span class="_ _3"> </span></span>R<span class="_ _3"> </span><span class="ff1e">语言的<span class="_ _3"> </span></span>ggplot<span class="_ _3"> </span><span class="ff1e">风格画图</span></span></div><div class="t m0 x1a h1f y888 ff1d fsf fc5 sc0 ls1 ws1">现在让我们创建一些数据（当然是以<span class="_ _e"> </span><span class="ff1f">NumPy<span class="_ _a"> </span></span>数组的形式）<span class="_ _39"></span>，并且将结果绘制出来：</div><div class="t m0 x36 h21 y153 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[15]:<span class="_ _3"> </span><span class="fc5">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>np<span class="fcb">.</span>linspace(<span class="fcb">0</span>,<span class="_ _2"> </span><span class="fcb">10</span>)<span class="_ _44"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">从<span class="_ _3"> </span></span>0<span class="_ _3"> </span><span class="ff1e">到<span class="_ _3"> </span></span>10<span class="_ _3"> </span><span class="ff1e">范围内取值</span></span></span></div><div class="t m0 x51 h21 y154 ff22 fsf fc5 sc0 ls1 ws1">y<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>np<span class="fcb">.</span>sin(x)<span class="_ _56"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">取这些值的正弦值</span></span></div><div class="t m0 x51 h21 y155 ff22 fsf fc5 sc0 ls1 ws1">plt<span class="fcb">.</span>plot(x,<span class="_ _3"> </span>y);<span class="_ _47"> </span><span class="ff2c fcf">#<span class="_ _3"> </span><span class="ff1e">绘制成一条曲线</span></span></div><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:291.909000px;bottom:442.629000px;width:10.909000px;height:6.870000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:321.000000px;bottom:439.518000px;width:65.454000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf6c" class="pf w3 h1b" data-page-no="6c"><div class="pc pc6c w3 h1b"><img class="bi x2a y1f9 w4 h5b" alt="" src="bg6c.png"/><div class="t m0 x2a h21 y7d ff24 fsf fc5 sc0 ls1 ws1">16.4.<span class="_ _2c"> </span>SCIPY<span class="ff1e">：</span>PYTHON<span class="_ _a"> </span><span class="ff1e">科学计算<span class="_ _93"> </span><span class="ff1f">99</span></span></div><div class="t m0 x1a h1f y889 ff1d fsf fc5 sc0 ls1 ws1">如果你<span class="_ _0"></span>使用交互<span class="_ _0"></span>模式运行<span class="_ _0"></span>上述代码，<span class="_ _0"></span>你可以在<span class="_ _0"></span>一个交互式<span class="_ _0"></span>的窗口中<span class="_ _0"></span>移动、缩放、<span class="_ _0"></span>滚动来浏</div><div class="t m0 x2a h1f y88a ff1d fsf fc5 sc0 ls1 ws1">览数据。</div><div class="t m0 x1a h1f y88b ff1d fsf fc5 sc0 ls1 ws1">这是<span class="_ _a"> </span><span class="ff1f">Matplotlib<span class="_ _10"> </span></span>图像<span class="_ _0"></span>中最<span class="_ _0"></span>简单的<span class="_ _0"></span>一个<span class="_ _0"></span>例子。<span class="_ _0"></span>想要了<span class="_ _0"></span>解创<span class="_ _0"></span>建其<span class="_ _0"></span>他图表<span class="_ _0"></span>的知<span class="_ _0"></span>识，请<span class="_ _0"></span>查阅<span class="_ _a"> </span><span class="ff1f">Mat-</span></div><div class="t m0 x2a h1f y88c ff1f fsf fc5 sc0 ls1 ws1">plotlib<span class="_ _e"> </span><span class="ff1d">在线画<span class="_ _0"></span>廊：<span class="ff22 fc7">http://matplotlib.org/gallery.html<span class="_ _e"> </span></span>和其他在第<span class="_ _a"> </span></span><span class="fc6">17<span class="_ _e"> </span></span><span class="ff1d">章<span class="_ _a"> </span><span class="fc6">更多学习资源</span>中</span></div><div class="t m0 x2a h1f y88d ff1d fsf fc5 sc0 ls1 ws1">列出的资源。</div><div class="t m0 x2a h23 y88e ff19 fsd fc5 sc0 ls1 ws1">16.4<span class="_ _15"> </span>SciPy<span class="ff1a">：</span>Python<span class="_ _3"> </span><span class="ff1a">科学计算</span></div><div class="t m0 x1a h1f y88f ff1f fsf fc5 sc0 ls1 ws1">SciPy<span class="_ _a"> </span><span class="ff1d">是基<span class="_ _0"></span>于<span class="_ _a"> </span></span>NumPy<span class="_ _a"> </span><span class="ff1d">构建<span class="_ _0"></span>的一<span class="_ _0"></span>个科<span class="_ _0"></span>学计算<span class="_ _0"></span>功能<span class="_ _0"></span>的集<span class="_ _0"></span>合。最<span class="_ _0"></span>初这个库<span class="_ _0"></span>是一<span class="_ _0"></span>套<span class="_ _a"> </span></span>F<span class="_ _9"></span>ortran<span class="_ _a"> </span><span class="ff1d">下著</span></div><div class="t m0 x2a h1f y890 ff1d fsf fc5 sc0 ls1 ws1">名数<span class="_ _0"></span>值计算库<span class="_ _0"></span>在<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>下的封<span class="_ _0"></span>装，并慢<span class="_ _0"></span>慢发展<span class="_ _0"></span>壮大。这<span class="_ _0"></span>个库被组<span class="_ _0"></span>织成一<span class="_ _0"></span>些列子<span class="_ _0"></span>模块，每<span class="_ _0"></span>个子</div><div class="t m0 x2a h1f y891 ff1d fsf fc5 sc0 ls1 ws1">模块实现一些数值算法。下面列出了部分对于数据科学而言重要的模块：</div><div class="t m0 x1a h1f y892 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">scipy.fftpack<span class="ff1d">：<span class="ff1e">快速傅里叶变换</span>（<span class="ff1f">F<span class="_ _5"></span>ast<span class="_ _e"> </span>F<span class="_ _5"></span>ourier<span class="_ _e"> </span>T<span class="_ _5"></span>ransforms<span class="_ _a"> </span>(FFT)<span class="ff1d">）</span></span></span></span></div><div class="t m0 x1a h1f y893 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">scipy.integrate<span class="ff1d">：<span class="ff1e">数值积分</span>（<span class="ff1f">numerical<span class="_ _e"> </span>integration<span class="_ _4"></span><span class="ff1d">）</span></span></span></span></div><div class="t m0 x1a h1f y894 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">scipy.interpolate<span class="ff1d">：<span class="ff1e">数值插值</span>（<span class="ff1f">numerical<span class="_ _e"> </span>interpolation</span>）</span></span></div><div class="t m0 x1a h1f y895 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">scipy.linalg<span class="ff1d">：线性代数方法</span></span></div><div class="t m0 x1a h1f y896 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">scipy.optimize<span class="ff1d">：<span class="ff1e">函数数值优化</span>（<span class="ff1f">numerical<span class="_ _e"> </span>optimization<span class="_ _a"> </span>of<span class="_ _e"> </span>functions</span>）</span></span></div><div class="t m0 x1a h1f y897 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">scipy.sparse<span class="ff1d">：<span class="ff1e">稀疏矩阵存储</span>（<span class="ff1f">sparse<span class="_ _a"> </span>matrix<span class="_ _e"> </span>storage</span>）和线性代数</span></span></div><div class="t m0 x1a h1f y898 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff22">scipy.stats<span class="ff1d">：<span class="ff1e">统计分析</span>（<span class="ff1f">statistical<span class="_ _a"> </span>analysis</span>）方法</span></span></div><div class="t m0 x1a h1f y899 ff1d fsf fc5 sc0 ls1 ws1">比如，我们来看看如何在某些数据之间插值从而绘制出平滑的曲线：</div><div class="t m0 x36 h27 y384 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[16]:<span class="_ _3"> </span><span class="ff29 fc9">from<span class="_ _3"> </span><span class="fca">scipy<span class="_ _3"> </span></span>import<span class="_ _2"> </span></span><span class="fc5">interpolate</span></div><div class="t m0 x51 h21 y1ae ff2c fsf fcf sc0 ls1 ws1">#<span class="_ _3"> </span><span class="ff1e">选择<span class="_ _3"> </span></span>0<span class="_ _3"> </span><span class="ff1e">到<span class="_ _3"> </span></span>10<span class="_ _2"> </span><span class="ff1e">之间的<span class="_ _3"> </span></span>8<span class="_ _3"> </span><span class="ff1e">个点</span></div><div class="t m0 x51 h27 y1af ff22 fsf fc5 sc0 ls1 ws1">x<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>np<span class="fcb">.</span>linspace(<span class="fcb">0</span>,<span class="_ _3"> </span><span class="fcb">10</span>,<span class="_ _3"> </span><span class="fcb">8</span>)</div><div class="t m0 x51 h27 y1b0 ff22 fsf fc5 sc0 ls1 ws1">y<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>np<span class="fcb">.</span>sin(x)</div><div class="t m0 x51 h21 y1b2 ff2c fsf fcf sc0 ls1 ws1">#<span class="_ _3"> </span><span class="ff1e">创建一个三次插值函数</span></div><div class="t m0 x51 h27 yd4 ff22 fsf fc5 sc0 ls1 ws1">func<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>interpolate<span class="fcb">.</span>interp1d(x,<span class="_ _3"> </span>y,<span class="_ _3"> </span>kind<span class="fcb">=<span class="ff2a fc11">&apos;<span class="ff22">cubic</span>&apos;</span></span>)</div><div class="t m0 x51 h21 yd6 ff2c fsf fcf sc0 ls1 ws1">#<span class="_ _3"> </span><span class="ff1e">在<span class="_ _3"> </span></span>1,000<span class="_ _3"> </span><span class="ff1e">个点的网格上进行插值运算</span></div><div class="t m0 x51 h27 y7c ff22 fsf fc5 sc0 ls1 ws1">x_interp<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>np<span class="fcb">.</span>linspace(<span class="fcb">0</span>,<span class="_ _3"> </span><span class="fcb">10</span>,<span class="_ _3"> </span><span class="fcb">1000</span>)</div><a class="l" href="http://matplotlib.org/gallery.html"><div class="d m7" style="border-style:none;position:absolute;left:161.134000px;bottom:521.900000px;width:194.727000px;height:10.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:417.746000px;bottom:524.324000px;width:10.909000px;height:6.870000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",72,769.89,null]'><div class="d m7" style="border-style:none;position:absolute;left:446.864000px;bottom:521.213000px;width:65.503000px;height:12.529000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf6d" class="pf w3 h1b" data-page-no="6d"><div class="pc pc6d w3 h1b"><img class="bi x2a y89a w4 h75" alt="" src="bg6d.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">100<span class="_ _94"> </span><span class="ff24">16.<span class="_ _2c"> </span><span class="ff1e">数据科学工具概览</span></span></div><div class="t m0 x51 h27 y212 ff22 fsf fc5 sc0 ls1 ws1">y_interp<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>func(x_interp)</div><div class="t m0 x51 h21 y386 ff2c fsf fcf sc0 ls1 ws1">#<span class="_ _3"> </span><span class="ff1e">绘制结果</span></div><div class="t m0 x51 h21 y387 ff22 fsf fc5 sc0 ls1 ws1">plt<span class="fcb">.</span>figure()<span class="_ _44"> </span><span class="ff2c fcf">#<span class="_ _2"> </span><span class="ff1e">新的图片</span></span></div><div class="t m0 x51 h27 y388 ff22 fsf fc5 sc0 ls1 ws1">plt<span class="fcb">.</span>plot(x,<span class="_ _3"> </span>y,<span class="_ _3"> </span><span class="ff2a fc11">&apos;<span class="ff22">o</span>&apos;</span>)</div><div class="t m0 x51 h27 y389 ff22 fsf fc5 sc0 ls1 ws1">plt<span class="fcb">.</span>plot(x_interp,<span class="_ _3"> </span>y_interp);</div><div class="t m0 x1a h1f y89b ff1d fsf fc5 sc0 ls1 ws1">我们看到的是在点之间平滑的插值。</div><div class="t m0 x2a h23 y89c ff19 fsd fc5 sc0 ls1 ws1">16.5<span class="_ _15"> </span><span class="ff1a">其他数据科学库</span></div><div class="t m0 x1a h1f y89d ff1d fsf fc5 sc0 ls1 ws1">许多其他<span class="_ _0"></span>数据科学包建立<span class="_ _0"></span>在这些工具之<span class="_ _0"></span>上，包括一些通用<span class="_ _0"></span>工具，比如机器<span class="_ _0"></span>学习的库<span class="_ _a"> </span><span class="ff1f fc7">Scikit-</span></div><div class="t m0 x2a h1f y89e ff1f fsf fc7 sc0 ls1 ws1">Learn<span class="ff1d fc5">，图<span class="_ _0"></span>像处<span class="_ _0"></span>理、分<span class="_ _0"></span>析的工<span class="_ _0"></span>具<span class="_ _a"> </span></span>Scikit-Image<span class="ff1d fc5">，以<span class="_ _0"></span>及统计<span class="_ _0"></span>建模<span class="_ _0"></span>的工<span class="_ _0"></span>具<span class="_ _a"> </span></span>Statsmodels<span class="ff1d fc5">，<span class="_ _0"></span>还有<span class="_ _0"></span>其他一</span></div><div class="t m0 x2a h1f y89f ff1d fsf fc5 sc0 ls1 ws1">些更<span class="_ _0"></span>专注于<span class="_ _0"></span>领域的库，<span class="_ _0"></span>比如针<span class="_ _0"></span>对天<span class="_ _0"></span>文学和<span class="_ _0"></span>天体物<span class="_ _0"></span>理学的<span class="_ _0"></span>工具<span class="_ _a"> </span><span class="ff1f fc7">AstroPy</span>，神<span class="_ _0"></span>经影像<span class="_ _0"></span>学工具<span class="_ _a"> </span><span class="ff1f fc7">NiPy</span>，</div><div class="t m0 x2a h1f y8a0 ff1d fsf fc5 sc0 ls1 ws1">还有更多……</div><div class="t m0 x1a h1f y8a1 ff1d fsf fc5 sc0 ls1 ws1">无论你遇到什么样的科学、数值或统计问题，都可能有一个<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>包可以帮助你解决它。</div><a class="l" href="http://scikit-learn.org"><div class="d m7" style="border-style:none;position:absolute;left:492.669000px;bottom:381.550000px;width:30.607000px;height:7.515000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://scikit-learn.org"><div class="d m7" style="border-style:none;position:absolute;left:72.000000px;bottom:365.291000px;width:27.455000px;height:7.515000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://scikit-image.org"><div class="d m7" style="border-style:none;position:absolute;left:225.193000px;bottom:363.169000px;width:59.394000px;height:9.637000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://statsmodels.sourceforge.net/"><div class="d m7" style="border-style:none;position:absolute;left:399.417000px;bottom:365.291000px;width:57.393000px;height:7.515000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://astropy.org"><div class="d m7" style="border-style:none;position:absolute;left:363.384000px;bottom:346.910000px;width:39.637000px;height:9.637000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://nipy.org/"><div class="d m7" style="border-style:none;position:absolute;left:495.345000px;bottom:346.910000px;width:24.394000px;height:9.637000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf6e" class="pf w3 h1b" data-page-no="6e"><div class="pc pc6e w3 h1b"><img class="bi x2a y8a2 w5 h2d" alt="" src="bg6e.png"/><div class="t m0 x80 h1c y3f ff1a fsc fc5 sc0 ls1 ws1">第<span class="_ _7"> </span><span class="ff19">17<span class="_ _7"> </span></span>章<span class="_ _33"> </span>更多学习资源</div><div class="t m0 x1a h1f y240 ff1d fsf fc5 sc0 ls1 ws1">让<span class="_ _4a"></span>我<span class="_ _55"> </span>们<span class="_ _55"></span>用<span class="_ _4a"></span>这<span class="_ _55"> </span>一<span class="_ _55"></span>章<span class="_ _4a"></span>来<span class="_ _55"> </span>总<span class="_ _4a"></span>结<span class="_ _55"> </span>我<span class="_ _55"> </span>们<span class="_ _4a"></span>的<span class="_ _3"> </span><span class="ff1f">Python<span class="_ _8"> </span></span>旋<span class="_ _55"> </span>风<span class="_ _4a"></span>之<span class="_ _55"> </span>旅！<span class="_ _55"> </span>我<span class="_ _4a"></span>希<span class="_ _55"> </span>望<span class="_ _55"> </span>当<span class="_ _4a"></span>你<span class="_ _55"> </span>阅<span class="_ _55"></span>读<span class="_ _4a"></span>到<span class="_ _55"> </span>这<span class="_ _55"></span>里<span class="_ _4a"></span>时，<span class="_ _55"> </span>你<span class="_ _55"></span>能</div><div class="t m0 x2a h1f y241 ff1d fsf fc5 sc0 ls1 ws1">对<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>的基本的语法、<span class="_ _34"></span>语义、<span class="_ _9"></span>运算符和功能有一定的了解，<span class="_ _9"></span>并且能掌握一些<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>的工具</div><div class="t m0 x2a h1f y242 ff1d fsf fc5 sc0 ls1 ws1">和代码块来帮助你探索更多<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>的知识。</div><div class="t m0 x1a h1f y6f0 ff1d fsf fc5 sc0 ls1 ws1">在全<span class="_ _0"></span>书中我<span class="_ _0"></span>们已经<span class="_ _0"></span>尝试向<span class="_ _0"></span>你介绍<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>在一<span class="_ _0"></span>些在数<span class="_ _0"></span>据科学<span class="_ _0"></span>领域中最<span class="_ _0"></span>有用的<span class="_ _0"></span>知识，但<span class="_ _0"></span>这并</div><div class="t m0 x2a h1f y6f1 ff1d fsf fc5 sc0 ls1 ws1">不意<span class="_ _0"></span>味着<span class="_ _0"></span>这是一<span class="_ _0"></span>个全<span class="_ _0"></span>面、完<span class="_ _0"></span>整的<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>介绍。<span class="_ _0"></span>如果<span class="_ _0"></span>你需<span class="_ _0"></span>要进一<span class="_ _0"></span>步理<span class="_ _0"></span>解<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>语言<span class="_ _0"></span>本身以<span class="_ _0"></span>及</div><div class="t m0 x2a h1f y6f2 ff1d fsf fc5 sc0 ls1 ws1">如何高效使用<span class="_ _e"> </span><span class="ff1f">Python</span>，下面是一些我推荐的资源：</div><div class="t m0 x1a h22 y8a3 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff20 fc7">Fluent<span class="_ _3b"> </span>Python</span></div><div class="t m0 x5 h26 y8a4 ff26 fs10 fc6 sc0 ls1 ws1">1</div><div class="t m0 x53 h1f y8a3 ff1d fsf fc5 sc0 ls1 ws1">，<span class="_ _0"></span>作<span class="_ _0"></span>者：<span class="ff1f">Luciano<span class="_ _10"> </span>Ramalho</span>。<span class="_ _0"></span>这<span class="_ _0"></span>是<span class="_ _0"></span>一<span class="_ _0"></span>本<span class="_ _0"></span>非常<span class="_ _0"></span>不<span class="_ _0"></span>错<span class="_ _0"></span>的<span class="_ _10"> </span><span class="ff1f">Python<span class="_ _10"> </span></span>教<span class="_ _0"></span>材，<span class="_ _0"></span>探<span class="_ _0"></span>索</div><div class="t m0 x32 h1f y8a5 ff1d fsf fc5 sc0 ls1 ws1">了<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>中的最佳实践以及常见的用法，包括标准库中大多数的用法。</div><div class="t m0 x1a h1f y8a6 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff20 fc7">Dive<span class="_ _a"> </span>Into<span class="_ _a"> </span>Python<span class="_ _0"></span></span><span class="ff1d">，<span class="_ _5"></span>作者：<span class="_ _5"></span><span class="ff1f">Mark<span class="_ _e"> </span>Pilgrim<span class="ff1d">。<span class="_ _5"></span>这是一本免费的在线书籍。<span class="_ _4"></span>介绍了<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _e"> </span></span>语</span></span></span></div><div class="t m0 x32 h1f y8a7 ff1d fsf fc5 sc0 ls1 ws1">言的详细用法。</div><div class="t m0 x1a h22 y8a8 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff20 fc7">L<span class="_ _4"></span>e<span class="_ _5"></span>arn<span class="_ _a"> </span>Python<span class="_ _a"> </span>the<span class="_ _e"> </span>Har<span class="_ _4"></span>d<span class="_ _a"> </span>W<span class="_ _9"></span>ay</span></div><div class="t m0 x63 h26 y8a9 ff26 fs10 fc6 sc0 ls1 ws1">2</div><div class="t m0 x79 h1f y8a8 ff1d fsf fc5 sc0 ls1 ws1">，<span class="_ _5"></span>作者：<span class="_ _4"></span><span class="ff1f">Zed<span class="_ _e"> </span>Sha<span class="_ _4"></span>w<span class="ff1d">。<span class="_ _5"></span>这本书通过<span class="_ _4"></span>“在尝试中学习”<span class="_ _5"></span>的方法，</span></span></div><div class="t m0 x32 h1f y8aa ff1d fsf fc5 sc0 ls1 ws1">着重强调了一个程序员可能最重要的一种技能：上<span class="_ _e"> </span><span class="ff1f">Go<span class="_ _0"></span>ogle<span class="_ _a"> </span></span>搜索自己不清楚的问题。</div><div class="t m0 x1a h22 y8ab ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff20 fc7">Python<span class="_ _a"> </span>Essential<span class="_ _a"> </span>R<span class="_ _5"></span>efer<span class="_ _4"></span>enc<span class="_ _5"></span>e</span></div><div class="t m0 x3b h26 y8ac ff26 fs10 fc6 sc0 ls1 ws1">3</div><div class="t m0 x63 h1f y8ab ff1d fsf fc5 sc0 ls1 ws1">，<span class="_ _4"></span>作者：<span class="_ _4"></span><span class="ff1f">David<span class="_ _e"> </span>Beazley<span class="ff1d">。<span class="_ _4"></span>这本精心写作的<span class="_ _e"> </span><span class="ff1f">700<span class="_ _a"> </span></span>页的<span class="_ _4"></span>“怪兽”</span></span></div><div class="t m0 x32 h1f y8ad ff1d fsf fc5 sc0 ls1 ws1">包括了几<span class="_ _0"></span>乎所有需要知道<span class="_ _0"></span>的<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>语言知识<span class="_ _0"></span>和它内置的库。如果<span class="_ _0"></span>你需要更专注于<span class="_ _0"></span>具体</div><div class="t m0 x32 h1f y8ae ff1d fsf fc5 sc0 ls1 ws1">应用的知识，你可以看这位作者的另外一本书：<span class="ff20 fc7">Python<span class="_ _a"> </span>Co<span class="_ _5"></span>okb<span class="_ _4"></span>o<span class="_ _5"></span>ok</span></div><div class="t m0 x3e h26 y8af ff26 fs10 fc6 sc0 ls1 ws1">4</div><div class="t m0 x91 h1f y8ae ff1d fsf fc5 sc0 ls1 ws1">。</div><div class="t m0 x1a h1f y8b0 ff1d fsf fc5 sc0 ls1 ws1">在数据科学和科学计算领域，你可以阅读以下书籍来挖掘更多<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>的知识：</div><div class="t m0 x1a h22 y8b1 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff20 fc7">The<span class="_ _a"> </span>Python<span class="_ _e"> </span>Data<span class="_ _a"> </span>Scienc<span class="_ _5"></span>e<span class="_ _a"> </span>Handb<span class="_ _5"></span>o<span class="_ _4"></span>ok</span></div><div class="t m0 x92 h26 y8b2 ff26 fs10 fc6 sc0 ls1 ws1">5</div><div class="t m0 x6a h1f y8b1 ff1d fsf fc5 sc0 ls1 ws1">，<span class="_ _9"></span>作者：<span class="_ _9"></span><span class="ff1f">Jake<span class="_ _38"> </span>V<span class="_ _5"></span>anderPlas<span class="ff1d">。<span class="_ _9"></span>这本书从我们这次旋风</span></span></div><div class="t m0 x32 h1f y8b3 ff1d fsf fc5 sc0 ls1 ws1">之旅结束<span class="_ _0"></span>的地方开始，为<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>数据科学的技<span class="_ _0"></span>术栈中的基本<span class="_ _0"></span>工具（从数据管理、<span class="_ _0"></span>操作</div><div class="t m0 x32 h1f y8b4 ff1d fsf fc5 sc0 ls1 ws1">到机器学习等方面）提供了全面的指南。</div><div class="t m0 x1a h22 y8b5 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff20 fc7">Eﬀe<span class="_ _4"></span>ctive<span class="_ _a"> </span>Computation<span class="_ _a"> </span>in<span class="_ _a"> </span>Physics</span></div><div class="t m0 x29 h26 y8b6 ff26 fs10 fc6 sc0 ls1 ws1">6</div><div class="t m0 x3c h1f y8b5 ff1d fsf fc5 sc0 ls1 ws1">，作者：<span class="_ _4"></span><span class="ff1f">Katie<span class="_ _e"> </span>Huff<span class="ff1d">、</span>An<span class="_ _4"></span>thon<span class="_ _4"></span>y<span class="_ _e"> </span>Scopatz<span class="ff1d">。这本书适用</span></span></div><div class="t m0 x32 h1f y8b7 ff1d fsf fc5 sc0 ls1 ws1">于需要进行物理研究的<span class="_ _0"></span>人。这本书逐步介绍了科学计算的内容，还<span class="_ _0"></span>介绍了本书中提到的</div><div class="t m0 x32 h1f y8b8 ff1d fsf fc5 sc0 ls1 ws1">许多工具的使用方法。</div><div class="t m0 x1a h22 y8b9 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff20 fc7">Python<span class="_ _a"> </span>for<span class="_ _a"> </span>Data<span class="_ _a"> </span>A<span class="_ _4"></span>nalysis</span></div><div class="t m0 x64 h26 y8ba ff26 fs10 fc6 sc0 ls1 ws1">7</div><div class="t m0 x93 h1f y8b9 ff1d fsf fc5 sc0 ls1 ws1">，作者：<span class="ff1f">W<span class="_ _9"></span>es<span class="_ _a"> </span>McKinney<span class="ff1d">。这本书的作者是<span class="_ _a"> </span></span>P<span class="_ _4"></span>andas<span class="_ _e"> </span><span class="ff1d">库的创<span class="_ _0"></span>始</span></span></div><div class="t m0 x32 h1f y8bb ff1d fsf fc5 sc0 ls1 ws1">人。这本书涵盖了<span class="_ _e"> </span><span class="ff1f">Pandas<span class="_ _e"> </span></span>库的详尽知识，也提供了许多其他工具的有用知识。</div><div class="t m0 x1a h1f y8bc ff1d fsf fc5 sc0 ls1 ws1">最后，为了更广泛地了解<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>世界，我推荐如下资源：</div><div class="t m0 x37 h28 y8bd ff27 fs11 fc5 sc0 ls1 ws1">1</div><div class="t m0 x2f h29 y8be ff1d fs12 fc5 sc0 ls1 ws1">译者注：中文版《流畅的<span class="_ _38"> </span><span class="ff28">Python</span>》已由人民邮电出版社于<span class="_ _38"> </span><span class="ff28">2017<span class="_ _35"> </span></span>年<span class="_ _38"> </span><span class="ff28">5<span class="_ _38"> </span></span>月出版。</div><div class="t m0 x37 h28 y8bf ff27 fs11 fc5 sc0 ls1 ws1">2</div><div class="t m0 x2f h29 y8c0 ff1d fs12 fc5 sc0 ls1 ws1">译<span class="_ _0"></span>者<span class="_ _0"></span>注：<span class="_ _0"></span>本书<span class="_ _0"></span>翻<span class="_ _0"></span>译<span class="_ _0"></span>时<span class="_ _0"></span>该<span class="_ _0"></span>书<span class="_ _0"></span>作者<span class="_ _a"> </span><span class="ff28">Zed<span class="_ _e"> </span>Shaw<span class="_ _e"> </span></span>已<span class="_ _0"></span>经<span class="_ _0"></span>为<span class="_ _a"> </span><span class="ff28">Python<span class="_ _e"> </span>3<span class="_ _a"> </span></span>出<span class="_ _0"></span>版新<span class="_ _0"></span>版<span class="_ _a"> </span><span class="ff37">L<span class="_ _4"></span>e<span class="_ _4"></span>arn<span class="_ _a"> </span>Python<span class="_ _e"> </span>3<span class="_ _a"> </span>the<span class="_ _a"> </span>Har<span class="_ _4"></span>d<span class="_ _a"> </span>W<span class="_ _5"></span>ay<span class="_ _0"></span><span class="ff1d">。<span class="_ _0"></span>原<span class="_ _0"></span>书</span></span></div><div class="t m0 x2a h29 y8c1 ff37 fs12 fc5 sc0 ls1 ws1">L<span class="_ _4"></span>e<span class="_ _5"></span>arn<span class="_ _e"> </span>Python<span class="_ _38"> </span>the<span class="_ _e"> </span>Har<span class="_ _4"></span>d<span class="_ _38"> </span>W<span class="_ _5"></span>ay<span class="_ _a"> </span><span class="ff1d">中文版《<span class="_ _45"></span>“笨办法”学<span class="_ _38"> </span><span class="ff28">Python</span>》已由人民邮电出版社于<span class="_ _38"> </span><span class="ff28">2014<span class="_ _38"> </span></span>年<span class="_ _38"> </span><span class="ff28">11<span class="_ _38"> </span></span>月出版。</span></div><div class="t m0 x37 h28 y8c2 ff27 fs11 fc5 sc0 ls1 ws1">3</div><div class="t m0 x2f h29 y8c3 ff1d fs12 fc5 sc0 ls1 ws1">译者注：中文版《<span class="ff28">Python<span class="_ _38"> </span></span>参考手册（第四版）<span class="_ _45"></span>》已由人民邮电出版社于<span class="_ _38"> </span><span class="ff28">2016<span class="_ _38"> </span></span>年<span class="_ _38"> </span><span class="ff28">10<span class="_ _38"> </span></span>月出版。</div><div class="t m0 x37 h28 y8c4 ff27 fs11 fc5 sc0 ls1 ws1">4</div><div class="t m0 x2f h29 y8c5 ff1d fs12 fc5 sc0 ls1 ws1">译者注：中文版《<span class="ff28">Python<span class="_ _38"> </span>Cookb<span class="_ _0"></span>o<span class="_ _0"></span>ok<span class="_ _35"> </span></span>中文版（第三版）<span class="_ _42"></span>》已由人民邮电出版社于<span class="_ _35"> </span><span class="ff28">2015<span class="_ _38"> </span></span>年<span class="_ _38"> </span><span class="ff28">5<span class="_ _38"> </span></span>月出版。</div><div class="t m0 x37 h28 y8c6 ff27 fs11 fc5 sc0 ls1 ws1">5</div><div class="t m0 x2f h29 y8c7 ff1d fs12 fc5 sc0 ls1 ws1">译者注：中文版《<span class="ff28">Python<span class="_ _38"> </span></span>数据科学手册》已由人民邮电出版社于<span class="_ _38"> </span><span class="ff28">2018<span class="_ _35"> </span></span>年<span class="_ _38"> </span><span class="ff28">1<span class="_ _38"> </span></span>月出版。</div><div class="t m0 x37 h28 y8c8 ff27 fs11 fc5 sc0 ls1 ws1">6</div><div class="t m0 x2f h29 y8c9 ff1d fs12 fc5 sc0 ls1 ws1">译者注：中文版《<span class="ff28">Python<span class="_ _38"> </span></span>物理学高效计算》已由人民邮电出版社于<span class="_ _38"> </span><span class="ff28">2018<span class="_ _35"> </span></span>年<span class="_ _38"> </span><span class="ff28">2<span class="_ _38"> </span></span>月出版。</div><div class="t m0 x37 h28 yf5 ff27 fs11 fc5 sc0 ls1 ws1">7</div><div class="t m0 x2f h29 yf6 ff1d fs12 fc5 sc0 ls1 ws1">译者注：<span class="_ _4"></span>本书翻译时，<span class="_ _4"></span>该书已经更新<span class="fc7">第<span class="_ _35"> </span><span class="ff28">2<span class="_ _38"> </span></span>版</span>，<span class="_ _4"></span>仍然由<span class="_ _35"> </span><span class="ff28">O’Reilly<span class="_ _38"> </span></span>公司出版。<span class="_ _4"></span>原书<span class="_ _38"> </span><span class="ff37">Python<span class="_ _38"> </span>for<span class="_ _38"> </span>Data<span class="_ _e"> </span>A<span class="_ _4"></span>nalysis<span class="_ _38"> </span><span class="ff1d">中文</span></span></div><div class="t m0 x2a h29 y7c ff1d fs12 fc5 sc0 ls1 ws1">版《利用<span class="_ _38"> </span><span class="ff28">Python<span class="_ _38"> </span></span>进行数据分析》已由机械工业出版社于<span class="_ _35"> </span><span class="ff28">2013<span class="_ _38"> </span></span>年<span class="_ _38"> </span><span class="ff28">11<span class="_ _38"> </span></span>月出版。</div><div class="t m0 x1b h22 y5c ff1f fsf fc5 sc0 ls1 ws1">101</div><a class="l" href="http://shop.oreilly.com/product/0636920032519.do"><div class="d m7" style="border-style:none;position:absolute;left:107.758000px;bottom:509.968000px;width:68.621000px;height:9.636000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",88.59,181.15,null]'><div class="d m7" style="border-style:none;position:absolute;left:176.945000px;bottom:516.048000px;width:4.234000px;height:5.136000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://www.diveintopython.net/"><div class="d m7" style="border-style:none;position:absolute;left:107.758000px;bottom:477.450000px;width:82.291000px;height:9.636000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://learnpythonthehardway.org/"><div class="d m7" style="border-style:none;position:absolute;left:107.758000px;bottom:444.932000px;width:134.229000px;height:9.636000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",88.59,169.53,null]'><div class="d m7" style="border-style:none;position:absolute;left:242.617000px;bottom:451.012000px;width:4.234000px;height:5.136000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://www.dabeaz.com/per.html"><div class="d m7" style="border-style:none;position:absolute;left:107.758000px;bottom:412.414000px;width:129.544000px;height:9.636000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",88.59,144.77,null]'><div class="d m7" style="border-style:none;position:absolute;left:237.692000px;bottom:418.494000px;width:4.234000px;height:5.136000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://shop.oreilly.com/product/0636920027072.do"><div class="d m7" style="border-style:none;position:absolute;left:336.849000px;bottom:379.896000px;width:80.999000px;height:9.636000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",88.59,133.15,null]'><div class="d m7" style="border-style:none;position:absolute;left:418.612000px;bottom:385.976000px;width:4.234000px;height:5.136000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://shop.oreilly.com/product/0636920034919.do"><div class="d m7" style="border-style:none;position:absolute;left:107.758000px;bottom:325.984000px;width:170.407000px;height:9.636000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",88.59,121.53,null]'><div class="d m7" style="border-style:none;position:absolute;left:278.930000px;bottom:332.064000px;width:4.234000px;height:5.136000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://shop.oreilly.com/product/0636920033424.do"><div class="d m7" style="border-style:none;position:absolute;left:107.758000px;bottom:277.207000px;width:158.812000px;height:9.636000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",88.59,109.92,null]'><div class="d m7" style="border-style:none;position:absolute;left:266.984000px;bottom:283.287000px;width:4.234000px;height:5.136000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://shop.oreilly.com/product/0636920023784.do"><div class="d m7" style="border-style:none;position:absolute;left:107.758000px;bottom:228.430000px;width:121.547000px;height:9.636000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",88.59,98.3,null]'><div class="d m7" style="border-style:none;position:absolute;left:229.719000px;bottom:234.510000px;width:4.234000px;height:5.136000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://shop.oreilly.com/product/0636920050896.do"><div class="d m7" style="border-style:none;position:absolute;left:231.295000px;bottom:82.594000px;width:28.511000px;height:10.297000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf6f" class="pf w3 h1b" data-page-no="6f"><div class="pc pc6f w3 h1b"><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">102<span class="_ _77"> </span><span class="ff24">17.<span class="_ _2c"> </span><span class="ff1e">更多学习资源</span></span></div><div class="t m0 x1a h1f y7e ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff20 fc7">O’R<span class="_ _4"></span>eil<span class="_ _f"></span>ly<span class="_ _e"> </span>Python<span class="_ _a"> </span>R<span class="_ _5"></span>esour<span class="_ _4"></span>c<span class="_ _5"></span>es<span class="_ _0"></span><span class="ff1d fc5">：<span class="_ _34"></span><span class="ff1f">O’Reilly<span class="_ _38"> </span><span class="ff1d">出版公司提供了许多关于<span class="_ _e"> </span></span>Python<span class="_ _e"> </span><span class="ff1d">的优秀书籍，<span class="_ _34"></span>并</span></span></span></span></div><div class="t m0 x32 h1f yb3 ff1d fsf fc5 sc0 ls1 ws1">且提供了许多专门的主题，让你在<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>世界中遨游。</div><div class="t m0 x1a h1f yb4 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1f">PyCon<span class="ff1d">、<span class="_ _4"></span><span class="ff1f">SciPy<span class="ff1d">、<span class="_ _4"></span>和<span class="_ _e"> </span><span class="ff1f">PyData</span>：<span class="_ _5"></span><span class="ff1f">PyCon<span class="ff1d">、<span class="_ _4"></span><span class="ff1f">SciPy<span class="ff1d">、<span class="_ _4"></span><span class="ff1f">PyData<span class="_ _e"> </span><span class="ff1d">大会每年吸引了数以千计的参会</span></span></span></span></span></span></span></span></span></span></div><div class="t m0 x32 h1f y29e ff1d fsf fc5 sc0 ls1 ws1">者，并且每<span class="_ _0"></span>年将其大部分节<span class="_ _0"></span>目存档为免费在<span class="_ _0"></span>线视频。这些已<span class="_ _0"></span>经成为一套学习<span class="_ _a"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>语</div><div class="t m0 x32 h1f y8ca ff1d fsf fc5 sc0 ls1 ws1">言、<span class="ff1f">Python<span class="_ _a"> </span></span>包和库函<span class="_ _0"></span>数以<span class="_ _0"></span>及有<span class="_ _0"></span>关领域<span class="_ _0"></span>非常<span class="_ _0"></span>好的<span class="_ _0"></span>资料。你<span class="_ _0"></span>可以<span class="_ _0"></span>搜索访<span class="_ _0"></span>谈和<span class="_ _0"></span>教程<span class="_ _0"></span>的免费<span class="_ _0"></span>资</div><div class="t m0 x32 h1f y8cb ff1d fsf fc5 sc0 ls1 ws1">源：其中访谈通常比较<span class="_ _0"></span>短，涉及到了新的库或者对以前的库的新鲜<span class="_ _0"></span>的观点；而教程可能</div><div class="t m0 x32 h1f y8cc ff1d fsf fc5 sc0 ls1 ws1">长达数小时，涉及到如何使用讨论的这些工具以及其他内容。</div><a class="l" href="http://shop.oreilly.com/category/browse-subjects/programming/python.do"><div class="d m7" style="border-style:none;position:absolute;left:107.758000px;bottom:756.810000px;width:126.326000px;height:9.636000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf70" class="pf w3 h1b" data-page-no="70"><div class="pc pc70 w3 h1b"><img class="bi x2a y7c w4 h40" alt="" src="bg70.png"/><div class="t m0 x5 h1c y3f ff1a fsc fc5 sc0 ls1 ws1">第<span class="_ _7"> </span><span class="ff19">A<span class="_ _7"> </span></span>章<span class="_ _33"> </span>附录：插图代码</div><div class="t m0 x1a h1f y240 ff1d fsf fc5 sc0 ls1 ws1">本章包含生成本书中出现的插图的代码。</div><div class="t m0 x36 h27 y8cd ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[1]:<span class="_ _3"> </span><span class="fcb">%<span class="ff29 fc9">matplotlib<span class="_ _3"> </span></span><span class="fc5">inline</span></span></div><div class="t m0 x46 h4c y8ce ff29 fsf fc9 sc0 ls1 ws1">import<span class="_ _3"> </span><span class="fca">matplotlib.pyplot<span class="_ _3"> </span></span>as<span class="_ _3"> </span><span class="fca">plt</span></div><div class="t m0 x36 h27 y8cf ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[2]:<span class="_ _3"> </span><span class="ff29 fc9">import<span class="_ _3"> </span><span class="fca">os</span></span></div><div class="t m0 x46 h27 y8d0 ff29 fsf fc9 sc0 ls1 ws1">if<span class="_ _3"> </span><span class="fc10">not<span class="_ _3"> </span><span class="ff22 fc5">os<span class="fcb">.</span>path<span class="fcb">.</span>exists(<span class="ff2a fc11">&apos;<span class="ff22">fig</span>&apos;</span>):</span></span></div><div class="t m0 x76 h27 y8d1 ff22 fsf fc5 sc0 ls1 ws1">os<span class="fcb">.</span>makedirs(<span class="ff2a fc11">&apos;<span class="ff22">fig</span>&apos;</span>)</div><div class="t m0 x2a h23 y8d2 ff19 fsd fc5 sc0 ls1 ws1">A.1<span class="_ _15"> </span><span class="ff1a">第<span class="_ _3"> </span></span>7<span class="_ _8"> </span><span class="ff1a">章：列表索引</span></div><div class="t m0 x1a h1f y8d3 ff1d fsf fc5 sc0 ls1 ws1">这个插图能帮助你形象地理解<span class="_ _e"> </span><span class="ff1f">Python<span class="_ _a"> </span></span>索引的工作方式。</div><div class="t m0 x36 h27 y8d4 ff22 fsf fc8 sc0 ls1 ws1">In<span class="_ _3"> </span>[3]:<span class="_ _3"> </span><span class="fc5">L<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>[<span class="fcb">2</span>,<span class="_ _2"> </span><span class="fcb">3</span>,<span class="_ _3"> </span><span class="fcb">5</span>,<span class="_ _3"> </span><span class="fcb">7</span>,<span class="_ _3"> </span><span class="fcb">11</span>]</span></div><div class="t m0 x46 h27 y8d5 ff22 fsf fc5 sc0 ls1 ws1">fig<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>plt<span class="fcb">.</span>figure(figsize<span class="fcb">=</span>(<span class="fcb">10</span>,<span class="_ _3"> </span><span class="fcb">4</span>))</div><div class="t m0 x46 h27 y8d6 ff22 fsf fc5 sc0 ls1 ws1">ax<span class="_ _3"> </span><span class="fcb">=<span class="_ _3"> </span></span>fig<span class="fcb">.</span>add_axes([<span class="fcb">0</span>,<span class="_ _3"> </span><span class="fcb">0</span>,<span class="_ _3"> </span><span class="fcb">1</span>,<span class="_ _2"> </span><span class="fcb">1</span>],<span class="_ _3"> </span>xticks<span class="fcb">=</span>[],<span class="_ _3"> </span>yticks<span class="fcb">=</span>[],<span class="_ _3"> </span>frameon<span class="fcb">=<span class="ff29 fc9">False</span></span>,</div><div class="t m0 x74 h27 y8d7 ff22 fsf fc5 sc0 ls1 ws1">aspect<span class="fcb">=<span class="ff2a fc11">&apos;<span class="ff22">equal</span>&apos;</span></span>)</div><div class="t m0 x46 h27 y8d8 ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">i<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span></span><span class="ff22">range<span class="fc5">(<span class="fcb">5</span>):</span></span></div><div class="t m0 x76 h27 y8d9 ff22 fsf fc5 sc0 ls1 ws1">ax<span class="fcb">.</span>add_patch(plt<span class="fcb">.</span>Rectangle([i<span class="_ _3"> </span><span class="fcb">-<span class="_ _3"> </span>0.5</span>,<span class="_ _3"> </span><span class="fcb">-0.5</span>],<span class="_ _3"> </span><span class="fcb">1</span>,<span class="_ _2"> </span><span class="fcb">1</span>,<span class="_ _3"> </span>fc<span class="fcb">=<span class="ff2a fc11">&apos;<span class="ff22">none</span>&apos;</span></span>,</div><div class="t m0 x78 h27 y8da ff22 fsf fc5 sc0 ls1 ws1">ec<span class="fcb">=<span class="ff2a fc11">&apos;<span class="ff22">black</span>&apos;</span></span>))</div><div class="t m0 x76 h27 y8db ff22 fsf fc5 sc0 ls1 ws1">ax<span class="fcb">.</span>text(i,<span class="_ _3"> </span><span class="fcb">-0.05</span>,<span class="_ _3"> </span>L[i],<span class="_ _3"> </span>size<span class="fcb">=100</span>,</div><div class="t m0 x31 h27 y502 ff22 fsf fc5 sc0 ls1 ws1">ha<span class="fcb">=<span class="ff2a fc11">&apos;<span class="ff22">center</span>&apos;</span></span>,<span class="_ _3"> </span>va<span class="fcb">=<span class="ff2a fc11">&apos;<span class="ff22">center</span>&apos;</span></span>,<span class="_ _3"> </span>family<span class="fcb">=<span class="ff2a fc11">&apos;<span class="ff22">monospace</span>&apos;</span></span>)</div><div class="t m0 x46 h27 y504 ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">i<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span></span><span class="ff22">range<span class="fc5">(<span class="fcb">6</span>):</span></span></div><div class="t m0 x76 h27 y505 ff22 fsf fc5 sc0 ls1 ws1">ax<span class="fcb">.</span>text(i<span class="_ _3"> </span><span class="fcb">-<span class="_ _3"> </span>0.5</span>,<span class="_ _3"> </span><span class="fcb">0.55</span>,<span class="_ _3"> </span><span class="fc9">str</span>(i),<span class="_ _2"> </span>size<span class="fcb">=20</span>,</div><div class="t m0 x31 h27 y506 ff22 fsf fc5 sc0 ls1 ws1">ha<span class="fcb">=<span class="ff2a fc11">&apos;<span class="ff22">center</span>&apos;</span></span>,<span class="_ _3"> </span>va<span class="fcb">=<span class="ff2a fc11">&apos;<span class="ff22">bottom</span>&apos;</span></span>,<span class="_ _3"> </span>family<span class="fcb">=<span class="ff2a fc11">&apos;<span class="ff22">monospace</span>&apos;</span></span>)</div><div class="t m0 x46 h27 y4a8 ff29 fsf fc9 sc0 ls1 ws1">for<span class="_ _3"> </span><span class="ff22 fc5">i<span class="_ _3"> </span></span><span class="fc10">in<span class="_ _3"> </span></span><span class="ff22">range<span class="fc5">(<span class="fcb">5</span>):</span></span></div><div class="t m0 x76 h27 y43f ff22 fsf fc5 sc0 ls1 ws1">ax<span class="fcb">.</span>text(i<span class="_ _3"> </span><span class="fcb">-<span class="_ _3"> </span>0.5</span>,<span class="_ _3"> </span><span class="fcb">-0.58</span>,<span class="_ _3"> </span><span class="fc9">str</span>(<span class="fcb">-5<span class="_ _2"> </span>+<span class="_ _3"> </span></span>i),<span class="_ _3"> </span>size<span class="fcb">=20</span>,</div><div class="t m0 x31 h27 y440 ff22 fsf fc5 sc0 ls1 ws1">ha<span class="fcb">=<span class="ff2a fc11">&apos;<span class="ff22">center</span>&apos;</span></span>,<span class="_ _3"> </span>va<span class="fcb">=<span class="ff2a fc11">&apos;<span class="ff22">top</span>&apos;</span></span>,<span class="_ _3"> </span>family<span class="fcb">=<span class="ff2a fc11">&apos;<span class="ff22">monospace</span>&apos;</span></span>)</div><div class="t m0 x46 h27 y153 ff22 fsf fc5 sc0 ls1 ws1">ax<span class="fcb">.</span>axis([<span class="fcb">-0.7</span>,<span class="_ _3"> </span><span class="fcb">4.7</span>,<span class="_ _3"> </span><span class="fcb">-0.7</span>,<span class="_ _3"> </span><span class="fcb">0.7</span>]);</div><div class="t m0 x46 h27 y155 ff22 fsf fc5 sc0 ls1 ws1">fig<span class="fcb">.</span>savefig(<span class="ff2a fc11">&apos;<span class="ff22">fig/list-indexing.png</span>&apos;</span>);</div><div class="t m0 x1b h22 y5c ff1f fsf fc5 sc0 ls1 ws1">103</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf71" class="pf w3 h1b" data-page-no="71"><div class="pc pc71 w3 h1b"><img class="bi x1a y8dc w6 h76" alt="" src="bg71.png"/><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">104<span class="_ _95"> </span><span class="ff24">A.<span class="_ _29"> </span><span class="ff1e">附录：插图代码</span></span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf72" class="pf w3 h1b" data-page-no="72"><div class="pc pc72 w3 h1b"><div class="t m0 x26 h1c y3f ff1a fsc fc5 sc0 ls1 ws1">中英文术语对照表</div><div class="t m0 x2a h20 y8dd ff1a fsf fc5 sc0 ls1 ws1">聚集<span class="_ _e"> </span><span class="ff1f">aggregate<span class="_ _a"> </span>97</span></div><div class="t m0 x2a h20 y8de ff1a fsf fc5 sc0 ls1 ws1">参<span class="_ _f"></span>数<span class="_ _3b"> </span><span class="ff1f">argument<span class="_ _10"> </span>12,<span class="_ _8"> </span>13,<span class="_ _8"> </span>44,<span class="_ _8"> </span>45,<span class="_ _8"> </span>47–50,<span class="_ _8"> </span>57,<span class="_ _3b"> </span>71,</span></div><div class="t m0 x94 h22 y8df ff1f fsf fc5 sc0 ls1 ws1">83,<span class="_ _e"> </span>87</div><div class="t m0 x2a h20 y8e0 ff1a fsf fc5 sc0 ls1 ws1">算术运算符<span class="_ _e"> </span><span class="ff1f">arithmetic<span class="_ _a"> </span>op erator<span class="_ _a"> </span>20–22,<span class="_ _e"> </span>86</span></div><div class="t m0 x2a h20 y8e1 ff1a fsf fc5 sc0 ls1 ws1">赋值运算符<span class="_ _e"> </span><span class="ff1f">assignment<span class="_ _e"> </span>op<span class="_ _0"></span>erator<span class="_ _e"> </span>10,<span class="_ _a"> </span>21,<span class="_ _e"> </span>22</span></div><div class="t m0 x2a h20 y8e2 ff1a fsf fc5 sc0 ls1 ws1">属性<span class="_ _e"> </span><span class="ff1f">attribute<span class="_ _a"> </span>17,<span class="_ _e"> </span>18,<span class="_ _a"> </span>30</span></div><div class="t m0 x2a h20 y8e3 ff1a fsf fc5 sc0 ls1 ws1">二元算术运算符<span class="_ _38"> </span><span class="ff1f">binary<span class="_ _e"> </span>arithmetic<span class="_ _e"> </span>op<span class="_ _0"></span>erator<span class="_ _38"> </span>19</span></div><div class="t m0 x2a h20 y8e4 ff1a fsf fc5 sc0 ls1 ws1">二元运算符<span class="_ _e"> </span><span class="ff1f">binary<span class="_ _a"> </span>op erator<span class="_ _a"> </span>12,<span class="_ _e"> </span>21</span></div><div class="t m0 x2a h20 y8e5 ff1a fsf fc5 sc0 ls1 ws1">二进制表示<span class="_ _e"> </span><span class="ff1f">binary<span class="_ _a"> </span>represen<span class="_ _4"></span>tation<span class="_ _e"> </span>20</span></div><div class="t m0 x2a h20 y8e6 ff1a fsf fc5 sc0 ls1 ws1">位运算<span class="_ _e"> </span><span class="ff1f">bitwise<span class="_ _e"> </span>logical<span class="_ _a"> </span>operation<span class="_ _a"> </span>20</span></div><div class="t m0 x2a h20 y8e7 ff1a fsf fc5 sc0 ls1 ws1">位运算符<span class="_ _e"> </span><span class="ff1f">bitwise<span class="_ _e"> </span>op<span class="_ _0"></span>erator<span class="_ _e"> </span>20–23</span></div><div class="t m0 x2a h20 y8e8 ff1a fsf fc5 sc0 ls1 ws1">代码块<span class="_ _e"> </span><span class="ff1f">blo<span class="_ _0"></span>c<span class="_ _4"></span>k<span class="_ _a"> </span>6,<span class="_ _e"> </span>11,<span class="_ _a"> </span>12,<span class="_ _e"> </span>43,<span class="_ _e"> </span>47,<span class="_ _a"> </span>55,<span class="_ _e"> </span>101</span></div><div class="t m0 x2a h20 y8e9 ff1a fsf fc5 sc0 ls1 ws1">布尔代数<span class="_ _e"> </span><span class="ff1f">b<span class="_ _0"></span>o<span class="_ _0"></span>olean<span class="_ _e"> </span>algebra<span class="_ _a"> </span>23</span></div><div class="t m0 x2a h20 y8ea ff1a fsf fc5 sc0 ls1 ws1">布尔运算符<span class="_ _e"> </span><span class="ff1f">b<span class="_ _0"></span>o<span class="_ _0"></span>olean<span class="_ _e"> </span>op<span class="_ _0"></span>erator<span class="_ _e"> </span>23</span></div><div class="t m0 x2a h20 y8eb ff1a fsf fc5 sc0 ls1 ws1">笛卡尔积<span class="_ _e"> </span><span class="ff1f">Cartesian<span class="_ _a"> </span>Pro duct<span class="_ _a"> </span>66</span></div><div class="t m0 x2a h20 y8ec ff1a fsf fc5 sc0 ls1 ws1">比较运算符<span class="_ _e"> </span><span class="ff1f">comparison<span class="_ _a"> </span>op erator<span class="_ _a"> </span>22,<span class="_ _e"> </span>32</span></div><div class="t m0 x2a h20 y8ed ff1a fsf fc5 sc0 ls1 ws1">编译<span class="_ _e"> </span><span class="ff1f">compile<span class="_ _a"> </span>7,<span class="_ _e"> </span>88</span></div><div class="t m0 x2a h20 y8ee ff1a fsf fc5 sc0 ls1 ws1">编译型<span class="_ _e"> </span><span class="ff1f">compiled<span class="_ _a"> </span>5</span></div><div class="t m0 x2a h20 y8ef ff1a fsf fc5 sc0 ls1 ws1">复数<span class="_ _e"> </span><span class="ff1f">complex<span class="_ _a"> </span>n<span class="_ _4"></span>um<span class="_ _4"></span>b<span class="_ _0"></span>er<span class="_ _e"> </span>18,<span class="_ _a"> </span>30,<span class="_ _e"> </span>79</span></div><div class="t m0 x2a h20 y8f0 ff1a fsf fc5 sc0 ls1 ws1">复合对象<span class="_ _e"> </span><span class="ff1f">comp<span class="_ _0"></span>ound<span class="_ _a"> </span>object<span class="_ _a"> </span>17,<span class="_ _e"> </span>24,<span class="_ _e"> </span>48</span></div><div class="t m0 x2a h20 y8f1 ff1a fsf fc5 sc0 ls1 ws1">复合类型<span class="_ _e"> </span><span class="ff1f">comp<span class="_ _0"></span>ound<span class="_ _a"> </span>t<span class="_ _5"></span>yp<span class="_ _0"></span>e<span class="_ _e"> </span>27,<span class="_ _a"> </span>35,<span class="_ _e"> </span>36,<span class="_ _a"> </span>38</span></div><div class="t m0 x2a h20 y8f2 ff1a fsf fc5 sc0 ls1 ws1">条件语句<span class="_ _e"> </span><span class="ff1f">conditional<span class="_ _a"> </span>statemen<span class="_ _4"></span>t<span class="_ _e"> </span>11,<span class="_ _a"> </span>23,<span class="_ _e"> </span>43</span></div><div class="t m0 x2a h20 y8f3 ff1a fsf fc5 sc0 ls1 ws1">构造函数<span class="_ _e"> </span><span class="ff1f">constructor<span class="_ _a"> </span>28</span></div><div class="t m0 x2a h20 y8f4 ff1a fsf fc5 sc0 ls1 ws1">控制流<span class="_ _e"> </span><span class="ff1f">control<span class="_ _e"> </span>ﬂow<span class="_ _e"> </span>43</span></div><div class="t m0 x2a h20 y8f5 ff1a fsf fc5 sc0 ls1 ws1">控制流语句<span class="_ _e"> </span><span class="ff1f">control<span class="_ _e"> </span>ﬂow<span class="_ _e"> </span>statement<span class="_ _e"> </span>1,<span class="_ _e"> </span>11,<span class="_ _a"> </span>23</span></div><div class="t m0 x2a h20 y8f6 ff1a fsf fc5 sc0 ls1 ws1">数据帧<span class="_ _e"> </span><span class="ff1f">data<span class="_ _a"> </span>frame<span class="_ _e"> </span>1,<span class="_ _a"> </span>21,<span class="_ _e"> </span>97</span></div><div class="t m0 x2a h20 y8f7 ff1a fsf fc5 sc0 ls1 ws1">默认值<span class="_ _e"> </span><span class="ff1f">default<span class="_ _a"> </span>v<span class="_ _5"></span>alue<span class="_ _a"> </span>31,<span class="_ _e"> </span>37,<span class="_ _a"> </span>42,<span class="_ _e"> </span>48</span></div><div class="t m0 x2a h20 y8f8 ff1a fsf fc5 sc0 ls1 ws1">字典推导<span class="_ _e"> </span><span class="ff1f">dict<span class="_ _a"> </span>comprehension<span class="_ _e"> </span>69</span></div><div class="t m0 x2a h20 y8f9 ff1a fsf fc5 sc0 ls1 ws1">字典<span class="_ _e"> </span><span class="ff1f">dictionary<span class="_ _a"> </span>40–42,<span class="_ _e"> </span>49</span></div><div class="t m0 x2a h20 y8fa ff1a fsf fc5 sc0 ls1 ws1">动态类型<span class="_ _e"> </span><span class="ff1f">dynamically<span class="_ _a"> </span>t<span class="_ _4"></span>yp<span class="_ _0"></span>ed<span class="_ _e"> </span>15,<span class="_ _a"> </span>16,<span class="_ _e"> </span>36</span></div><div class="t m0 x2a h20 yd6 ff1a fsf fc5 sc0 ls1 ws1">特征值分解<span class="_ _e"> </span><span class="ff1f">eigenv<span class="_ _5"></span>alue<span class="_ _a"> </span>decomposition<span class="_ _a"> </span>96</span></div><div class="t m0 x2a h20 y7c ff1a fsf fc5 sc0 ls1 ws1">转义<span class="_ _e"> </span><span class="ff1f">escap<span class="_ _0"></span>e<span class="_ _a"> </span>91,<span class="_ _e"> </span>93</span></div><div class="t m0 x95 h20 y8dd ff1a fsf fc5 sc0 ls1 ws1">异常<span class="_ _e"> </span><span class="ff1f">exception<span class="_ _a"> </span>54–57,<span class="_ _e"> </span>59,<span class="_ _a"> </span>84</span></div><div class="t m0 x95 h20 y8de ff1a fsf fc5 sc0 ls1 ws1">异常处理<span class="_ _e"> </span><span class="ff1f">exception<span class="_ _a"> </span>handling<span class="_ _e"> </span>53,<span class="_ _a"> </span>59,<span class="_ _e"> </span>60</span></div><div class="t m0 x95 h20 y8df ff1a fsf fc5 sc0 ls1 ws1">异或<span class="_ _e"> </span><span class="ff1f">exclusive<span class="_ _e"> </span>or<span class="_ _a"> </span>21,<span class="_ _e"> </span>23</span></div><div class="t m0 x95 h20 y8e0 ff1a fsf fc5 sc0 ls1 ws1">指数表示法<span class="_ _e"> </span><span class="ff1f">exp<span class="_ _0"></span>onen<span class="_ _4"></span>tial<span class="_ _a"> </span>notation<span class="_ _e"> </span>28</span></div><div class="t m0 x95 h20 y8fb ff1a fsf fc5 sc0 ls1 ws1">快<span class="_ _5f"> </span>速<span class="_ _5f"> </span>傅<span class="_ _5f"> </span>里<span class="_ _35"> </span>叶<span class="_ _5f"> </span>变<span class="_ _5f"> </span>换<span class="_ _29"> </span><span class="ff1f">F<span class="_ _5"></span>ast<span class="_ _29"> </span>F<span class="_ _5"></span>ourier<span class="_ _29"> </span>T<span class="_ _9"></span>ransforms</span></div><div class="t m0 x96 h22 y8fc ff1f fsf fc5 sc0 ls1 ws1">(FFT)<span class="_ _e"> </span>99</div><div class="t m0 x95 h20 y8e3 ff1a fsf fc5 sc0 ls1 ws1">斐波那契数列<span class="_ _e"> </span><span class="ff1f">Fib<span class="_ _0"></span>onacci<span class="_ _a"> </span>n<span class="_ _5"></span>umbers<span class="_ _a"> </span>45,<span class="_ _e"> </span>47</span></div><div class="t m0 x95 h20 y8e4 ff1a fsf fc5 sc0 ls1 ws1">一等函数<span class="_ _e"> </span><span class="ff1f">ﬁrst-order<span class="_ _a"> </span>function<span class="_ _e"> </span>50</span></div><div class="t m0 x95 h20 y8e5 ff1a fsf fc5 sc0 ls1 ws1">固定精度<span class="_ _e"> </span><span class="ff1f">ﬁxed-precision<span class="_ _a"> </span>27,<span class="_ _e"> </span>29</span></div><div class="t m0 x95 h20 y8e6 ff1a fsf fc5 sc0 ls1 ws1">浮<span class="_ _f"></span>点<span class="_ _f"></span>数<span class="_ _8"> </span><span class="ff1f">ﬂoating-p<span class="_ _0"></span>oin<span class="_ _4"></span>t<span class="_ _3b"> </span>num<span class="_ _4"></span>b<span class="_ _0"></span>er<span class="_ _3b"> </span>18,<span class="_ _8"> </span>20,<span class="_ _2"> </span>28,<span class="_ _8"> </span>29,</span></div><div class="t m0 x96 h22 y8e7 ff1f fsf fc5 sc0 ls1 ws1">39,<span class="_ _e"> </span>87</div><div class="t m0 x95 h20 y8e8 ff1a fsf fc5 sc0 ls1 ws1">向下整除<span class="_ _e"> </span><span class="ff1f">ﬂo<span class="_ _0"></span>or<span class="_ _a"> </span>division<span class="_ _e"> </span>19,<span class="_ _e"> </span>20,<span class="_ _a"> </span>28</span></div><div class="t m0 x95 h20 y8e9 ff1a fsf fc5 sc0 ls1 ws1">格式化字符串<span class="_ _e"> </span><span class="ff1f">format<span class="_ _a"> </span>string<span class="_ _e"> </span>81,<span class="_ _a"> </span>87</span></div><div class="t m0 x95 h20 y8ea ff1a fsf fc5 sc0 ls1 ws1">全排列<span class="_ _e"> </span><span class="ff1f">full<span class="_ _a"> </span>p ermutation<span class="_ _e"> </span>66</span></div><div class="t m0 x95 h20 y8fd ff1a fsf fc5 sc0 ls1 ws1">函<span class="_ _0"></span>数<span class="_ _a"> </span><span class="ff1f">function<span class="_ _10"> </span>1,<span class="_ _3b"> </span>12,<span class="_ _10"> </span>13,<span class="_ _10"> </span>18,<span class="_ _3b"> </span>30–32,<span class="_ _10"> </span>39,<span class="_ _10"> </span>47–51,</span></div><div class="t m0 x96 h22 y8fe ff1f fsf fc5 sc0 ls1 ws1">55,<span class="_ _8"> </span>57,<span class="_ _2"> </span>59,<span class="_ _2"> </span>62–66,<span class="_ _8"> </span>74,<span class="_ _2"> </span>78,<span class="_ _2"> </span>81–86,<span class="_ _2"> </span>88,</div><div class="t m0 x96 h22 y8ff ff1f fsf fc5 sc0 ls1 ws1">89,<span class="_ _e"> </span>97,<span class="_ _a"> </span>102</div><div class="t m0 x95 h20 y900 ff1a fsf fc5 sc0 ls1 ws1">函数式编程<span class="_ _e"> </span><span class="ff1f">functional<span class="_ _a"> </span>programming<span class="_ _e"> </span>65,<span class="_ _a"> </span>79</span></div><div class="t m0 x95 h20 y8ef ff1a fsf fc5 sc0 ls1 ws1">生成器<span class="_ _e"> </span><span class="ff1f">generator<span class="_ _a"> </span>71–75,<span class="_ _e"> </span>79</span></div><div class="t m0 x95 h20 y8f0 ff1a fsf fc5 sc0 ls1 ws1">生成器表达式<span class="_ _e"> </span><span class="ff1f">generator<span class="_ _a"> </span>expression<span class="_ _e"> </span>69–75</span></div><div class="t m0 x95 h20 y8f1 ff1a fsf fc5 sc0 ls1 ws1">生成器函数<span class="_ _e"> </span><span class="ff1f">generator<span class="_ _a"> </span>function<span class="_ _e"> </span>71,<span class="_ _a"> </span>74,<span class="_ _e"> </span>75</span></div><div class="t m0 x95 h20 y8f2 ff1a fsf fc5 sc0 ls1 ws1">分组<span class="_ _e"> </span><span class="ff1f">group<span class="_ _a"> </span>1,<span class="_ _e"> </span>93,<span class="_ _a"> </span>94,<span class="_ _e"> </span>98</span></div><div class="t m0 x95 h20 y901 ff1a fsf fc5 sc0 ls1 ws1">哈希表<span class="_ _e"> </span><span class="ff1f">hash<span class="_ _a"> </span>table<span class="_ _e"> </span>40</span></div><div class="t m0 x95 h20 y1ae ff1a fsf fc5 sc0 ls1 ws1">身份运算符<span class="_ _e"> </span><span class="ff1f">identit<span class="_ _4"></span>y<span class="_ _e"> </span>op<span class="_ _0"></span>erator<span class="_ _e"> </span>24</span></div><div class="t m0 x95 h20 y1af ff1a fsf fc5 sc0 ls1 ws1">虚部<span class="_ _e"> </span><span class="ff1f">imaginary<span class="_ _a"> </span>part<span class="_ _e"> </span>18,<span class="_ _a"> </span>30</span></div><div class="t m0 x95 h20 y1b0 ff1a fsf fc5 sc0 ls1 ws1">不可变<span class="_ _e"> </span><span class="ff1f">immutable<span class="_ _e"> </span>16,<span class="_ _a"> </span>39</span></div><div class="t m0 x95 h20 y1b1 ff1a fsf fc5 sc0 ls1 ws1">缩进<span class="_ _e"> </span><span class="ff1f">indentation<span class="_ _e"> </span>11</span></div><div class="t m0 x95 h20 y1b2 ff1a fsf fc5 sc0 ls1 ws1">索<span class="_ _f"></span>引<span class="_ _3b"> </span><span class="ff1f">index<span class="_ _8"> </span>36–38,<span class="_ _8"> </span>40,<span class="_ _8"> </span>63,<span class="_ _3b"> </span>64,<span class="_ _8"> </span>68,<span class="_ _8"> </span>79,<span class="_ _8"> </span>84,<span class="_ _8"> </span>87,</span></div><div class="t m0 x96 h22 yd4 ff1f fsf fc5 sc0 ls1 ws1">103</div><div class="t m0 x95 h20 yd5 ff1a fsf fc5 sc0 ls1 ws1">整数<span class="_ _e"> </span><span class="ff1f">integer<span class="_ _e"> </span>18,<span class="_ _a"> </span>20,<span class="_ _e"> </span>23,<span class="_ _a"> </span>27,<span class="_ _e"> </span>28,<span class="_ _a"> </span>38,<span class="_ _e"> </span>56,<span class="_ _e"> </span>68</span></div><div class="t m0 x95 h20 yd6 ff1a fsf fc5 sc0 ls1 ws1">解释型<span class="_ _e"> </span><span class="ff1f">interpreted<span class="_ _e"> </span>5,<span class="_ _a"> </span>7</span></div><div class="t m0 x95 h20 y7c ff1a fsf fc5 sc0 ls1 ws1">解释器<span class="_ _e"> </span><span class="ff1f">interpreter<span class="_ _e"> </span>2,<span class="_ _a"> </span>3,<span class="_ _e"> </span>5,<span class="_ _a"> </span>6,<span class="_ _e"> </span>10,<span class="_ _a"> </span>61</span></div><div class="t m0 x1b h22 y5c ff1f fsf fc5 sc0 ls1 ws1">105</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf73" class="pf w3 h1b" data-page-no="73"><div class="pc pc73 w3 h1b"><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">106<span class="_ _96"> </span><span class="ff1e">中英文术语对照表</span></div><div class="t m0 x2a h20 y7e ff1a fsf fc5 sc0 ls1 ws1">迭代器<span class="_ _e"> </span><span class="ff1f">iterator<span class="_ _a"> </span>44,<span class="_ _e"> </span>61,<span class="_ _a"> </span>63–66,<span class="_ _e"> </span>71,<span class="_ _a"> </span>79</span></div><div class="t m0 x2a h20 yb3 ff1a fsf fc5 sc0 ls1 ws1">迭代器接口<span class="_ _e"> </span><span class="ff1f">iterator<span class="_ _a"> </span>in<span class="_ _4"></span>terface<span class="_ _e"> </span>61,<span class="_ _a"> </span>62</span></div><div class="t m0 x2a h20 y902 ff1a fsf fc5 sc0 ls1 ws1">键值对<span class="_ _e"> </span><span class="ff1f">key-v<span class="_ _5"></span>alue<span class="_ _a"> </span>pair<span class="_ _e"> </span>40</span></div><div class="t m0 x2a h20 y903 ff1a fsf fc5 sc0 ls1 ws1">关键字形式参数<span class="_ _e"> </span><span class="ff1f">keyw<span class="_ _4"></span>ord<span class="_ _e"> </span>argument<span class="_ _e"> </span>47</span></div><div class="t m0 x2a h20 y904 ff1a fsf fc5 sc0 ls1 ws1">库<span class="_ _e"> </span><span class="ff1f">library<span class="_ _a"> </span>2,<span class="_ _e"> </span>7,<span class="_ _a"> </span>20,<span class="_ _e"> </span>63,<span class="_ _a"> </span>77,<span class="_ _e"> </span>79,<span class="_ _a"> </span>97–102</span></div><div class="t m0 x2a h20 y905 ff1a fsf fc5 sc0 ls1 ws1">线性代数<span class="_ _e"> </span><span class="ff1f">linear<span class="_ _a"> </span>algebra<span class="_ _e"> </span>20,<span class="_ _a"> </span>95,<span class="_ _e"> </span>96,<span class="_ _a"> </span>99</span></div><div class="t m0 x2a h20 y906 ff1a fsf fc5 sc0 ls1 ws1">列<span class="_ _0"></span>表<span class="_ _10"> </span><span class="ff1f">list<span class="_ _10"> </span>12,<span class="_ _3b"> </span>16,<span class="_ _10"> </span>17,<span class="_ _3b"> </span>21,<span class="_ _10"> </span>25,<span class="_ _3b"> </span>35–41,<span class="_ _10"> </span>48–50,<span class="_ _3b"> </span>54,</span></div><div class="t m0 x94 h22 y907 ff1f fsf fc5 sc0 ls1 ws1">61–64,<span class="_ _e"> </span>66–68,<span class="_ _a"> </span>71–75,<span class="_ _e"> </span>85,<span class="_ _a"> </span>88,<span class="_ _e"> </span>94–96</div><div class="t m0 x2a h20 y908 ff1a fsf fc5 sc0 ls1 ws1">列表推导<span class="_ _e"> </span><span class="ff1f">list<span class="_ _a"> </span>comprehension<span class="_ _e"> </span>67–71,<span class="_ _a"> </span>74,<span class="_ _e"> </span>95</span></div><div class="t m0 x2a h20 y909 ff1a fsf fc5 sc0 ls1 ws1">循环语句<span class="_ _e"> </span><span class="ff1f">lo<span class="_ _0"></span>op<span class="_ _a"> </span>statemen<span class="_ _5"></span>t<span class="_ _a"> </span>11,<span class="_ _e"> </span>23,<span class="_ _a"> </span>43,<span class="_ _e"> </span>67,<span class="_ _a"> </span>68</span></div><div class="t m0 x2a h20 y90a ff1a fsf fc5 sc0 ls1 ws1">矩阵乘法<span class="_ _e"> </span><span class="ff1f">matrix<span class="_ _a"> </span>pro duct<span class="_ _a"> </span>20,<span class="_ _e"> </span>96</span></div><div class="t m0 x2a h20 y90b ff1a fsf fc5 sc0 ls1 ws1">成员运算符<span class="_ _e"> </span><span class="ff1f">membership<span class="_ _a"> </span>op erator<span class="_ _a"> </span>24</span></div><div class="t m0 x2a h20 y90c ff1a fsf fc5 sc0 ls1 ws1">元数据<span class="_ _e"> </span><span class="ff1f">metadata<span class="_ _a"> </span>17</span></div><div class="t m0 x2a h20 y90d ff1a fsf fc5 sc0 ls1 ws1">方法<span class="_ _e"> </span><span class="ff1f">metho<span class="_ _0"></span>d<span class="_ _a"> </span>1,<span class="_ _e"> </span>17,<span class="_ _e"> </span>18,<span class="_ _a"> </span>30,<span class="_ _e"> </span>35–41,<span class="_ _a"> </span>95,<span class="_ _e"> </span>99</span></div><div class="t m0 x2a h20 y90e ff1a fsf fc5 sc0 ls1 ws1">可变<span class="_ _e"> </span><span class="ff1f">mutable<span class="_ _e"> </span>16,<span class="_ _a"> </span>21,<span class="_ _e"> </span>35</span></div><div class="t m0 x2a h20 y90f ff1a fsf fc5 sc0 ls1 ws1">命名<span class="_ _e"> </span><span class="ff1f">name<span class="_ _a"> </span>94</span></div><div class="t m0 x2a h20 y910 ff1a fsf fc5 sc0 ls1 ws1">命名空间<span class="_ _e"> </span><span class="ff1f">namespace<span class="_ _a"> </span>77,<span class="_ _e"> </span>78</span></div><div class="t m0 x2a h20 y911 ff1a fsf fc5 sc0 ls1 ws1">数值积分<span class="_ _e"> </span><span class="ff1f">numerical<span class="_ _e"> </span>integration<span class="_ _e"> </span>1,<span class="_ _a"> </span>99</span></div><div class="t m0 x2a h20 y912 ff1a fsf fc5 sc0 ls1 ws1">数值插值<span class="_ _e"> </span><span class="ff1f">numerical<span class="_ _e"> </span>interpolation<span class="_ _a"> </span>1,<span class="_ _e"> </span>99</span></div><div class="t m0 x2a h20 y913 ff1a fsf fc5 sc0 ls1 ws1">函数<span class="_ _0"></span>数值优化<span class="_ _a"> </span><span class="ff1f">numerical<span class="_ _a"> </span>optimization<span class="_ _e"> </span>of<span class="_ _a"> </span>func-</span></div><div class="t m0 x94 h22 y914 ff1f fsf fc5 sc0 ls1 ws1">tions<span class="_ _e"> </span>99</div><div class="t m0 x2a h20 y915 ff1a fsf fc5 sc0 ls1 ws1">对象<span class="_ _e"> </span><span class="ff1f">ob<span class="_ _0"></span>ject<span class="_ _38"> </span>1,<span class="_ _e"> </span>15–19,<span class="_ _e"> </span>21–24,<span class="_ _e"> </span>27,<span class="_ _e"> </span>36,<span class="_ _a"> </span>39,<span class="_ _38"> </span>41,<span class="_ _e"> </span>44,</span></div><div class="t m0 x94 h22 y916 ff1f fsf fc5 sc0 ls1 ws1">48,<span class="_ _e"> </span>50,<span class="_ _a"> </span>61–64,<span class="_ _e"> </span>66,<span class="_ _a"> </span>67,<span class="_ _e"> </span>70,<span class="_ _a"> </span>79,<span class="_ _e"> </span>86,<span class="_ _a"> </span>97</div><div class="t m0 x2a h20 y917 ff1a fsf fc5 sc0 ls1 ws1">对象相等<span class="_ _e"> </span><span class="ff1f">ob<span class="_ _0"></span>ject<span class="_ _a"> </span>equalit<span class="_ _5"></span>y<span class="_ _a"> </span>24</span></div><div class="t m0 x2a h20 y918 ff1a fsf fc5 sc0 ls1 ws1">对象身份<span class="_ _e"> </span><span class="ff1f">ob<span class="_ _0"></span>ject<span class="_ _a"> </span>iden<span class="_ _5"></span>tity<span class="_ _e"> </span>24</span></div><div class="t m0 x2a h20 y919 ff1a fsf fc5 sc0 ls1 ws1">面向对象<span class="_ _e"> </span><span class="ff1f">ob<span class="_ _0"></span>ject-orien<span class="_ _4"></span>ted<span class="_ _a"> </span>17</span></div><div class="t m0 x2a h20 y91a ff1a fsf fc5 sc0 ls1 ws1">运算符<span class="_ _e"> </span><span class="ff1f">op<span class="_ _0"></span>erator<span class="_ _a"> </span>12,<span class="_ _e"> </span>19–23,<span class="_ _e"> </span>28,<span class="_ _a"> </span>41,<span class="_ _e"> </span>101</span></div><div class="t m0 x2a h20 y91b ff1a fsf fc5 sc0 ls1 ws1">包<span class="_ _e"> </span><span class="ff1f">package<span class="_ _e"> </span>1,<span class="_ _a"> </span>2,<span class="_ _e"> </span>38,<span class="_ _a"> </span>77,<span class="_ _e"> </span>79,<span class="_ _a"> </span>95,<span class="_ _e"> </span>98,<span class="_ _e"> </span>100,<span class="_ _a"> </span>102</span></div><div class="t m0 x2a h20 y91c ff1a fsf fc5 sc0 ls1 ws1">模式匹配</div><div class="t m0 x86 h22 y91d ff1f fsf fc5 sc0 ls1 ws1">pattern<span class="_ _e"> </span>matching<span class="_ _e"> </span>88</div><div class="t m0 x2a h20 y91e ff1a fsf fc5 sc0 ls1 ws1">指针<span class="_ _e"> </span><span class="ff1f">p<span class="_ _0"></span>oin<span class="_ _4"></span>ter<span class="_ _a"> </span>15–17,<span class="_ _e"> </span>24</span></div><div class="t m0 x2a h20 y91f ff1a fsf fc5 sc0 ls1 ws1">原始字符串<span class="_ _e"> </span><span class="ff1f">raw<span class="_ _e"> </span>string<span class="_ _a"> </span>91</span></div><div class="t m0 x2a h20 y920 ff1a fsf fc5 sc0 ls1 ws1">实部<span class="_ _e"> </span><span class="ff1f">real<span class="_ _a"> </span>part<span class="_ _e"> </span>18,<span class="_ _a"> </span>30</span></div><div class="t m0 x2a h20 y921 ff1a fsf fc5 sc0 ls1 ws1">引用<span class="_ _e"> </span><span class="ff1f">reference<span class="_ _a"> </span>15</span></div><div class="t m0 x95 h20 y7e ff1a fsf fc5 sc0 ls1 ws1">正则表达式<span class="_ _e"> </span><span class="ff1f">regular<span class="_ _a"> </span>expression<span class="_ _e"> </span>81,<span class="_ _a"> </span>85,<span class="_ _e"> </span>88–94</span></div><div class="t m0 x95 h20 y922 ff1a fsf fc5 sc0 ls1 ws1">表示<span class="_ _e"> </span><span class="ff1f">representation<span class="_ _e"> </span>28–30,<span class="_ _a"> </span>86,<span class="_ _e"> </span>96</span></div><div class="t m0 x95 h20 y923 ff1a fsf fc5 sc0 ls1 ws1">运行时错误<span class="_ _e"> </span><span class="ff1f">runtime<span class="_ _e"> </span>error<span class="_ _a"> </span>53</span></div><div class="t m0 x95 h20 y924 ff1a fsf fc5 sc0 ls1 ws1">自包含脚本<span class="_ _e"> </span><span class="ff1f">self-contained<span class="_ _e"> </span>script<span class="_ _a"> </span>5,<span class="_ _e"> </span>7</span></div><div class="t m0 x95 h20 y925 ff1a fsf fc5 sc0 ls1 ws1">语义错误<span class="_ _e"> </span><span class="ff1f">semantic<span class="_ _e"> </span>error<span class="_ _a"> </span>53</span></div><div class="t m0 x95 h20 y926 ff1a fsf fc5 sc0 ls1 ws1">语义<span class="_ _e"> </span><span class="ff1f">semantics<span class="_ _e"> </span>1,<span class="_ _a"> </span>9,<span class="_ _e"> </span>15,<span class="_ _a"> </span>101</span></div><div class="t m0 x95 h20 y927 ff1a fsf fc5 sc0 ls1 ws1">集合<span class="_ _e"> </span><span class="ff1f">set<span class="_ _a"> </span>41,<span class="_ _e"> </span>66,<span class="_ _a"> </span>69,<span class="_ _e"> </span>92</span></div><div class="t m0 x95 h20 y928 ff1a fsf fc5 sc0 ls1 ws1">集合推导<span class="_ _e"> </span><span class="ff1f">set<span class="_ _a"> </span>comprehension<span class="_ _e"> </span>69</span></div><div class="t m0 x95 h20 y929 ff1a fsf fc5 sc0 ls1 ws1">爱<span class="_ _0"></span>拉托<span class="_ _0"></span>逊斯<span class="_ _0"></span>筛法<span class="_ _10"> </span><span class="ff1f">Siev<span class="_ _4"></span>e<span class="_ _a"> </span>of<span class="_ _10"> </span>Eratosthenes<span class="_ _a"> </span>46,<span class="_ _10"> </span>72,</span></div><div class="t m0 x96 h22 y92a ff1f fsf fc5 sc0 ls1 ws1">74,<span class="_ _e"> </span>75</div><div class="t m0 x95 h20 y92b ff1a fsf fc5 sc0 ls1 ws1">简单类型<span class="_ _e"> </span><span class="ff1f">simple<span class="_ _a"> </span>t<span class="_ _4"></span>yp<span class="_ _0"></span>e<span class="_ _e"> </span>16,<span class="_ _a"> </span>17,<span class="_ _e"> </span>27</span></div><div class="t m0 x95 h20 y92c ff1a fsf fc5 sc0 ls1 ws1">切片<span class="_ _e"> </span><span class="ff1f">slice<span class="_ _a"> </span>36–38,<span class="_ _e"> </span>40,<span class="_ _a"> </span>44</span></div><div class="t m0 x95 h20 y92d ff1a fsf fc5 sc0 ls1 ws1">稀疏矩阵存储<span class="_ _e"> </span><span class="ff1f">sparse<span class="_ _a"> </span>matrix<span class="_ _e"> </span>storage<span class="_ _a"> </span>99</span></div><div class="t m0 x95 h20 y92e ff1a fsf fc5 sc0 ls1 ws1">静态类型<span class="_ _e"> </span><span class="ff1f">statically<span class="_ _a"> </span>t<span class="_ _4"></span>yp<span class="_ _0"></span>ed<span class="_ _e"> </span>16,<span class="_ _a"> </span>28,<span class="_ _e"> </span>36</span></div><div class="t m0 x95 h20 y92f ff1a fsf fc5 sc0 ls1 ws1">统计分析<span class="_ _e"> </span><span class="ff1f">statistical<span class="_ _a"> </span>analysis<span class="_ _e"> </span>99</span></div><div class="t m0 x95 h20 y930 ff1a fsf fc5 sc0 ls1 ws1">字符串内插<span class="_ _e"> </span><span class="ff1f">string<span class="_ _a"> </span>in<span class="_ _4"></span>terp<span class="_ _0"></span>olation<span class="_ _e"> </span>87</span></div><div class="t m0 x95 h20 y931 ff1a fsf fc5 sc0 ls1 ws1">对等差分<span class="_ _e"> </span><span class="ff1f">symmetric<span class="_ _a"> </span>diﬀerence<span class="_ _e"> </span>41</span></div><div class="t m0 x95 h20 y932 ff1a fsf fc5 sc0 ls1 ws1">语<span class="_ _0"></span>法<span class="_ _10"> </span><span class="ff1f">syn<span class="_ _4"></span>tax<span class="_ _10"> </span>1,<span class="_ _10"> </span>2,<span class="_ _3b"> </span>9–11,<span class="_ _10"> </span>13,<span class="_ _3b"> </span>15,<span class="_ _10"> </span>19,<span class="_ _3b"> </span>36–38,<span class="_ _10"> </span>44,</span></div><div class="t m0 x96 h22 y933 ff1f fsf fc5 sc0 ls1 ws1">46,<span class="_ _8"> </span>49–51,<span class="_ _3b"> </span>53,<span class="_ _8"> </span>58,<span class="_ _8"> </span>61,<span class="_ _3b"> </span>63,<span class="_ _8"> </span>64,<span class="_ _8"> </span>67,<span class="_ _3b"> </span>69,</div><div class="t m0 x96 h22 y934 ff1f fsf fc5 sc0 ls1 ws1">75,<span class="_ _e"> </span>87–90,<span class="_ _a"> </span>92,<span class="_ _e"> </span>94,<span class="_ _a"> </span>95,<span class="_ _e"> </span>101</div><div class="t m0 x95 h20 y935 ff1a fsf fc5 sc0 ls1 ws1">语法错误<span class="_ _e"> </span><span class="ff1f">syntax<span class="_ _e"> </span>error<span class="_ _a"> </span>53</span></div><div class="t m0 x95 h20 y936 ff1a fsf fc5 sc0 ls1 ws1">表格<span class="_ _e"> </span><span class="ff1f">table<span class="_ _a"> </span>94</span></div><div class="t m0 x95 h20 y937 ff1a fsf fc5 sc0 ls1 ws1">终端<span class="_ _e"> </span><span class="ff1f">terminal<span class="_ _a"> </span>5</span></div><div class="t m0 x95 h20 y938 ff1a fsf fc5 sc0 ls1 ws1">三元运算符<span class="_ _e"> </span><span class="ff1f">ternary<span class="_ _a"> </span>op erator<span class="_ _a"> </span>68</span></div><div class="t m0 x95 h20 y939 ff1a fsf fc5 sc0 ls1 ws1">转置矩阵<span class="_ _e"> </span><span class="ff1f">transp<span class="_ _0"></span>ose<span class="_ _a"> </span>matrix<span class="_ _e"> </span>96</span></div><div class="t m0 x95 h20 y93a ff1a fsf fc5 sc0 ls1 ws1">真除<span class="_ _e"> </span><span class="ff1f">true<span class="_ _a"> </span>division<span class="_ _e"> </span>19,<span class="_ _a"> </span>20</span></div><div class="t m0 x95 h20 y93b ff1a fsf fc5 sc0 ls1 ws1">元组<span class="_ _e"> </span><span class="ff1f">tuple<span class="_ _a"> </span>38–42,<span class="_ _e"> </span>48,<span class="_ _a"> </span>85</span></div><div class="t m0 x95 h20 y93c ff1a fsf fc5 sc0 ls1 ws1">补码<span class="_ _e"> </span><span class="ff1f">tw<span class="_ _4"></span>o’s<span class="_ _e"> </span>complement<span class="_ _e"> </span>23</span></div><div class="t m0 x95 h20 y93d ff1a fsf fc5 sc0 ls1 ws1">类型转换<span class="_ _e"> </span><span class="ff1f">type<span class="_ _a"> </span>con<span class="_ _4"></span>v<span class="_ _4"></span>ersion<span class="_ _a"> </span>32</span></div><div class="t m0 x95 h20 y93e ff1a fsf fc5 sc0 ls1 ws1">一元运算符<span class="_ _e"> </span><span class="ff1f">unary<span class="_ _a"> </span>op erator<span class="_ _a"> </span>12,<span class="_ _e"> </span>19</span></div><div class="t m0 x95 h20 y93f ff1a fsf fc5 sc0 ls1 ws1">变<span class="_ _0"></span>量<span class="_ _a"> </span><span class="ff1f">v<span class="_ _4"></span>ariable<span class="_ _10"> </span>5,<span class="_ _10"> </span>10,<span class="_ _10"> </span>12,<span class="_ _3b"> </span>15–17,<span class="_ _10"> </span>19,<span class="_ _10"> </span>21,<span class="_ _10"> </span>24,<span class="_ _3b"> </span>27,</span></div><div class="t m0 x96 h22 y940 ff1f fsf fc5 sc0 ls1 ws1">32,<span class="_ _e"> </span>36,<span class="_ _a"> </span>44,<span class="_ _e"> </span>49,<span class="_ _a"> </span>53,<span class="_ _e"> </span>67</div><div class="t m0 x95 h20 y941 ff1a fsf fc5 sc0 ls1 ws1">可变精度<span class="_ _e"> </span><span class="ff1f">v<span class="_ _4"></span>ariable-precision<span class="_ _e"> </span>27</span></div><div class="t m0 x95 h20 y921 ff1a fsf fc5 sc0 ls1 ws1">通配符<span class="_ _e"> </span><span class="ff1f">wildcard<span class="_ _a"> </span>88,<span class="_ _e"> </span>92</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf74" class="pf w3 h1b" data-page-no="74"><div class="pc pc74 w3 h1b"><div class="t m0 x8d h1c y3f ff1a fsc fc5 sc0 ls1 ws1">同济大学苹果开发俱乐部介绍</div><div class="t m0 x1a h1f y240 ff1d fsf fc5 sc0 ls1 ws1">同<span class="_ _0"></span>济<span class="_ _0"></span>大<span class="_ _0"></span>学<span class="_ _0"></span>苹<span class="_ _0"></span>果<span class="_ _0"></span>俱<span class="_ _f"></span>乐<span class="_ _0"></span>部<span class="_ _0"></span>成<span class="_ _0"></span>立<span class="_ _0"></span>于<span class="_ _3b"> </span><span class="ff1f">2003<span class="_ _10"> </span></span>年<span class="_ _10"> </span><span class="ff1f">9<span class="_ _3b"> </span></span>月<span class="_ _10"> </span><span class="ff1f">24<span class="_ _10"> </span></span>日，<span class="_ _0"></span>是<span class="_ _f"></span>亚<span class="_ _0"></span>太<span class="_ _0"></span>地<span class="_ _0"></span>区<span class="_ _0"></span>第<span class="_ _0"></span>一<span class="_ _0"></span>个<span class="_ _0"></span>和<span class="_ _3b"> </span><span class="ff1f">Apple<span class="_ _10"> </span></span>公<span class="_ _0"></span>司<span class="_ _0"></span>合<span class="_ _f"></span>作</div><div class="t m0 x2a h1f y241 ff1d fsf fc5 sc0 ls1 ws1">的<span class="_ _0"></span>学<span class="_ _0"></span>生<span class="_ _f"></span>俱<span class="_ _0"></span>乐<span class="_ _f"></span>部，<span class="_ _0"></span>旨<span class="_ _f"></span>在<span class="_ _0"></span>传<span class="_ _0"></span>播<span class="_ _3b"> </span><span class="ff1f">Apple<span class="_ _3b"> </span></span>的<span class="_ _0"></span>先<span class="_ _0"></span>进<span class="_ _f"></span>技<span class="_ _0"></span>术<span class="_ _f"></span>以<span class="_ _0"></span>及<span class="_ _f"></span>培<span class="_ _0"></span>养<span class="_ _0"></span>学<span class="_ _f"></span>生<span class="_ _0"></span>的<span class="_ _f"></span>创<span class="_ _0"></span>新<span class="_ _f"></span>意<span class="_ _0"></span>识，<span class="_ _0"></span>进<span class="_ _f"></span>行<span class="_ _3b"> </span><span class="ff1f">macOS</span>、<span class="ff1f">iOS</span>、</div><div class="t m0 x2a h1f y242 ff1f fsf fc5 sc0 ls1 ws1">w<span class="_ _4"></span>atchOS<span class="ff1d">、</span>tvOS<span class="_ _e"> </span><span class="ff1d">等平台的软件开发。</span></div><div class="t m0 x1a h1f y6f0 ff1d fsf fc5 sc0 ls1 ws1">自俱乐部成立<span class="_ _0"></span>以来，软件学院、<span class="ff1f">Apple<span class="_ _a"> </span></span>公司和广大学生通力合作，<span class="_ _0"></span>积极努力。在俱乐部中，</div><div class="t m0 x2a h1f y6f1 ff1d fsf fc5 sc0 ls1 ws1">学生任<span class="_ _0"></span>何创造性<span class="_ _0"></span>的想法都会<span class="_ _0"></span>被珍视、鼓<span class="_ _0"></span>励、去芜存菁<span class="_ _0"></span>并在指导<span class="_ _0"></span>下实施，俱<span class="_ _0"></span>乐部成为了<span class="_ _0"></span>来自不同</div><div class="t m0 x2a h1f y6f2 ff1d fsf fc5 sc0 ls1 ws1">院系学<span class="_ _0"></span>生发挥创<span class="_ _0"></span>造力的舞台。<span class="_ _0"></span>在十四年<span class="_ _0"></span>的发展中，经<span class="_ _0"></span>过几任指<span class="_ _0"></span>导教师和<span class="_ _0"></span>广大同学的<span class="_ _0"></span>奋斗，俱乐</div><div class="t m0 x2a h1f y942 ff1d fsf fc5 sc0 ls1 ws1">部取得了丰硕的成果，极大地促进了学生的实践与创新能力。</div><div class="t m0 x1a h1f y943 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1d">国<span class="_ _0"></span>内第<span class="_ _0"></span>一本<span class="_ _0"></span>苹果<span class="_ _0"></span>软件<span class="_ _0"></span>开发<span class="_ _0"></span>教程<span class="_ _0"></span>《苹果<span class="_ _0"></span>电脑<span class="_ _0"></span>开发<span class="_ _0"></span>技术<span class="_ _0"></span>基础<span class="_ _0"></span>教<span class="_ _0"></span>程》由<span class="_ _0"></span>机械<span class="_ _0"></span>工业<span class="_ _0"></span>出版<span class="_ _0"></span>社出<span class="_ _0"></span>版，</span></div><div class="t m0 x32 h1f y944 ff1d fsf fc5 sc0 ls1 ws1">该教材完全由俱乐部的学生编写。</div><div class="t m0 x1a h1f y945 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1d">国内第一门苹果软件开发类课程《<span class="ff1f">Apple<span class="_ _a"> </span></span>平台软件开发》在同济大学开设。</span></div><div class="t m0 x1a h1f y946 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1d">国内第一个学生开发的开源，且受到苹果总部高层赞赏的免费软件。</span></div><div class="t m0 x1a h1f y947 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1d">国内第一批赴美国参加苹果全球开发者大会（<span class="ff1f">WWDC</span>）的学生开发者。</span></div><div class="t m0 x1a h1f y948 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1d">国内第一个获得苹果平台学生开发竞赛所有重要奖项的俱乐部。</span></div><div class="t m0 x1a h1f y949 ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1d">国<span class="_ _0"></span>内第一<span class="_ _0"></span>个学<span class="_ _0"></span>生开发<span class="_ _0"></span>者受<span class="_ _0"></span>邀到苹<span class="_ _0"></span>果全球<span class="_ _0"></span>开发<span class="_ _0"></span>者大会<span class="_ _0"></span>（<span class="ff1f">WWDC</span>）的<span class="_ _0"></span>专门环<span class="_ _0"></span>节做<span class="_ _0"></span>技术演<span class="_ _0"></span>讲</span></div><div class="t m0 x32 h1f y94a ff1d fsf fc5 sc0 ls1 ws1">和展示。</div><div class="t m0 x1a h1f y94b ff23 fsf fc5 sc0 ls1 ws1">•<span class="_ _2"> </span><span class="ff1d">国内第一个冲击苹果年度全球软件设计最高荣誉——苹果设计大奖的学生作品。</span></div><div class="t m0 x1a h1f y382 ff1d fsf fc5 sc0 ls1 ws1">在<span class="_ _a"> </span><span class="ff1f">Apple<span class="_ _10"> </span></span>公<span class="_ _0"></span>司举<span class="_ _0"></span>办的<span class="_ _10"> </span><span class="ff1f">6<span class="_ _a"> </span></span>次<span class="_ _0"></span>苹果<span class="_ _0"></span>中<span class="_ _0"></span>国高<span class="_ _0"></span>校<span class="_ _0"></span>学生<span class="_ _0"></span>作品<span class="_ _0"></span>大<span class="_ _0"></span>赛中，<span class="_ _0"></span>同济<span class="_ _0"></span>大<span class="_ _0"></span>学苹<span class="_ _0"></span>果俱<span class="_ _0"></span>乐<span class="_ _0"></span>部共<span class="_ _0"></span>计获<span class="_ _0"></span>得</div><div class="t m0 x2a h1f y383 ff1d fsf fc5 sc0 ls1 ws1">了<span class="_ _10"> </span><span class="ff1f">5<span class="_ _10"> </span></span>项<span class="_ _0"></span>金<span class="_ _0"></span>奖，<span class="ff1f">1<span class="_ _a"> </span></span>项<span class="_ _0"></span>特<span class="_ _0"></span>别<span class="_ _0"></span>奖，<span class="ff1f">16<span class="_ _10"> </span></span>项<span class="_ _0"></span>银<span class="_ _0"></span>奖，<span class="ff1f">7<span class="_ _a"> </span></span>项<span class="_ _0"></span>铜<span class="_ _0"></span>奖<span class="_ _0"></span>的<span class="_ _0"></span>好成<span class="_ _0"></span>绩，<span class="_ _0"></span>获<span class="_ _0"></span>得<span class="_ _0"></span>了<span class="_ _0"></span>该<span class="_ _0"></span>项赛<span class="_ _0"></span>事<span class="_ _0"></span>“五<span class="_ _0"></span>连<span class="_ _0"></span>冠”<span class="_ _0"></span>的<span class="_ _0"></span>记</div><div class="t m0 x2a h1f y94c ff1d fsf fc5 sc0 ls1 ws1">录。<span class="_ _0"></span>在<span class="_ _a"> </span><span class="ff1f">2016<span class="_ _a"> </span></span>年<span class="_ _0"></span>“中<span class="_ _0"></span>国高<span class="_ _0"></span>校<span class="_ _0"></span>计<span class="_ _0"></span>算机<span class="_ _0"></span>大<span class="_ _0"></span>赛<span class="ff1f">-</span>移动<span class="_ _0"></span>应<span class="_ _0"></span>用创<span class="_ _0"></span>新<span class="_ _0"></span>赛”中，<span class="_ _0"></span>俱<span class="_ _0"></span>乐部<span class="_ _0"></span>的<span class="_ _0"></span>学生<span class="_ _0"></span>再<span class="_ _0"></span>次获<span class="_ _0"></span>得<span class="_ _0"></span>一等<span class="_ _0"></span>奖。</div><div class="t m0 x2a h1f y384 ff1d fsf fc5 sc0 ls1 ws1">从<span class="_ _e"> </span><span class="ff1f">2005<span class="_ _a"> </span></span>年开始，同济大学苹果俱乐部每年均有十余名师生受邀前往参加在<span class="_ _a"> </span><span class="ff1f">San<span class="_ _e"> </span>F<span class="_ _9"></span>rancisco<span class="_ _a"> </span><span class="ff1d">举办</span></span></div><div class="t m0 x2a h1f y531 ff1d fsf fc5 sc0 ls1 ws1">的<span class="_ _e"> </span><span class="ff1f">WWDC</span>（<span class="ff1f">W<span class="_ _5"></span>orld<span class="_ _a"> </span>Wide<span class="_ _e"> </span>Developmen<span class="_ _5"></span>t<span class="_ _a"> </span>Conference<span class="ff1d">）活动，成为第一批参与该活动的中国开发</span></span></div><div class="t m0 x2a h1f y1ae ff1d fsf fc5 sc0 ls1 ws1">者。在<span class="_ _a"> </span><span class="ff1f">2005<span class="_ _a"> </span></span>年<span class="_ _a"> </span><span class="ff1f">WWDC<span class="_ _a"> </span></span>上，<span class="ff1f">Steve<span class="_ _a"> </span>Jobs<span class="_ _a"> </span></span>特别<span class="_ _0"></span>在演讲<span class="_ _0"></span>中欢<span class="_ _0"></span>迎了来<span class="_ _0"></span>自中<span class="_ _0"></span>国的俱<span class="_ _0"></span>乐部开<span class="_ _0"></span>发者，<span class="_ _0"></span>同济</div><div class="t m0 x2a h1f y1af ff1d fsf fc5 sc0 ls1 ws1">大学<span class="_ _0"></span>苹果俱<span class="_ _0"></span>乐部的<span class="_ _0"></span>师生也<span class="_ _0"></span>成为<span class="_ _a"> </span><span class="ff1f">WWDC<span class="_ _a"> </span></span>上来自<span class="_ _0"></span>中国的<span class="_ _0"></span>一道靓<span class="_ _0"></span>丽的风<span class="_ _0"></span>景线。从<span class="_ _a"> </span><span class="ff1f">2009<span class="_ _a"> </span></span>年开<span class="_ _0"></span>始，苹</div><div class="t m0 x2a h1f y1b0 ff1d fsf fc5 sc0 ls1 ws1">果<span class="_ _0"></span>俱乐<span class="_ _0"></span>部<span class="_ _0"></span>的<span class="_ _0"></span>学生<span class="_ _0"></span>作<span class="_ _0"></span>品<span class="_ _0"></span>纷纷<span class="_ _0"></span>进<span class="_ _0"></span>入<span class="_ _a"> </span><span class="ff1f">App<span class="_ _10"> </span>Store<span class="_ _10"> </span></span>进<span class="_ _0"></span>行<span class="_ _0"></span>销售。<span class="_ _0"></span>俱<span class="_ _0"></span>乐<span class="_ _0"></span>部学<span class="_ _0"></span>生<span class="_ _0"></span>完<span class="_ _0"></span>成的<span class="_ _10"> </span><span class="ff1f">Animal<span class="_ _10"> </span>Kingdom<span class="_ _a"> </span></span>作</div><div class="t m0 x2a h1f y1b1 ff1d fsf fc5 sc0 ls1 ws1">为苹<span class="_ _0"></span>果中<span class="_ _0"></span>国官<span class="_ _0"></span>方广告<span class="_ _0"></span>的作<span class="_ _0"></span>品，受到<span class="_ _0"></span>了中<span class="_ _0"></span>国用<span class="_ _0"></span>户的一<span class="_ _0"></span>致好<span class="_ _0"></span>评。目<span class="_ _0"></span>前苹果<span class="_ _0"></span>俱乐<span class="_ _0"></span>部已经<span class="_ _0"></span>有<span class="_ _a"> </span><span class="ff1f">60<span class="_ _a"> </span></span>余个<span class="_ _0"></span>作</div><div class="t m0 x2a h1f y1b2 ff1d fsf fc5 sc0 ls1 ws1">品在<span class="_ _a"> </span><span class="ff1f">App<span class="_ _a"> </span>Store<span class="_ _a"> </span></span>进<span class="_ _0"></span>行销售，<span class="_ _0"></span>累计下<span class="_ _0"></span>载次<span class="_ _0"></span>数超过<span class="_ _a"> </span><span class="ff1f">5,000,000<span class="_ _a"> </span></span>次，<span class="_ _0"></span>下载用<span class="_ _0"></span>户遍布<span class="_ _0"></span>中国、<span class="_ _0"></span>美国、加<span class="_ _0"></span>拿</div><div class="t m0 x2a h1f yd4 ff1d fsf fc5 sc0 ls1 ws1">大、英国、<span class="_ _0"></span>法国、日本<span class="_ _0"></span>等多个国<span class="_ _0"></span>家和地区，<span class="_ _0"></span>作品受到<span class="_ _0"></span>了中国、日<span class="_ _0"></span>本、美国多<span class="_ _0"></span>家风险投<span class="_ _0"></span>资和代理</div><div class="t m0 x2a h1f yd5 ff1d fsf fc5 sc0 ls1 ws1">商<span class="_ _0"></span>的关<span class="_ _0"></span>注。<span class="_ _0"></span>苹果<span class="_ _0"></span>俱<span class="_ _0"></span>乐部<span class="_ _0"></span>的<span class="_ _0"></span>学生<span class="_ _0"></span>也<span class="_ _0"></span>获得<span class="_ _0"></span>了<span class="_ _0"></span>用人<span class="_ _0"></span>单<span class="_ _0"></span>位的<span class="_ _0"></span>一<span class="_ _0"></span>致好<span class="_ _0"></span>评，<span class="_ _0"></span>俱乐<span class="_ _0"></span>部<span class="_ _0"></span>的历<span class="_ _0"></span>届<span class="_ _0"></span>毕<span class="_ _0"></span>业生<span class="_ _0"></span>在<span class="_ _a"> </span><span class="ff1f">Apple</span>、</div><div class="t m0 x2a h1f yd6 ff1f fsf fc5 sc0 ls1 ws1">F<span class="_ _9"></span>aceb<span class="_ _0"></span>o<span class="_ _0"></span>ok<span class="ff1d">、<span class="_ _9"></span><span class="ff1f">IBM<span class="ff1d">、<span class="_ _9"></span><span class="ff1f">Microsoft<span class="ff1d">、<span class="_ _5"></span><span class="ff1f">Go<span class="_ _0"></span>ogle<span class="ff1d">、<span class="_ _9"></span><span class="ff1f">Autodesk<span class="ff1d">、<span class="_ _5"></span><span class="ff1f">SAP<span class="ff1d">、<span class="_ _9"></span><span class="ff1f">Kodak<span class="ff1d">、<span class="_ _5"></span><span class="ff1f">EA<span class="ff1d">、<span class="_ _5"></span><span class="ff1f">Gameloft<span class="_ _e"> </span><span class="ff1d">等多家企业在</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div class="t m0 x2a h1f y7c ff1d fsf fc5 sc0 ls1 ws1">美国、中国从事苹果及其相关产品开发，并有多名学生自主创业。</div><div class="t m0 x1b h22 y5c ff1f fsf fc5 sc0 ls1 ws1">107</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf75" class="pf w3 h1b" data-page-no="75"><div class="pc pc75 w3 h1b"><div class="t m0 x2a h21 y7d ff1f fsf fc5 sc0 ls1 ws1">108<span class="_ _97"> </span><span class="ff1e">同济大学苹果开发俱乐部介绍</span></div><div class="t m0 x1a h1f y7e ff1d fsf fc5 sc0 ls1 ws1">十多年来，<span class="_ _3f"></span>同济大学苹果俱乐部获得了<span class="_ _34"></span>“苹果杰出贡献奖”<span class="_ _98"></span>“苹果先驱俱乐部奖”<span class="_ _98"></span>“苹果优秀</div><div class="t m0 x2a h1f yb3 ff1d fsf fc5 sc0 ls1 ws1">俱乐部奖”<span class="_ _99"></span>“苹果杰出实验室奖”<span class="_ _84"></span>等荣誉；<span class="_ _84"></span>指导教师先后获得了<span class="_ _40"></span>“苹果杰出教育专家<span class="_ _9"></span>（<span class="ff1f">ADE</span>）<span class="_ _39"></span>”<span class="_ _99"></span>“苹</div><div class="t m0 x2a h1f yb4 ff1d fsf fc5 sc0 ls1 ws1">果杰出教师奖”等奖项。</div><div class="t m0 x1a h1f y29e ff1d fsf fc5 sc0 ls1 ws1">俱<span class="_ _0"></span>乐<span class="_ _0"></span>部也<span class="_ _0"></span>获<span class="_ _0"></span>得<span class="_ _0"></span>了广<span class="_ _0"></span>大<span class="_ _0"></span>媒<span class="_ _0"></span>体的<span class="_ _0"></span>多<span class="_ _0"></span>方<span class="_ _0"></span>报道，<span class="_ _0"></span>接<span class="_ _0"></span>受<span class="_ _0"></span>了<span class="_ _a"> </span><span class="ff1f">CCTV</span>、<span class="_ _0"></span>新<span class="_ _0"></span>浪<span class="_ _0"></span>网、搜<span class="_ _0"></span>狐<span class="_ _0"></span>网、<span class="_ _0"></span>网易、<span class="ff1f">CSDN</span>、</div><div class="t m0 x2a h1f y8ca ff1f fsf fc5 sc0 ls1 ws1">T<span class="_ _9"></span>encent<span class="_ _e"> </span><span class="ff1d">等多个媒体的采<span class="_ _0"></span>访，同时也接受了包括《第一财经周刊》<span class="_ _c"></span>《解放日报》<span class="_ _0"></span>等在内的多个平</span></div><div class="t m0 x2a h1f y8cb ff1d fsf fc5 sc0 ls1 ws1">面媒<span class="_ _0"></span>体的采访，<span class="_ _0"></span>登上了<span class="_ _a"> </span><span class="ff1f">2<span class="_ _a"> </span></span>期《第一<span class="_ _0"></span>财经周<span class="_ _0"></span>刊》封面故<span class="_ _0"></span>事。同时<span class="_ _0"></span>作为高校<span class="_ _0"></span>与跨国<span class="_ _a"> </span><span class="ff1f">IT<span class="_ _a"> </span></span>企业的<span class="_ _0"></span>成功</div><div class="t m0 x2a h1f y8cc ff1d fsf fc5 sc0 ls1 ws1">合作案例，<span class="_ _5"></span>入选教育部组织编写的《中国高校与大型企业合作经典案例集》<span class="_ _39"></span>。<span class="_ _5"></span>全国政协副主席董</div><div class="t m0 x2a h1f y94d ff1d fsf fc5 sc0 ls1 ws1">建<span class="_ _0"></span>华、科<span class="_ _0"></span>技部<span class="_ _0"></span>部<span class="_ _0"></span>长万<span class="_ _0"></span>钢、教<span class="_ _0"></span>育部<span class="_ _0"></span>副<span class="_ _0"></span>部长<span class="_ _0"></span>吴启<span class="_ _0"></span>迪、<span class="_ _0"></span>苹果<span class="_ _0"></span>公司<span class="_ _0"></span>全<span class="_ _0"></span>球高<span class="_ _0"></span>级副<span class="_ _0"></span>总<span class="_ _0"></span>裁<span class="_ _a"> </span><span class="ff1f">Philip<span class="_ _a"> </span>W.<span class="_ _a"> </span>Schiller</span>、</div><div class="t m0 x2a h1f y94e ff1f fsf fc5 sc0 ls1 ws1">Ron<span class="_ _a"> </span>Okamoto<span class="ff1d">、法国参众议员<span class="_ _0"></span>访华代表团、众多<span class="_ _0"></span>国内外大学校长<span class="_ _0"></span>教授等均参观和<span class="_ _0"></span>指导过同济大</span></div><div class="t m0 x2a h1f y94f ff1d fsf fc5 sc0 ls1 ws1">学苹果俱乐部。</div><div class="t m0 x1a h1f y950 ff1d fsf fc5 sc0 ls1 ws1">同济大<span class="_ _0"></span>学苹果俱<span class="_ _0"></span>乐部在十<span class="_ _0"></span>多年的建<span class="_ _0"></span>设过程中，<span class="_ _0"></span>始终坚持以<span class="_ _0"></span>学生为本，<span class="_ _0"></span>以创新为<span class="_ _0"></span>本，坚持以</div><div class="t m0 x2a h1f y951 ff1d fsf fc5 sc0 ls1 ws1">工程实际需求为导向，和国内外相关企业积极合<span class="_ _0"></span>作，鼓励学生自主创新，以专业教师进行指导，</div><div class="t m0 x2a h1f y952 ff1d fsf fc5 sc0 ls1 ws1">为学生<span class="_ _0"></span>创造良好<span class="_ _0"></span>的软硬件环<span class="_ _0"></span>境，为学生<span class="_ _0"></span>的成长、成才<span class="_ _0"></span>提供有力<span class="_ _0"></span>的保障，体<span class="_ _0"></span>现了同济大<span class="_ _0"></span>学软件学</div><div class="t m0 x2a h1f y953 ff1d fsf fc5 sc0 ls1 ws1">院创新人才培养和前沿化、工程化、国际化，理论基础和实践技能协调发展的培养理念。</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
</div>
<div class="loading-indicator">
<img alt="" src="pdf2htmlEX-64x64.png"/>
</div>
</body>
</html>
